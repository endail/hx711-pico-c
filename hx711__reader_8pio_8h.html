<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.9.1"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>hx711-pico-c: include/hx711_reader.pio.h File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">hx711-pico-c
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.1 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search','.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(document).ready(function(){initNavTree('hx711__reader_8pio_8h.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#define-members">Macros</a> &#124;
<a href="#func-members">Functions</a> &#124;
<a href="#var-members">Variables</a>  </div>
  <div class="headertitle">
<div class="title">hx711_reader.pio.h File Reference</div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><code>#include &quot;hardware/pio.h&quot;</code><br />
<code>#include &lt;assert.h&gt;</code><br />
<code>#include &lt;stddef.h&gt;</code><br />
<code>#include &quot;hardware/clocks.h&quot;</code><br />
<code>#include &quot;hardware/structs/clocks.h&quot;</code><br />
<code>#include &quot;<a class="el" href="hx711_8h_source.html">hx711.h</a>&quot;</code><br />
</div>
<p><a href="hx711__reader_8pio_8h_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="define-members"></a>
Macros</h2></td></tr>
<tr class="memitem:aa6c2247a0d5d70c8346680467374fd3f"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="hx711__reader_8pio_8h.html#aa6c2247a0d5d70c8346680467374fd3f">hx711_reader_wrap_target</a>&#160;&#160;&#160;3</td></tr>
<tr class="separator:aa6c2247a0d5d70c8346680467374fd3f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8c014cf10652e31fb39e665aa32ccd0b"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="hx711__reader_8pio_8h.html#a8c014cf10652e31fb39e665aa32ccd0b">hx711_reader_wrap</a>&#160;&#160;&#160;13</td></tr>
<tr class="separator:a8c014cf10652e31fb39e665aa32ccd0b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3bcbf2c379fba4ccf136e53a6b13b017"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="hx711__reader_8pio_8h.html#a3bcbf2c379fba4ccf136e53a6b13b017">hx711_reader_HZ</a>&#160;&#160;&#160;10000000</td></tr>
<tr class="separator:a3bcbf2c379fba4ccf136e53a6b13b017"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:ae9919e3384800cdcac7115b053d17356"><td class="memItemLeft" align="right" valign="top">static pio_sm_config&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="hx711__reader_8pio_8h.html#ae9919e3384800cdcac7115b053d17356">hx711_reader_program_get_default_config</a> (uint offset)</td></tr>
<tr class="separator:ae9919e3384800cdcac7115b053d17356"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acf956323225664a04e3c2dc4663ace54"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="hx711__reader_8pio_8h.html#acf956323225664a04e3c2dc4663ace54">hx711_reader_pio_init</a> (<a class="el" href="structhx711__t.html">hx711_t</a> *const hx)</td></tr>
<tr class="separator:acf956323225664a04e3c2dc4663ace54"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aab023017d62d740058b3d83f8a69446c"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="hx711__reader_8pio_8h.html#aab023017d62d740058b3d83f8a69446c">hx711_reader_program_init</a> (<a class="el" href="structhx711__t.html">hx711_t</a> *const hx)</td></tr>
<tr class="separator:aab023017d62d740058b3d83f8a69446c"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="var-members"></a>
Variables</h2></td></tr>
<tr class="memitem:ac08a3267baf9c717b5cbc913661fcfa9"><td class="memItemLeft" align="right" valign="top">static const uint16_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="hx711__reader_8pio_8h.html#ac08a3267baf9c717b5cbc913661fcfa9">hx711_reader_program_instructions</a> []</td></tr>
<tr class="separator:ac08a3267baf9c717b5cbc913661fcfa9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a70c55405137a8cedba224ed85ea1b1cf"><td class="memItemLeft" align="right" valign="top">static const struct pio_program&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="hx711__reader_8pio_8h.html#a70c55405137a8cedba224ed85ea1b1cf">hx711_reader_program</a></td></tr>
<tr class="separator:a70c55405137a8cedba224ed85ea1b1cf"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<h2 class="groupheader">Macro Definition Documentation</h2>
<a id="a3bcbf2c379fba4ccf136e53a6b13b017"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3bcbf2c379fba4ccf136e53a6b13b017">&#9670;&nbsp;</a></span>hx711_reader_HZ</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define hx711_reader_HZ&#160;&#160;&#160;10000000</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="hx711__reader_8pio_8h_source.html#l00018">18</a> of file <a class="el" href="hx711__reader_8pio_8h_source.html">hx711_reader.pio.h</a>.</p>

</div>
</div>
<a id="a8c014cf10652e31fb39e665aa32ccd0b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8c014cf10652e31fb39e665aa32ccd0b">&#9670;&nbsp;</a></span>hx711_reader_wrap</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define hx711_reader_wrap&#160;&#160;&#160;13</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="hx711__reader_8pio_8h_source.html#l00016">16</a> of file <a class="el" href="hx711__reader_8pio_8h_source.html">hx711_reader.pio.h</a>.</p>

</div>
</div>
<a id="aa6c2247a0d5d70c8346680467374fd3f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa6c2247a0d5d70c8346680467374fd3f">&#9670;&nbsp;</a></span>hx711_reader_wrap_target</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define hx711_reader_wrap_target&#160;&#160;&#160;3</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="hx711__reader_8pio_8h_source.html#l00015">15</a> of file <a class="el" href="hx711__reader_8pio_8h_source.html">hx711_reader.pio.h</a>.</p>

</div>
</div>
<h2 class="groupheader">Function Documentation</h2>
<a id="acf956323225664a04e3c2dc4663ace54"></a>
<h2 class="memtitle"><span class="permalink"><a href="#acf956323225664a04e3c2dc4663ace54">&#9670;&nbsp;</a></span>hx711_reader_pio_init()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void hx711_reader_pio_init </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structhx711__t.html">hx711_t</a> *const&#160;</td>
          <td class="paramname"><em>hx</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="hx711__reader_8pio_8h_source.html#l00080">80</a> of file <a class="el" href="hx711__reader_8pio_8h_source.html">hx711_reader.pio.h</a>.</p>
<div class="fragment"><div class="line"><a name="l00080"></a><span class="lineno">   80</span>&#160;                                              {</div>
<div class="line"><a name="l00081"></a><span class="lineno">   81</span>&#160;    assert(hx != NULL);</div>
<div class="line"><a name="l00082"></a><span class="lineno">   82</span>&#160;    assert(hx-&gt;<a class="code" href="structhx711__t.html#a77b81a68b9304dc653e393215beacd77">_pio</a> != NULL);</div>
<div class="line"><a name="l00083"></a><span class="lineno">   83</span>&#160;    pio_gpio_init(</div>
<div class="line"><a name="l00084"></a><span class="lineno">   84</span>&#160;        hx-&gt;<a class="code" href="structhx711__t.html#a77b81a68b9304dc653e393215beacd77">_pio</a>,</div>
<div class="line"><a name="l00085"></a><span class="lineno">   85</span>&#160;        hx-&gt;<a class="code" href="structhx711__t.html#ae1df16a9d73a4e9590105fd5827af59d">_clock_pin</a>);</div>
<div class="line"><a name="l00086"></a><span class="lineno">   86</span>&#160;    <span class="comment">//clock pin setup</span></div>
<div class="line"><a name="l00087"></a><span class="lineno">   87</span>&#160;    pio_sm_set_out_pins(</div>
<div class="line"><a name="l00088"></a><span class="lineno">   88</span>&#160;        hx-&gt;<a class="code" href="structhx711__t.html#a77b81a68b9304dc653e393215beacd77">_pio</a>,</div>
<div class="line"><a name="l00089"></a><span class="lineno">   89</span>&#160;        hx-&gt;<a class="code" href="structhx711__t.html#aa5755f6b2a71c61e822d67fb43cdc897">_reader_sm</a>,</div>
<div class="line"><a name="l00090"></a><span class="lineno">   90</span>&#160;        hx-&gt;<a class="code" href="structhx711__t.html#ae1df16a9d73a4e9590105fd5827af59d">_clock_pin</a>,</div>
<div class="line"><a name="l00091"></a><span class="lineno">   91</span>&#160;        1);</div>
<div class="line"><a name="l00092"></a><span class="lineno">   92</span>&#160;    pio_sm_set_set_pins(</div>
<div class="line"><a name="l00093"></a><span class="lineno">   93</span>&#160;        hx-&gt;<a class="code" href="structhx711__t.html#a77b81a68b9304dc653e393215beacd77">_pio</a>,</div>
<div class="line"><a name="l00094"></a><span class="lineno">   94</span>&#160;        hx-&gt;<a class="code" href="structhx711__t.html#aa5755f6b2a71c61e822d67fb43cdc897">_reader_sm</a>,</div>
<div class="line"><a name="l00095"></a><span class="lineno">   95</span>&#160;        hx-&gt;<a class="code" href="structhx711__t.html#ae1df16a9d73a4e9590105fd5827af59d">_clock_pin</a>,</div>
<div class="line"><a name="l00096"></a><span class="lineno">   96</span>&#160;        1);</div>
<div class="line"><a name="l00097"></a><span class="lineno">   97</span>&#160;    pio_sm_set_consecutive_pindirs(</div>
<div class="line"><a name="l00098"></a><span class="lineno">   98</span>&#160;        hx-&gt;<a class="code" href="structhx711__t.html#a77b81a68b9304dc653e393215beacd77">_pio</a>,</div>
<div class="line"><a name="l00099"></a><span class="lineno">   99</span>&#160;        hx-&gt;<a class="code" href="structhx711__t.html#aa5755f6b2a71c61e822d67fb43cdc897">_reader_sm</a>,</div>
<div class="line"><a name="l00100"></a><span class="lineno">  100</span>&#160;        hx-&gt;<a class="code" href="structhx711__t.html#ae1df16a9d73a4e9590105fd5827af59d">_clock_pin</a>,</div>
<div class="line"><a name="l00101"></a><span class="lineno">  101</span>&#160;        1,</div>
<div class="line"><a name="l00102"></a><span class="lineno">  102</span>&#160;        <span class="keyword">true</span>);</div>
<div class="line"><a name="l00103"></a><span class="lineno">  103</span>&#160;    <span class="comment">//data pin setup</span></div>
<div class="line"><a name="l00104"></a><span class="lineno">  104</span>&#160;    pio_gpio_init(</div>
<div class="line"><a name="l00105"></a><span class="lineno">  105</span>&#160;        hx-&gt;<a class="code" href="structhx711__t.html#a77b81a68b9304dc653e393215beacd77">_pio</a>,</div>
<div class="line"><a name="l00106"></a><span class="lineno">  106</span>&#160;        hx-&gt;<a class="code" href="structhx711__t.html#a43e31038f478ea8fe41b7f5f3acf1b9a">_data_pin</a>);</div>
<div class="line"><a name="l00107"></a><span class="lineno">  107</span>&#160;    pio_sm_set_in_pins(</div>
<div class="line"><a name="l00108"></a><span class="lineno">  108</span>&#160;        hx-&gt;<a class="code" href="structhx711__t.html#a77b81a68b9304dc653e393215beacd77">_pio</a>,</div>
<div class="line"><a name="l00109"></a><span class="lineno">  109</span>&#160;        hx-&gt;<a class="code" href="structhx711__t.html#aa5755f6b2a71c61e822d67fb43cdc897">_reader_sm</a>,</div>
<div class="line"><a name="l00110"></a><span class="lineno">  110</span>&#160;        hx-&gt;<a class="code" href="structhx711__t.html#a43e31038f478ea8fe41b7f5f3acf1b9a">_data_pin</a>);</div>
<div class="line"><a name="l00111"></a><span class="lineno">  111</span>&#160;    pio_sm_set_consecutive_pindirs(</div>
<div class="line"><a name="l00112"></a><span class="lineno">  112</span>&#160;        hx-&gt;<a class="code" href="structhx711__t.html#a77b81a68b9304dc653e393215beacd77">_pio</a>,</div>
<div class="line"><a name="l00113"></a><span class="lineno">  113</span>&#160;        hx-&gt;<a class="code" href="structhx711__t.html#aa5755f6b2a71c61e822d67fb43cdc897">_reader_sm</a>,</div>
<div class="line"><a name="l00114"></a><span class="lineno">  114</span>&#160;        hx-&gt;<a class="code" href="structhx711__t.html#a43e31038f478ea8fe41b7f5f3acf1b9a">_data_pin</a>,</div>
<div class="line"><a name="l00115"></a><span class="lineno">  115</span>&#160;        1,</div>
<div class="line"><a name="l00116"></a><span class="lineno">  116</span>&#160;        <span class="keyword">false</span>);</div>
<div class="line"><a name="l00117"></a><span class="lineno">  117</span>&#160;}</div>
<div class="ttc" id="astructhx711__t_html_a43e31038f478ea8fe41b7f5f3acf1b9a"><div class="ttname"><a href="structhx711__t.html#a43e31038f478ea8fe41b7f5f3acf1b9a">hx711_t::_data_pin</a></div><div class="ttdeci">uint _data_pin</div><div class="ttdef"><b>Definition:</b> <a href="hx711_8h_source.html#l00076">hx711.h:76</a></div></div>
<div class="ttc" id="astructhx711__t_html_a77b81a68b9304dc653e393215beacd77"><div class="ttname"><a href="structhx711__t.html#a77b81a68b9304dc653e393215beacd77">hx711_t::_pio</a></div><div class="ttdeci">PIO _pio</div><div class="ttdef"><b>Definition:</b> <a href="hx711_8h_source.html#l00078">hx711.h:78</a></div></div>
<div class="ttc" id="astructhx711__t_html_aa5755f6b2a71c61e822d67fb43cdc897"><div class="ttname"><a href="structhx711__t.html#aa5755f6b2a71c61e822d67fb43cdc897">hx711_t::_reader_sm</a></div><div class="ttdeci">uint _reader_sm</div><div class="ttdef"><b>Definition:</b> <a href="hx711_8h_source.html#l00081">hx711.h:81</a></div></div>
<div class="ttc" id="astructhx711__t_html_ae1df16a9d73a4e9590105fd5827af59d"><div class="ttname"><a href="structhx711__t.html#ae1df16a9d73a4e9590105fd5827af59d">hx711_t::_clock_pin</a></div><div class="ttdeci">uint _clock_pin</div><div class="ttdef"><b>Definition:</b> <a href="hx711_8h_source.html#l00075">hx711.h:75</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="hx711_8h_source.html#l00075">hx711_t::_clock_pin</a>, <a class="el" href="hx711_8h_source.html#l00076">hx711_t::_data_pin</a>, <a class="el" href="hx711_8h_source.html#l00078">hx711_t::_pio</a>, and <a class="el" href="hx711_8h_source.html#l00081">hx711_t::_reader_sm</a>.</p>

</div>
</div>
<a id="ae9919e3384800cdcac7115b053d17356"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae9919e3384800cdcac7115b053d17356">&#9670;&nbsp;</a></span>hx711_reader_program_get_default_config()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static pio_sm_config hx711_reader_program_get_default_config </td>
          <td>(</td>
          <td class="paramtype">uint&#160;</td>
          <td class="paramname"><em>offset</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="hx711__reader_8pio_8h_source.html#l00046">46</a> of file <a class="el" href="hx711__reader_8pio_8h_source.html">hx711_reader.pio.h</a>.</p>
<div class="fragment"><div class="line"><a name="l00046"></a><span class="lineno">   46</span>&#160;                                                                                 {</div>
<div class="line"><a name="l00047"></a><span class="lineno">   47</span>&#160;    pio_sm_config c = pio_get_default_sm_config();</div>
<div class="line"><a name="l00048"></a><span class="lineno">   48</span>&#160;    sm_config_set_wrap(&amp;c, offset + <a class="code" href="hx711__reader_8pio_8h.html#aa6c2247a0d5d70c8346680467374fd3f">hx711_reader_wrap_target</a>, offset + <a class="code" href="hx711__reader_8pio_8h.html#a8c014cf10652e31fb39e665aa32ccd0b">hx711_reader_wrap</a>);</div>
<div class="line"><a name="l00049"></a><span class="lineno">   49</span>&#160;    sm_config_set_sideset(&amp;c, 2, <span class="keyword">true</span>, <span class="keyword">false</span>);</div>
<div class="line"><a name="l00050"></a><span class="lineno">   50</span>&#160;    <span class="keywordflow">return</span> c;</div>
<div class="line"><a name="l00051"></a><span class="lineno">   51</span>&#160;}</div>
<div class="ttc" id="ahx711__reader_8pio_8h_html_a8c014cf10652e31fb39e665aa32ccd0b"><div class="ttname"><a href="hx711__reader_8pio_8h.html#a8c014cf10652e31fb39e665aa32ccd0b">hx711_reader_wrap</a></div><div class="ttdeci">#define hx711_reader_wrap</div><div class="ttdef"><b>Definition:</b> <a href="hx711__reader_8pio_8h_source.html#l00016">hx711_reader.pio.h:16</a></div></div>
<div class="ttc" id="ahx711__reader_8pio_8h_html_aa6c2247a0d5d70c8346680467374fd3f"><div class="ttname"><a href="hx711__reader_8pio_8h.html#aa6c2247a0d5d70c8346680467374fd3f">hx711_reader_wrap_target</a></div><div class="ttdeci">#define hx711_reader_wrap_target</div><div class="ttdef"><b>Definition:</b> <a href="hx711__reader_8pio_8h_source.html#l00015">hx711_reader.pio.h:15</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="hx711__reader_8pio_8h_source.html#l00016">hx711_reader_wrap</a>, and <a class="el" href="hx711__reader_8pio_8h_source.html#l00015">hx711_reader_wrap_target</a>.</p>

<p class="reference">Referenced by <a class="el" href="hx711__reader_8pio_8h_source.html#l00118">hx711_reader_program_init()</a>.</p>

</div>
</div>
<a id="aab023017d62d740058b3d83f8a69446c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aab023017d62d740058b3d83f8a69446c">&#9670;&nbsp;</a></span>hx711_reader_program_init()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void hx711_reader_program_init </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structhx711__t.html">hx711_t</a> *const&#160;</td>
          <td class="paramname"><em>hx</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Why enable autopush?</p>
<p>"The state machine keeps an eye on the total amount of data shifted into the ISR, and on the in which reaches or breaches a total shift count of 32 (or whatever number you have configured), the ISR contents, along with the new data from the in. goes straight to the RX FIFO. The ISR is cleared to zero in the same operation."</p><ul>
<li>Raspberry Pi Pico C/C++ SDK pg. 45</li>
</ul>
<p>When manually pushing using noblock, the FIFO contents are NOT changed.</p>
<p>"The PIO assembler sets the Block bit by default. If the Block bit is not set, the PUSH does not stall on a full RX FIFO, instead continuing immediately to the next instruction. The FIFO state and contents are unchanged when this happens. The ISR is still cleared to all-zeroes, and the FDEBUG_RXSTALL flag is set (the same as a blocking PUSH or autopush to a full RX FIFO) to indicate data was lost."</p><ul>
<li>Raspberry Pi Pico C/C++ SDK pg. 64</li>
</ul>
<p>Manually pushing is not ideal. Application code should be able to look at the FIFO and assume that the value inside is the most up-to-date data available. Autopushing does this.</p>

<p class="definition">Definition at line <a class="el" href="hx711__reader_8pio_8h_source.html#l00118">118</a> of file <a class="el" href="hx711__reader_8pio_8h_source.html">hx711_reader.pio.h</a>.</p>
<div class="fragment"><div class="line"><a name="l00118"></a><span class="lineno">  118</span>&#160;                                                  {</div>
<div class="line"><a name="l00119"></a><span class="lineno">  119</span>&#160;    assert(hx != NULL);</div>
<div class="line"><a name="l00120"></a><span class="lineno">  120</span>&#160;    assert(hx-&gt;<a class="code" href="structhx711__t.html#a77b81a68b9304dc653e393215beacd77">_pio</a> != NULL);</div>
<div class="line"><a name="l00121"></a><span class="lineno">  121</span>&#160;    pio_sm_config cfg = <a class="code" href="hx711__reader_8pio_8h.html#ae9919e3384800cdcac7115b053d17356">hx711_reader_program_get_default_config</a>(</div>
<div class="line"><a name="l00122"></a><span class="lineno">  122</span>&#160;        hx-&gt;<a class="code" href="structhx711__t.html#afd9b1e72d85d9d22aa04c726a4edf6a0">_reader_offset</a>);</div>
<div class="line"><a name="l00123"></a><span class="lineno">  123</span>&#160;    <span class="keyword">const</span> <span class="keywordtype">float</span> div = (float)(clock_get_hz(clk_sys)) / (uint)<a class="code" href="hx711__reader_8pio_8h.html#a3bcbf2c379fba4ccf136e53a6b13b017">hx711_reader_HZ</a>;</div>
<div class="line"><a name="l00124"></a><span class="lineno">  124</span>&#160;    sm_config_set_clkdiv(</div>
<div class="line"><a name="l00125"></a><span class="lineno">  125</span>&#160;        &amp;cfg,</div>
<div class="line"><a name="l00126"></a><span class="lineno">  126</span>&#160;        div);</div>
<div class="line"><a name="l00127"></a><span class="lineno">  127</span>&#160;    sm_config_set_set_pins(</div>
<div class="line"><a name="l00128"></a><span class="lineno">  128</span>&#160;        &amp;cfg,</div>
<div class="line"><a name="l00129"></a><span class="lineno">  129</span>&#160;        hx-&gt;<a class="code" href="structhx711__t.html#ae1df16a9d73a4e9590105fd5827af59d">_clock_pin</a>,</div>
<div class="line"><a name="l00130"></a><span class="lineno">  130</span>&#160;        1);</div>
<div class="line"><a name="l00131"></a><span class="lineno">  131</span>&#160;    sm_config_set_out_pins(</div>
<div class="line"><a name="l00132"></a><span class="lineno">  132</span>&#160;        &amp;cfg,</div>
<div class="line"><a name="l00133"></a><span class="lineno">  133</span>&#160;        hx-&gt;<a class="code" href="structhx711__t.html#ae1df16a9d73a4e9590105fd5827af59d">_clock_pin</a>,</div>
<div class="line"><a name="l00134"></a><span class="lineno">  134</span>&#160;        1);</div>
<div class="line"><a name="l00135"></a><span class="lineno">  135</span>&#160;    sm_config_set_sideset_pins(</div>
<div class="line"><a name="l00136"></a><span class="lineno">  136</span>&#160;        &amp;cfg,</div>
<div class="line"><a name="l00137"></a><span class="lineno">  137</span>&#160;        hx-&gt;<a class="code" href="structhx711__t.html#ae1df16a9d73a4e9590105fd5827af59d">_clock_pin</a>);</div>
<div class="line"><a name="l00138"></a><span class="lineno">  138</span>&#160;    sm_config_set_in_pins(</div>
<div class="line"><a name="l00139"></a><span class="lineno">  139</span>&#160;        &amp;cfg,</div>
<div class="line"><a name="l00140"></a><span class="lineno">  140</span>&#160;        hx-&gt;<a class="code" href="structhx711__t.html#a43e31038f478ea8fe41b7f5f3acf1b9a">_data_pin</a>);</div>
<div class="line"><a name="l00160"></a><span class="lineno">  160</span>&#160;    sm_config_set_in_shift(</div>
<div class="line"><a name="l00161"></a><span class="lineno">  161</span>&#160;        &amp;cfg,</div>
<div class="line"><a name="l00162"></a><span class="lineno">  162</span>&#160;        <span class="keyword">false</span>,            <span class="comment">//false = shift in left</span></div>
<div class="line"><a name="l00163"></a><span class="lineno">  163</span>&#160;        <span class="keyword">true</span>,             <span class="comment">//true = autopush enabled</span></div>
<div class="line"><a name="l00164"></a><span class="lineno">  164</span>&#160;        <a class="code" href="hx711_8h.html#aa27f0501a4e5a1c5d24c0d63caccd21e">HX711_READ_BITS</a>); <span class="comment">//autopush on 24 bits</span></div>
<div class="line"><a name="l00165"></a><span class="lineno">  165</span>&#160;    pio_sm_clear_fifos(</div>
<div class="line"><a name="l00166"></a><span class="lineno">  166</span>&#160;        hx-&gt;<a class="code" href="structhx711__t.html#a77b81a68b9304dc653e393215beacd77">_pio</a>,</div>
<div class="line"><a name="l00167"></a><span class="lineno">  167</span>&#160;        hx-&gt;<a class="code" href="structhx711__t.html#aa5755f6b2a71c61e822d67fb43cdc897">_reader_sm</a>);</div>
<div class="line"><a name="l00168"></a><span class="lineno">  168</span>&#160;    <span class="comment">//store a copy of the configuration for resetting the sm</span></div>
<div class="line"><a name="l00169"></a><span class="lineno">  169</span>&#160;    hx-&gt;<a class="code" href="structhx711__t.html#ace511528cec8c202a5ae9648ebe2cef9">_reader_prog_default_config</a> = cfg;</div>
<div class="line"><a name="l00170"></a><span class="lineno">  170</span>&#160;}</div>
<div class="ttc" id="ahx711_8h_html_aa27f0501a4e5a1c5d24c0d63caccd21e"><div class="ttname"><a href="hx711_8h.html#aa27f0501a4e5a1c5d24c0d63caccd21e">HX711_READ_BITS</a></div><div class="ttdeci">#define HX711_READ_BITS</div><div class="ttdef"><b>Definition:</b> <a href="hx711_8h_source.html#l00049">hx711.h:49</a></div></div>
<div class="ttc" id="ahx711__reader_8pio_8h_html_a3bcbf2c379fba4ccf136e53a6b13b017"><div class="ttname"><a href="hx711__reader_8pio_8h.html#a3bcbf2c379fba4ccf136e53a6b13b017">hx711_reader_HZ</a></div><div class="ttdeci">#define hx711_reader_HZ</div><div class="ttdef"><b>Definition:</b> <a href="hx711__reader_8pio_8h_source.html#l00018">hx711_reader.pio.h:18</a></div></div>
<div class="ttc" id="ahx711__reader_8pio_8h_html_ae9919e3384800cdcac7115b053d17356"><div class="ttname"><a href="hx711__reader_8pio_8h.html#ae9919e3384800cdcac7115b053d17356">hx711_reader_program_get_default_config</a></div><div class="ttdeci">static pio_sm_config hx711_reader_program_get_default_config(uint offset)</div><div class="ttdef"><b>Definition:</b> <a href="hx711__reader_8pio_8h_source.html#l00046">hx711_reader.pio.h:46</a></div></div>
<div class="ttc" id="astructhx711__t_html_ace511528cec8c202a5ae9648ebe2cef9"><div class="ttname"><a href="structhx711__t.html#ace511528cec8c202a5ae9648ebe2cef9">hx711_t::_reader_prog_default_config</a></div><div class="ttdeci">pio_sm_config _reader_prog_default_config</div><div class="ttdef"><b>Definition:</b> <a href="hx711_8h_source.html#l00080">hx711.h:80</a></div></div>
<div class="ttc" id="astructhx711__t_html_afd9b1e72d85d9d22aa04c726a4edf6a0"><div class="ttname"><a href="structhx711__t.html#afd9b1e72d85d9d22aa04c726a4edf6a0">hx711_t::_reader_offset</a></div><div class="ttdeci">uint _reader_offset</div><div class="ttdef"><b>Definition:</b> <a href="hx711_8h_source.html#l00082">hx711.h:82</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="hx711_8h_source.html#l00075">hx711_t::_clock_pin</a>, <a class="el" href="hx711_8h_source.html#l00076">hx711_t::_data_pin</a>, <a class="el" href="hx711_8h_source.html#l00078">hx711_t::_pio</a>, <a class="el" href="hx711_8h_source.html#l00082">hx711_t::_reader_offset</a>, <a class="el" href="hx711_8h_source.html#l00080">hx711_t::_reader_prog_default_config</a>, <a class="el" href="hx711_8h_source.html#l00081">hx711_t::_reader_sm</a>, <a class="el" href="hx711_8h_source.html#l00049">HX711_READ_BITS</a>, <a class="el" href="hx711__reader_8pio_8h_source.html#l00018">hx711_reader_HZ</a>, and <a class="el" href="hx711__reader_8pio_8h_source.html#l00046">hx711_reader_program_get_default_config()</a>.</p>

</div>
</div>
<h2 class="groupheader">Variable Documentation</h2>
<a id="a70c55405137a8cedba224ed85ea1b1cf"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a70c55405137a8cedba224ed85ea1b1cf">&#9670;&nbsp;</a></span>hx711_reader_program</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">const struct pio_program hx711_reader_program</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<b>Initial value:</b><div class="fragment"><div class="line">= {</div>
<div class="line">    .instructions = <a class="code" href="hx711__reader_8pio_8h.html#ac08a3267baf9c717b5cbc913661fcfa9">hx711_reader_program_instructions</a>,</div>
<div class="line">    .length = 14,</div>
<div class="line">    .origin = -1,</div>
<div class="line">}</div>
<div class="ttc" id="ahx711__reader_8pio_8h_html_ac08a3267baf9c717b5cbc913661fcfa9"><div class="ttname"><a href="hx711__reader_8pio_8h.html#ac08a3267baf9c717b5cbc913661fcfa9">hx711_reader_program_instructions</a></div><div class="ttdeci">static const uint16_t hx711_reader_program_instructions[]</div><div class="ttdef"><b>Definition:</b> <a href="hx711__reader_8pio_8h_source.html#l00020">hx711_reader.pio.h:20</a></div></div>
</div><!-- fragment -->
<p class="definition">Definition at line <a class="el" href="hx711__reader_8pio_8h_source.html#l00020">20</a> of file <a class="el" href="hx711__reader_8pio_8h_source.html">hx711_reader.pio.h</a>.</p>

</div>
</div>
<a id="ac08a3267baf9c717b5cbc913661fcfa9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac08a3267baf9c717b5cbc913661fcfa9">&#9670;&nbsp;</a></span>hx711_reader_program_instructions</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">const uint16_t hx711_reader_program_instructions[]</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<b>Initial value:</b><div class="fragment"><div class="line">= {</div>
<div class="line">    0xe020, </div>
<div class="line">    0x8080, </div>
<div class="line">    0x6020, </div>
<div class="line">            </div>
<div class="line">    0xe057, </div>
<div class="line">    0x2020, </div>
<div class="line">    0xe001, </div>
<div class="line">    0x4001, </div>
<div class="line">    0x1185, </div>
<div class="line">    0x9880, </div>
<div class="line">    0x6020, </div>
<div class="line">    0x1023, </div>
<div class="line">    0xa041, </div>
<div class="line">    0xe101, </div>
<div class="line">    0x118c, </div>
<div class="line">            </div>
<div class="line">}</div>
</div><!-- fragment -->
<p class="definition">Definition at line <a class="el" href="hx711__reader_8pio_8h_source.html#l00020">20</a> of file <a class="el" href="hx711__reader_8pio_8h_source.html">hx711_reader.pio.h</a>.</p>

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="dir_d44c64559bbebec7f509842c48db8b23.html">include</a></li><li class="navelem"><a class="el" href="hx711__reader_8pio_8h.html">hx711_reader.pio.h</a></li>
    <li class="footer">Generated on Tue Mar 14 2023 11:39:16 for hx711-pico-c by <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.1 </li>
  </ul>
</div>
</body>
</html>
