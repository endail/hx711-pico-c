<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.9.1"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>hx711-pico-c: src/hx711_multi.c File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">hx711-pico-c
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.1 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search','.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(document).ready(function(){initNavTree('hx711__multi_8c.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#func-members">Functions</a> &#124;
<a href="#var-members">Variables</a>  </div>
  <div class="headertitle">
<div class="title">hx711_multi.c File Reference</div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><code>#include &lt;assert.h&gt;</code><br />
<code>#include &lt;math.h&gt;</code><br />
<code>#include &lt;stddef.h&gt;</code><br />
<code>#include &lt;stdint.h&gt;</code><br />
<code>#include &lt;strings.h&gt;</code><br />
<code>#include &quot;hardware/dma.h&quot;</code><br />
<code>#include &quot;hardware/gpio.h&quot;</code><br />
<code>#include &quot;hardware/irq.h&quot;</code><br />
<code>#include &quot;hardware/pio.h&quot;</code><br />
<code>#include &quot;pico/mutex.h&quot;</code><br />
<code>#include &quot;pico/platform.h&quot;</code><br />
<code>#include &quot;pico/time.h&quot;</code><br />
<code>#include &quot;pico/types.h&quot;</code><br />
<code>#include &quot;<a class="el" href="hx711_8h_source.html">../include/hx711.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="hx711__multi_8h_source.html">../include/hx711_multi.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="util_8h_source.html">../include/util.h</a>&quot;</code><br />
</div>
<p><a href="hx711__multi_8c_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:ae42ed9d1dab3e22ef88f1578e86aade5"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="hx711__multi_8c.html#ae42ed9d1dab3e22ef88f1578e86aade5">hx711_multi__init_asert</a> (<a class="el" href="structhx711__multi__t.html">hx711_multi_t</a> *const hxm, const <a class="el" href="structhx711__multi__config__t.html">hx711_multi_config_t</a> *const config)</td></tr>
<tr class="separator:ae42ed9d1dab3e22ef88f1578e86aade5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab1d21290af28c078f43b2efa536677ed"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="hx711__multi_8c.html#ab1d21290af28c078f43b2efa536677ed">hx711_multi__init_pio</a> (<a class="el" href="structhx711__multi__t.html">hx711_multi_t</a> *const hxm)</td></tr>
<tr class="memdesc:ab1d21290af28c078f43b2efa536677ed"><td class="mdescLeft">&#160;</td><td class="mdescRight">Subroutine for initialising PIO.  <a href="hx711__multi_8c.html#ab1d21290af28c078f43b2efa536677ed">More...</a><br /></td></tr>
<tr class="separator:ab1d21290af28c078f43b2efa536677ed"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae049f0ef5524a30945ac858053e26703"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="hx711__multi_8c.html#ae049f0ef5524a30945ac858053e26703">hx711_multi__init_dma</a> (<a class="el" href="structhx711__multi__t.html">hx711_multi_t</a> *const hxm)</td></tr>
<tr class="memdesc:ae049f0ef5524a30945ac858053e26703"><td class="mdescLeft">&#160;</td><td class="mdescRight">Subroutine for initialising DMA.  <a href="hx711__multi_8c.html#ae049f0ef5524a30945ac858053e26703">More...</a><br /></td></tr>
<tr class="separator:ae049f0ef5524a30945ac858053e26703"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6fb25bdb70dfbf5552a31a62d5f4bd1d"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="hx711__multi_8c.html#a6fb25bdb70dfbf5552a31a62d5f4bd1d">hx711_multi__init_irq</a> (<a class="el" href="structhx711__multi__t.html">hx711_multi_t</a> *const hxm)</td></tr>
<tr class="memdesc:a6fb25bdb70dfbf5552a31a62d5f4bd1d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Subroutine for initialising IRQ.  <a href="hx711__multi_8c.html#a6fb25bdb70dfbf5552a31a62d5f4bd1d">More...</a><br /></td></tr>
<tr class="separator:a6fb25bdb70dfbf5552a31a62d5f4bd1d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a36393a55b26bc2ba905059cf830a7da2"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="hx711__multi_8c.html#a36393a55b26bc2ba905059cf830a7da2">hx711_multi__async_dma_irq_is_set</a> (<a class="el" href="structhx711__multi__t.html">hx711_multi_t</a> *const hxm)</td></tr>
<tr class="memdesc:a36393a55b26bc2ba905059cf830a7da2"><td class="mdescLeft">&#160;</td><td class="mdescRight">Whether a given hxm is the cause of the current DMA IRQ.  <a href="hx711__multi_8c.html#a36393a55b26bc2ba905059cf830a7da2">More...</a><br /></td></tr>
<tr class="separator:a36393a55b26bc2ba905059cf830a7da2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ade6c2db37be1ffdc511fd187dcd4a021"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="hx711__multi_8c.html#ade6c2db37be1ffdc511fd187dcd4a021">hx711_multi__async_pio_irq_is_set</a> (<a class="el" href="structhx711__multi__t.html">hx711_multi_t</a> *const hxm)</td></tr>
<tr class="memdesc:ade6c2db37be1ffdc511fd187dcd4a021"><td class="mdescLeft">&#160;</td><td class="mdescRight">Whether a given hxm is the cause of the current PIO IRQ.  <a href="hx711__multi_8c.html#ade6c2db37be1ffdc511fd187dcd4a021">More...</a><br /></td></tr>
<tr class="separator:ade6c2db37be1ffdc511fd187dcd4a021"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a392a2e4a9514283f5a94d5640314ca86"><td class="memItemLeft" align="right" valign="top"><a class="el" href="structhx711__multi__t.html">hx711_multi_t</a> *const&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="hx711__multi_8c.html#a392a2e4a9514283f5a94d5640314ca86">hx711_multi__async_get_dma_irq_request</a> ()</td></tr>
<tr class="memdesc:a392a2e4a9514283f5a94d5640314ca86"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get the hxm which caused the current DMA IRQ. Returns NULL if none found.  <a href="hx711__multi_8c.html#a392a2e4a9514283f5a94d5640314ca86">More...</a><br /></td></tr>
<tr class="separator:a392a2e4a9514283f5a94d5640314ca86"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8f7d377565bb4806d8f096b5922c4798"><td class="memItemLeft" align="right" valign="top"><a class="el" href="structhx711__multi__t.html">hx711_multi_t</a> *const&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="hx711__multi_8c.html#a8f7d377565bb4806d8f096b5922c4798">hx711_multi__async_get_pio_irq_request</a> ()</td></tr>
<tr class="memdesc:a8f7d377565bb4806d8f096b5922c4798"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get the hxm which caused the current PIO IRQ. Returns NULL if none found.  <a href="hx711__multi_8c.html#a8f7d377565bb4806d8f096b5922c4798">More...</a><br /></td></tr>
<tr class="separator:a8f7d377565bb4806d8f096b5922c4798"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4816687081440630737e95c7252e22cf"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="hx711__multi_8c.html#a4816687081440630737e95c7252e22cf">hx711_multi__async_start_dma</a> (<a class="el" href="structhx711__multi__t.html">hx711_multi_t</a> *const hxm)</td></tr>
<tr class="memdesc:a4816687081440630737e95c7252e22cf"><td class="mdescLeft">&#160;</td><td class="mdescRight">Triggers DMA reading; moves request state from WAITING to READING.  <a href="hx711__multi_8c.html#a4816687081440630737e95c7252e22cf">More...</a><br /></td></tr>
<tr class="separator:a4816687081440630737e95c7252e22cf"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aae9f50fe5018621c4ff107b6ae63233e"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="hx711__multi_8c.html#aae9f50fe5018621c4ff107b6ae63233e">hx711_multi__async_is_running</a> (<a class="el" href="structhx711__multi__t.html">hx711_multi_t</a> *const hxm)</td></tr>
<tr class="memdesc:aae9f50fe5018621c4ff107b6ae63233e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Check whether an async read is currently occurring.  <a href="hx711__multi_8c.html#aae9f50fe5018621c4ff107b6ae63233e">More...</a><br /></td></tr>
<tr class="separator:aae9f50fe5018621c4ff107b6ae63233e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0e5f6781dccde45427e38157fece3b1e"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="hx711__multi_8c.html#a0e5f6781dccde45427e38157fece3b1e">hx711_multi__async_finish</a> (<a class="el" href="structhx711__multi__t.html">hx711_multi_t</a> *const hxm)</td></tr>
<tr class="separator:a0e5f6781dccde45427e38157fece3b1e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac752bd621a2decdf76df0ca490feca82"><td class="memItemLeft" align="right" valign="top">void __isr __not_in_flash_func()&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="hx711__multi_8c.html#ac752bd621a2decdf76df0ca490feca82">hx711_multi__async_pio_irq_handler</a> ()</td></tr>
<tr class="memdesc:ac752bd621a2decdf76df0ca490feca82"><td class="mdescLeft">&#160;</td><td class="mdescRight">ISR handler for PIO IRQs.  <a href="hx711__multi_8c.html#ac752bd621a2decdf76df0ca490feca82">More...</a><br /></td></tr>
<tr class="separator:ac752bd621a2decdf76df0ca490feca82"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9e871184ea19b8baa01edc84a9469d79"><td class="memItemLeft" align="right" valign="top">void __isr __not_in_flash_func()&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="hx711__multi_8c.html#a9e871184ea19b8baa01edc84a9469d79">hx711_multi__async_dma_irq_handler</a> ()</td></tr>
<tr class="memdesc:a9e871184ea19b8baa01edc84a9469d79"><td class="mdescLeft">&#160;</td><td class="mdescRight">ISR handler for DMA IRQs.  <a href="hx711__multi_8c.html#a9e871184ea19b8baa01edc84a9469d79">More...</a><br /></td></tr>
<tr class="separator:a9e871184ea19b8baa01edc84a9469d79"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a52a88d5def831f290413b4fc3ddac59a"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="hx711__multi_8c.html#a52a88d5def831f290413b4fc3ddac59a">hx711_multi__async_add_reader</a> (<a class="el" href="structhx711__multi__t.html">hx711_multi_t</a> *const hxm)</td></tr>
<tr class="memdesc:a52a88d5def831f290413b4fc3ddac59a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Adds hxm to the array for ISR access. Returns false if no space.  <a href="hx711__multi_8c.html#a52a88d5def831f290413b4fc3ddac59a">More...</a><br /></td></tr>
<tr class="separator:a52a88d5def831f290413b4fc3ddac59a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afba103ff58dd2d7f75ee7ba34fb9e4ed"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="hx711__multi_8c.html#afba103ff58dd2d7f75ee7ba34fb9e4ed">hx711_multi__async_remove_reader</a> (const <a class="el" href="structhx711__multi__t.html">hx711_multi_t</a> *const hxm)</td></tr>
<tr class="memdesc:afba103ff58dd2d7f75ee7ba34fb9e4ed"><td class="mdescLeft">&#160;</td><td class="mdescRight">Removes the given hxm from the request array.  <a href="hx711__multi_8c.html#afba103ff58dd2d7f75ee7ba34fb9e4ed">More...</a><br /></td></tr>
<tr class="separator:afba103ff58dd2d7f75ee7ba34fb9e4ed"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab0393c7baee372f5381b5ecce4aedcb1"><td class="memItemLeft" align="right" valign="top">static bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="hx711__multi_8c.html#ab0393c7baee372f5381b5ecce4aedcb1">hx711_multi__is_initd</a> (<a class="el" href="structhx711__multi__t.html">hx711_multi_t</a> *const hxm)</td></tr>
<tr class="separator:ab0393c7baee372f5381b5ecce4aedcb1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a621b39fc9bc2ef68c8c8d8d453c9d936"><td class="memItemLeft" align="right" valign="top">static bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="hx711__multi_8c.html#a621b39fc9bc2ef68c8c8d8d453c9d936">hx711_multi__is_state_machines_enabled</a> (<a class="el" href="structhx711__multi__t.html">hx711_multi_t</a> *const hxm)</td></tr>
<tr class="separator:a621b39fc9bc2ef68c8c8d8d453c9d936"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac2dede06a499533e8a87092ad1ad8a2c"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="hx711__multi_8c.html#ac2dede06a499533e8a87092ad1ad8a2c">hx711_multi_pinvals_to_values</a> (const uint32_t *const pinvals, int32_t *const values, const size_t len)</td></tr>
<tr class="memdesc:ac2dede06a499533e8a87092ad1ad8a2c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Convert an array of pinvals to regular HX711 values.  <a href="hx711__multi_8c.html#ac2dede06a499533e8a87092ad1ad8a2c">More...</a><br /></td></tr>
<tr class="separator:ac2dede06a499533e8a87092ad1ad8a2c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1f0ab58e4beec4a8c66ac155523ffebc"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="hx711__multi_8c.html#a1f0ab58e4beec4a8c66ac155523ffebc">hx711_multi_init</a> (<a class="el" href="structhx711__multi__t.html">hx711_multi_t</a> *const hxm, const <a class="el" href="structhx711__multi__config__t.html">hx711_multi_config_t</a> *const config)</td></tr>
<tr class="separator:a1f0ab58e4beec4a8c66ac155523ffebc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:adb8beaac8d2b72571bd52bc97e456682"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="hx711__multi_8c.html#adb8beaac8d2b72571bd52bc97e456682">hx711_multi_close</a> (<a class="el" href="structhx711__multi__t.html">hx711_multi_t</a> *const hxm)</td></tr>
<tr class="memdesc:adb8beaac8d2b72571bd52bc97e456682"><td class="mdescLeft">&#160;</td><td class="mdescRight">Stop communication with all HX711s.  <a href="hx711__multi_8c.html#adb8beaac8d2b72571bd52bc97e456682">More...</a><br /></td></tr>
<tr class="separator:adb8beaac8d2b72571bd52bc97e456682"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a32b3566dfeeccbe81e1cb12be6414275"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="hx711__multi_8c.html#a32b3566dfeeccbe81e1cb12be6414275">hx711_multi_set_gain</a> (<a class="el" href="structhx711__multi__t.html">hx711_multi_t</a> *const hxm, const <a class="el" href="hx711_8h.html#acadec7365abc52889994131164536304">hx711_gain_t</a> gain)</td></tr>
<tr class="memdesc:a32b3566dfeeccbe81e1cb12be6414275"><td class="mdescLeft">&#160;</td><td class="mdescRight">Sets the HX711s' gain.  <a href="hx711__multi_8c.html#a32b3566dfeeccbe81e1cb12be6414275">More...</a><br /></td></tr>
<tr class="separator:a32b3566dfeeccbe81e1cb12be6414275"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abbf9ac81ca91d052ed169af24e1954c1"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="hx711__multi_8c.html#abbf9ac81ca91d052ed169af24e1954c1">hx711_multi_get_values</a> (<a class="el" href="structhx711__multi__t.html">hx711_multi_t</a> *const hxm, int32_t *const values)</td></tr>
<tr class="memdesc:abbf9ac81ca91d052ed169af24e1954c1"><td class="mdescLeft">&#160;</td><td class="mdescRight">Fill an array with one value from each HX711. Blocks until values are obtained.  <a href="hx711__multi_8c.html#abbf9ac81ca91d052ed169af24e1954c1">More...</a><br /></td></tr>
<tr class="separator:abbf9ac81ca91d052ed169af24e1954c1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a78193a4be7ab6f0b2760a05f26eaaf55"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="hx711__multi_8c.html#a78193a4be7ab6f0b2760a05f26eaaf55">hx711_multi_get_values_timeout</a> (<a class="el" href="structhx711__multi__t.html">hx711_multi_t</a> *const hxm, int32_t *const values, const uint timeout)</td></tr>
<tr class="memdesc:a78193a4be7ab6f0b2760a05f26eaaf55"><td class="mdescLeft">&#160;</td><td class="mdescRight">Fill an array with one value from each HX711, timing out if failing to obtain values within the timeout period.  <a href="hx711__multi_8c.html#a78193a4be7ab6f0b2760a05f26eaaf55">More...</a><br /></td></tr>
<tr class="separator:a78193a4be7ab6f0b2760a05f26eaaf55"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9c9274eff10f09f15bcd583bc7be58a5"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="hx711__multi_8c.html#a9c9274eff10f09f15bcd583bc7be58a5">hx711_multi_async_start</a> (<a class="el" href="structhx711__multi__t.html">hx711_multi_t</a> *const hxm)</td></tr>
<tr class="memdesc:a9c9274eff10f09f15bcd583bc7be58a5"><td class="mdescLeft">&#160;</td><td class="mdescRight">Start an asynchronos read. This function is not mutex protected.  <a href="hx711__multi_8c.html#a9c9274eff10f09f15bcd583bc7be58a5">More...</a><br /></td></tr>
<tr class="separator:a9c9274eff10f09f15bcd583bc7be58a5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8269b0d05acff95be2ebd4e572687bc4"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="hx711__multi_8c.html#a8269b0d05acff95be2ebd4e572687bc4">hx711_multi_async_done</a> (<a class="el" href="structhx711__multi__t.html">hx711_multi_t</a> *const hxm)</td></tr>
<tr class="memdesc:a8269b0d05acff95be2ebd4e572687bc4"><td class="mdescLeft">&#160;</td><td class="mdescRight">Check whether an asynchronous read is complete. This function is not mutex protected.  <a href="hx711__multi_8c.html#a8269b0d05acff95be2ebd4e572687bc4">More...</a><br /></td></tr>
<tr class="separator:a8269b0d05acff95be2ebd4e572687bc4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a146f59cdd3b4fc3fbf24df4c47feb4f8"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="hx711__multi_8c.html#a146f59cdd3b4fc3fbf24df4c47feb4f8">hx711_multi_async_get_values</a> (<a class="el" href="structhx711__multi__t.html">hx711_multi_t</a> *const hxm, int32_t *const values)</td></tr>
<tr class="memdesc:a146f59cdd3b4fc3fbf24df4c47feb4f8"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get the values from the last asynchronous read. This function is not mutex protected.  <a href="hx711__multi_8c.html#a146f59cdd3b4fc3fbf24df4c47feb4f8">More...</a><br /></td></tr>
<tr class="separator:a146f59cdd3b4fc3fbf24df4c47feb4f8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1b9f2e241ae4b2deea43482e8057064d"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="hx711__multi_8c.html#a1b9f2e241ae4b2deea43482e8057064d">hx711_multi_power_up</a> (<a class="el" href="structhx711__multi__t.html">hx711_multi_t</a> *const hxm, const <a class="el" href="hx711_8h.html#acadec7365abc52889994131164536304">hx711_gain_t</a> gain)</td></tr>
<tr class="separator:a1b9f2e241ae4b2deea43482e8057064d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5b5c5b4cf8da3d3e656b112edc7a876e"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="hx711__multi_8c.html#a5b5c5b4cf8da3d3e656b112edc7a876e">hx711_multi_power_down</a> (<a class="el" href="structhx711__multi__t.html">hx711_multi_t</a> *const hxm)</td></tr>
<tr class="separator:a5b5c5b4cf8da3d3e656b112edc7a876e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab9a42d50573f8c29d24fab9fd38be364"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="hx711__multi_8c.html#ab9a42d50573f8c29d24fab9fd38be364">hx711_multi_sync</a> (<a class="el" href="structhx711__multi__t.html">hx711_multi_t</a> *const hxm, const <a class="el" href="hx711_8h.html#acadec7365abc52889994131164536304">hx711_gain_t</a> gain)</td></tr>
<tr class="memdesc:ab9a42d50573f8c29d24fab9fd38be364"><td class="mdescLeft">&#160;</td><td class="mdescRight">Attempt to synchronise all connected chips. This does not include a settling time.  <a href="hx711__multi_8c.html#ab9a42d50573f8c29d24fab9fd38be364">More...</a><br /></td></tr>
<tr class="separator:ab9a42d50573f8c29d24fab9fd38be364"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad629ab72a25e618a7f2b52a24af7f3f0"><td class="memItemLeft" align="right" valign="top">uint32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="hx711__multi_8c.html#ad629ab72a25e618a7f2b52a24af7f3f0">hx711_multi_get_sync_state</a> (<a class="el" href="structhx711__multi__t.html">hx711_multi_t</a> *const hxm)</td></tr>
<tr class="memdesc:ad629ab72a25e618a7f2b52a24af7f3f0"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the state of each chip as a bitmask. The 0th bit is the first chip, 1th bit is the second, and so on.  <a href="hx711__multi_8c.html#ad629ab72a25e618a7f2b52a24af7f3f0">More...</a><br /></td></tr>
<tr class="separator:ad629ab72a25e618a7f2b52a24af7f3f0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad47ccf93edd16a5cc982e8757acd7e80"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="hx711__multi_8c.html#ad47ccf93edd16a5cc982e8757acd7e80">hx711_multi_is_syncd</a> (<a class="el" href="structhx711__multi__t.html">hx711_multi_t</a> *const hxm)</td></tr>
<tr class="memdesc:ad47ccf93edd16a5cc982e8757acd7e80"><td class="mdescLeft">&#160;</td><td class="mdescRight">Determines whether all chips are in sync.  <a href="hx711__multi_8c.html#ad47ccf93edd16a5cc982e8757acd7e80">More...</a><br /></td></tr>
<tr class="separator:ad47ccf93edd16a5cc982e8757acd7e80"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="var-members"></a>
Variables</h2></td></tr>
<tr class="memitem:af340b1352189f97c2a27b5c482aafb22"><td class="memItemLeft" align="right" valign="top"><a class="el" href="structhx711__multi__t.html">hx711_multi_t</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="hx711__multi_8c.html#af340b1352189f97c2a27b5c482aafb22">hx711_multi__async_read_array</a> []</td></tr>
<tr class="memdesc:af340b1352189f97c2a27b5c482aafb22"><td class="mdescLeft">&#160;</td><td class="mdescRight">Array of hxm for ISR to access. This is a global variable.  <a href="hx711__multi_8c.html#af340b1352189f97c2a27b5c482aafb22">More...</a><br /></td></tr>
<tr class="separator:af340b1352189f97c2a27b5c482aafb22"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<h2 class="groupheader">Function Documentation</h2>
<a id="a52a88d5def831f290413b4fc3ddac59a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a52a88d5def831f290413b4fc3ddac59a">&#9670;&nbsp;</a></span>hx711_multi__async_add_reader()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool hx711_multi__async_add_reader </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structhx711__multi__t.html">hx711_multi_t</a> *const&#160;</td>
          <td class="paramname"><em>hxm</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Adds hxm to the array for ISR access. Returns false if no space. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">hxm</td><td></td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>true </dd>
<dd>
false </dd></dl>

<p class="definition">Definition at line <a class="el" href="hx711__multi_8c_source.html#l00407">407</a> of file <a class="el" href="hx711__multi_8c_source.html">hx711_multi.c</a>.</p>
<div class="fragment"><div class="line"><a name="l00408"></a><span class="lineno">  408</span>&#160;                              {</div>
<div class="line"><a name="l00409"></a><span class="lineno">  409</span>&#160; </div>
<div class="line"><a name="l00410"></a><span class="lineno">  410</span>&#160;        assert(<a class="code" href="hx711__multi_8c.html#af340b1352189f97c2a27b5c482aafb22">hx711_multi__async_read_array</a> != NULL);</div>
<div class="line"><a name="l00411"></a><span class="lineno">  411</span>&#160; </div>
<div class="line"><a name="l00412"></a><span class="lineno">  412</span>&#160;        <span class="keywordflow">for</span>(uint i = 0; i &lt; <a class="code" href="hx711__multi_8h.html#a9fadd730bba782f2b000847846c3cd01">HX711_MULTI_ASYNC_READ_COUNT</a>; ++i) {</div>
<div class="line"><a name="l00413"></a><span class="lineno">  413</span>&#160;            <span class="keywordflow">if</span>(<a class="code" href="hx711__multi_8c.html#af340b1352189f97c2a27b5c482aafb22">hx711_multi__async_read_array</a>[i] == NULL) {</div>
<div class="line"><a name="l00414"></a><span class="lineno">  414</span>&#160;                <a class="code" href="hx711__multi_8c.html#af340b1352189f97c2a27b5c482aafb22">hx711_multi__async_read_array</a>[i] = hxm;</div>
<div class="line"><a name="l00415"></a><span class="lineno">  415</span>&#160;                <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l00416"></a><span class="lineno">  416</span>&#160;            }</div>
<div class="line"><a name="l00417"></a><span class="lineno">  417</span>&#160;        }</div>
<div class="line"><a name="l00418"></a><span class="lineno">  418</span>&#160; </div>
<div class="line"><a name="l00419"></a><span class="lineno">  419</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00420"></a><span class="lineno">  420</span>&#160; </div>
<div class="line"><a name="l00421"></a><span class="lineno">  421</span>&#160;}</div>
<div class="ttc" id="ahx711__multi_8c_html_af340b1352189f97c2a27b5c482aafb22"><div class="ttname"><a href="hx711__multi_8c.html#af340b1352189f97c2a27b5c482aafb22">hx711_multi__async_read_array</a></div><div class="ttdeci">hx711_multi_t * hx711_multi__async_read_array[]</div><div class="ttdoc">Array of hxm for ISR to access. This is a global variable.</div><div class="ttdef"><b>Definition:</b> <a href="hx711__multi_8c_source.html#l00040">hx711_multi.c:40</a></div></div>
<div class="ttc" id="ahx711__multi_8h_html_a9fadd730bba782f2b000847846c3cd01"><div class="ttname"><a href="hx711__multi_8h.html#a9fadd730bba782f2b000847846c3cd01">HX711_MULTI_ASYNC_READ_COUNT</a></div><div class="ttdeci">#define HX711_MULTI_ASYNC_READ_COUNT</div><div class="ttdoc">Only one instance of a hx711_multi can operate within a PIO. So the maximum number of concurrent asyn...</div><div class="ttdef"><b>Definition:</b> <a href="hx711__multi_8h_source.html#l00060">hx711_multi.h:60</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="hx711__multi_8c_source.html#l00040">hx711_multi__async_read_array</a>, and <a class="el" href="hx711__multi_8h_source.html#l00060">HX711_MULTI_ASYNC_READ_COUNT</a>.</p>

<p class="reference">Referenced by <a class="el" href="hx711__multi_8c_source.html#l00518">hx711_multi_init()</a>.</p>

</div>
</div>
<a id="a9e871184ea19b8baa01edc84a9469d79"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9e871184ea19b8baa01edc84a9469d79">&#9670;&nbsp;</a></span>hx711_multi__async_dma_irq_handler()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void __isr __not_in_flash_func() hx711_multi__async_dma_irq_handler </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>ISR handler for DMA IRQs. </p>

<p class="definition">Definition at line <a class="el" href="hx711__multi_8c_source.html#l00385">385</a> of file <a class="el" href="hx711__multi_8c_source.html">hx711_multi.c</a>.</p>
<div class="fragment"><div class="line"><a name="l00385"></a><span class="lineno">  385</span>&#160;                                                                     {</div>
<div class="line"><a name="l00386"></a><span class="lineno">  386</span>&#160; </div>
<div class="line"><a name="l00387"></a><span class="lineno">  387</span>&#160;    <a class="code" href="structhx711__multi__t.html">hx711_multi_t</a>* <span class="keyword">const</span> hxm =</div>
<div class="line"><a name="l00388"></a><span class="lineno">  388</span>&#160;        <a class="code" href="hx711__multi_8c.html#a392a2e4a9514283f5a94d5640314ca86">hx711_multi__async_get_dma_irq_request</a>();</div>
<div class="line"><a name="l00389"></a><span class="lineno">  389</span>&#160; </div>
<div class="line"><a name="l00390"></a><span class="lineno">  390</span>&#160;    assert(<a class="code" href="hx711__multi_8c.html#a621b39fc9bc2ef68c8c8d8d453c9d936">hx711_multi__is_state_machines_enabled</a>(hxm));</div>
<div class="line"><a name="l00391"></a><span class="lineno">  391</span>&#160;    assert(hxm-&gt;<a class="code" href="structhx711__multi__t.html#a2631597e6d679498afb6bd4d64ed7f4f">_async_state</a> == <a class="code" href="hx711__multi_8h.html#a3e900ca4cb60ae6ec8851ea7f12f03d6ac8519692757c689781cbcb9fb42cdd10">HX711_MULTI_ASYNC_STATE_READING</a>);</div>
<div class="line"><a name="l00392"></a><span class="lineno">  392</span>&#160; </div>
<div class="line"><a name="l00393"></a><span class="lineno">  393</span>&#160;    hxm-&gt;<a class="code" href="structhx711__multi__t.html#a2631597e6d679498afb6bd4d64ed7f4f">_async_state</a> = <a class="code" href="hx711__multi_8h.html#a3e900ca4cb60ae6ec8851ea7f12f03d6ae7b9837b29d1386aa3cf2b6b0957eb64">HX711_MULTI_ASYNC_STATE_DONE</a>;</div>
<div class="line"><a name="l00394"></a><span class="lineno">  394</span>&#160; </div>
<div class="line"><a name="l00395"></a><span class="lineno">  395</span>&#160;    dma_irqn_acknowledge_channel(</div>
<div class="line"><a name="l00396"></a><span class="lineno">  396</span>&#160;        hxm-&gt;<a class="code" href="structhx711__multi__t.html#a3ac0daec08eac7db2f64eb836633b438">_dma_irq_index</a>,</div>
<div class="line"><a name="l00397"></a><span class="lineno">  397</span>&#160;        hxm-&gt;<a class="code" href="structhx711__multi__t.html#a2b290b76bacac6b8642ce87d9ab4bf52">_dma_channel</a>);</div>
<div class="line"><a name="l00398"></a><span class="lineno">  398</span>&#160; </div>
<div class="line"><a name="l00399"></a><span class="lineno">  399</span>&#160;    <a class="code" href="hx711__multi_8c.html#a0e5f6781dccde45427e38157fece3b1e">hx711_multi__async_finish</a>(hxm);</div>
<div class="line"><a name="l00400"></a><span class="lineno">  400</span>&#160; </div>
<div class="line"><a name="l00401"></a><span class="lineno">  401</span>&#160;    irq_clear(</div>
<div class="line"><a name="l00402"></a><span class="lineno">  402</span>&#160;        <a class="code" href="util_8h.html#a79687e43d97431c9f6c9728f78817895">util_dma_get_irqn</a>(</div>
<div class="line"><a name="l00403"></a><span class="lineno">  403</span>&#160;            hxm-&gt;<a class="code" href="structhx711__multi__t.html#a3ac0daec08eac7db2f64eb836633b438">_dma_irq_index</a>));</div>
<div class="line"><a name="l00404"></a><span class="lineno">  404</span>&#160; </div>
<div class="line"><a name="l00405"></a><span class="lineno">  405</span>&#160;}</div>
<div class="ttc" id="ahx711__multi_8c_html_a0e5f6781dccde45427e38157fece3b1e"><div class="ttname"><a href="hx711__multi_8c.html#a0e5f6781dccde45427e38157fece3b1e">hx711_multi__async_finish</a></div><div class="ttdeci">static void hx711_multi__async_finish(hx711_multi_t *const hxm)</div><div class="ttdef"><b>Definition:</b> <a href="hx711__multi_8c_source.html#l00337">hx711_multi.c:337</a></div></div>
<div class="ttc" id="ahx711__multi_8c_html_a392a2e4a9514283f5a94d5640314ca86"><div class="ttname"><a href="hx711__multi_8c.html#a392a2e4a9514283f5a94d5640314ca86">hx711_multi__async_get_dma_irq_request</a></div><div class="ttdeci">hx711_multi_t *const hx711_multi__async_get_dma_irq_request()</div><div class="ttdoc">Get the hxm which caused the current DMA IRQ. Returns NULL if none found.</div><div class="ttdef"><b>Definition:</b> <a href="hx711__multi_8c_source.html#l00256">hx711_multi.c:256</a></div></div>
<div class="ttc" id="ahx711__multi_8c_html_a621b39fc9bc2ef68c8c8d8d453c9d936"><div class="ttname"><a href="hx711__multi_8c.html#a621b39fc9bc2ef68c8c8d8d453c9d936">hx711_multi__is_state_machines_enabled</a></div><div class="ttdeci">static bool hx711_multi__is_state_machines_enabled(hx711_multi_t *const hxm)</div><div class="ttdef"><b>Definition:</b> <a href="hx711__multi_8c_source.html#l00457">hx711_multi.c:457</a></div></div>
<div class="ttc" id="ahx711__multi_8h_html_a3e900ca4cb60ae6ec8851ea7f12f03d6ac8519692757c689781cbcb9fb42cdd10"><div class="ttname"><a href="hx711__multi_8h.html#a3e900ca4cb60ae6ec8851ea7f12f03d6ac8519692757c689781cbcb9fb42cdd10">HX711_MULTI_ASYNC_STATE_READING</a></div><div class="ttdeci">@ HX711_MULTI_ASYNC_STATE_READING</div><div class="ttdef"><b>Definition:</b> <a href="hx711__multi_8h_source.html#l00088">hx711_multi.h:88</a></div></div>
<div class="ttc" id="ahx711__multi_8h_html_a3e900ca4cb60ae6ec8851ea7f12f03d6ae7b9837b29d1386aa3cf2b6b0957eb64"><div class="ttname"><a href="hx711__multi_8h.html#a3e900ca4cb60ae6ec8851ea7f12f03d6ae7b9837b29d1386aa3cf2b6b0957eb64">HX711_MULTI_ASYNC_STATE_DONE</a></div><div class="ttdeci">@ HX711_MULTI_ASYNC_STATE_DONE</div><div class="ttdef"><b>Definition:</b> <a href="hx711__multi_8h_source.html#l00090">hx711_multi.h:89</a></div></div>
<div class="ttc" id="astructhx711__multi__t_html"><div class="ttname"><a href="structhx711__multi__t.html">hx711_multi_t</a></div><div class="ttdef"><b>Definition:</b> <a href="hx711__multi_8h_source.html#l00092">hx711_multi.h:92</a></div></div>
<div class="ttc" id="astructhx711__multi__t_html_a2631597e6d679498afb6bd4d64ed7f4f"><div class="ttname"><a href="structhx711__multi__t.html#a2631597e6d679498afb6bd4d64ed7f4f">hx711_multi_t::_async_state</a></div><div class="ttdeci">volatile hx711_multi_async_state_t _async_state</div><div class="ttdef"><b>Definition:</b> <a href="hx711__multi_8h_source.html#l00116">hx711_multi.h:116</a></div></div>
<div class="ttc" id="astructhx711__multi__t_html_a2b290b76bacac6b8642ce87d9ab4bf52"><div class="ttname"><a href="structhx711__multi__t.html#a2b290b76bacac6b8642ce87d9ab4bf52">hx711_multi_t::_dma_channel</a></div><div class="ttdeci">uint _dma_channel</div><div class="ttdef"><b>Definition:</b> <a href="hx711__multi_8h_source.html#l00110">hx711_multi.h:110</a></div></div>
<div class="ttc" id="astructhx711__multi__t_html_a3ac0daec08eac7db2f64eb836633b438"><div class="ttname"><a href="structhx711__multi__t.html#a3ac0daec08eac7db2f64eb836633b438">hx711_multi_t::_dma_irq_index</a></div><div class="ttdeci">uint _dma_irq_index</div><div class="ttdef"><b>Definition:</b> <a href="hx711__multi_8h_source.html#l00115">hx711_multi.h:115</a></div></div>
<div class="ttc" id="autil_8h_html_a79687e43d97431c9f6c9728f78817895"><div class="ttname"><a href="util_8h.html#a79687e43d97431c9f6c9728f78817895">util_dma_get_irqn</a></div><div class="ttdeci">uint util_dma_get_irqn(const uint irq_index)</div><div class="ttdoc">Gets the NVIC IRQ number based on the DMA IRQ index.</div><div class="ttdef"><b>Definition:</b> <a href="util_8c_source.html#l00144">util.c:144</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="hx711__multi_8h_source.html#l00116">hx711_multi_t::_async_state</a>, <a class="el" href="hx711__multi_8h_source.html#l00110">hx711_multi_t::_dma_channel</a>, <a class="el" href="hx711__multi_8h_source.html#l00115">hx711_multi_t::_dma_irq_index</a>, <a class="el" href="hx711__multi_8c_source.html#l00337">hx711_multi__async_finish()</a>, <a class="el" href="hx711__multi_8c_source.html#l00256">hx711_multi__async_get_dma_irq_request()</a>, <a class="el" href="hx711__multi_8c_source.html#l00457">hx711_multi__is_state_machines_enabled()</a>, <a class="el" href="hx711__multi_8h_source.html#l00089">HX711_MULTI_ASYNC_STATE_DONE</a>, <a class="el" href="hx711__multi_8h_source.html#l00088">HX711_MULTI_ASYNC_STATE_READING</a>, and <a class="el" href="util_8c_source.html#l00144">util_dma_get_irqn()</a>.</p>

<p class="reference">Referenced by <a class="el" href="hx711__multi_8c_source.html#l00184">hx711_multi__init_irq()</a>, and <a class="el" href="hx711__multi_8c_source.html#l00441">hx711_multi__is_initd()</a>.</p>

</div>
</div>
<a id="a36393a55b26bc2ba905059cf830a7da2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a36393a55b26bc2ba905059cf830a7da2">&#9670;&nbsp;</a></span>hx711_multi__async_dma_irq_is_set()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool hx711_multi__async_dma_irq_is_set </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structhx711__multi__t.html">hx711_multi_t</a> *const&#160;</td>
          <td class="paramname"><em>hxm</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Whether a given hxm is the cause of the current DMA IRQ. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">hxm</td><td></td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>true </dd>
<dd>
false </dd></dl>

<p class="definition">Definition at line <a class="el" href="hx711__multi_8c_source.html#l00234">234</a> of file <a class="el" href="hx711__multi_8c_source.html">hx711_multi.c</a>.</p>
<div class="fragment"><div class="line"><a name="l00235"></a><span class="lineno">  235</span>&#160;                              {</div>
<div class="line"><a name="l00236"></a><span class="lineno">  236</span>&#160; </div>
<div class="line"><a name="l00237"></a><span class="lineno">  237</span>&#160;        assert(<a class="code" href="hx711__multi_8c.html#ab0393c7baee372f5381b5ecce4aedcb1">hx711_multi__is_initd</a>(hxm));</div>
<div class="line"><a name="l00238"></a><span class="lineno">  238</span>&#160; </div>
<div class="line"><a name="l00239"></a><span class="lineno">  239</span>&#160;        <span class="keywordflow">return</span> dma_irqn_get_channel_status(</div>
<div class="line"><a name="l00240"></a><span class="lineno">  240</span>&#160;            hxm-&gt;<a class="code" href="structhx711__multi__t.html#a3ac0daec08eac7db2f64eb836633b438">_dma_irq_index</a>,</div>
<div class="line"><a name="l00241"></a><span class="lineno">  241</span>&#160;            hxm-&gt;<a class="code" href="structhx711__multi__t.html#a2b290b76bacac6b8642ce87d9ab4bf52">_dma_channel</a>);</div>
<div class="line"><a name="l00242"></a><span class="lineno">  242</span>&#160; </div>
<div class="line"><a name="l00243"></a><span class="lineno">  243</span>&#160;}</div>
<div class="ttc" id="ahx711__multi_8c_html_ab0393c7baee372f5381b5ecce4aedcb1"><div class="ttname"><a href="hx711__multi_8c.html#ab0393c7baee372f5381b5ecce4aedcb1">hx711_multi__is_initd</a></div><div class="ttdeci">static bool hx711_multi__is_initd(hx711_multi_t *const hxm)</div><div class="ttdef"><b>Definition:</b> <a href="hx711__multi_8c_source.html#l00441">hx711_multi.c:441</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="hx711__multi_8h_source.html#l00110">hx711_multi_t::_dma_channel</a>, <a class="el" href="hx711__multi_8h_source.html#l00115">hx711_multi_t::_dma_irq_index</a>, and <a class="el" href="hx711__multi_8c_source.html#l00441">hx711_multi__is_initd()</a>.</p>

<p class="reference">Referenced by <a class="el" href="hx711__multi_8c_source.html#l00256">hx711_multi__async_get_dma_irq_request()</a>.</p>

</div>
</div>
<a id="a0e5f6781dccde45427e38157fece3b1e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0e5f6781dccde45427e38157fece3b1e">&#9670;&nbsp;</a></span>hx711_multi__async_finish()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void hx711_multi__async_finish </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structhx711__multi__t.html">hx711_multi_t</a> *const&#160;</td>
          <td class="paramname"><em>hxm</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="hx711__multi_8c_source.html#l00337">337</a> of file <a class="el" href="hx711__multi_8c_source.html">hx711_multi.c</a>.</p>
<div class="fragment"><div class="line"><a name="l00338"></a><span class="lineno">  338</span>&#160;                              {</div>
<div class="line"><a name="l00339"></a><span class="lineno">  339</span>&#160; </div>
<div class="line"><a name="l00340"></a><span class="lineno">  340</span>&#160;        assert(<a class="code" href="hx711__multi_8c.html#ab0393c7baee372f5381b5ecce4aedcb1">hx711_multi__is_initd</a>(hxm));</div>
<div class="line"><a name="l00341"></a><span class="lineno">  341</span>&#160; </div>
<div class="line"><a name="l00342"></a><span class="lineno">  342</span>&#160;        <span class="comment">//stop listening for IRQs</span></div>
<div class="line"><a name="l00343"></a><span class="lineno">  343</span>&#160; </div>
<div class="line"><a name="l00344"></a><span class="lineno">  344</span>&#160;        dma_channel_abort(hxm-&gt;<a class="code" href="structhx711__multi__t.html#a2b290b76bacac6b8642ce87d9ab4bf52">_dma_channel</a>);</div>
<div class="line"><a name="l00345"></a><span class="lineno">  345</span>&#160; </div>
<div class="line"><a name="l00346"></a><span class="lineno">  346</span>&#160;        dma_irqn_set_channel_enabled(</div>
<div class="line"><a name="l00347"></a><span class="lineno">  347</span>&#160;            hxm-&gt;<a class="code" href="structhx711__multi__t.html#a3ac0daec08eac7db2f64eb836633b438">_dma_irq_index</a>,</div>
<div class="line"><a name="l00348"></a><span class="lineno">  348</span>&#160;            hxm-&gt;<a class="code" href="structhx711__multi__t.html#a2b290b76bacac6b8642ce87d9ab4bf52">_dma_channel</a>,</div>
<div class="line"><a name="l00349"></a><span class="lineno">  349</span>&#160;            <span class="keyword">false</span>);</div>
<div class="line"><a name="l00350"></a><span class="lineno">  350</span>&#160; </div>
<div class="line"><a name="l00351"></a><span class="lineno">  351</span>&#160;        pio_set_irqn_source_enabled(</div>
<div class="line"><a name="l00352"></a><span class="lineno">  352</span>&#160;            hxm-&gt;<a class="code" href="structhx711__multi__t.html#ab3d6374db039d529c15616f9d82aee4d">_pio</a>,</div>
<div class="line"><a name="l00353"></a><span class="lineno">  353</span>&#160;            hxm-&gt;<a class="code" href="structhx711__multi__t.html#a8d4324e79160d630ca07cf45518dacf7">_pio_irq_index</a>,</div>
<div class="line"><a name="l00354"></a><span class="lineno">  354</span>&#160;            <a class="code" href="util_8h.html#a5396ad6c4f564a0f930324c8219aa0be">util_pio_get_pis_from_pio_interrupt_num</a>(<a class="code" href="hx711__multi_8h.html#a52c57e624876d18d8c1058f49d585ad1">HX711_MULTI_CONVERSION_DONE_IRQ_NUM</a>),</div>
<div class="line"><a name="l00355"></a><span class="lineno">  355</span>&#160;            <span class="keyword">false</span>);</div>
<div class="line"><a name="l00356"></a><span class="lineno">  356</span>&#160; </div>
<div class="line"><a name="l00357"></a><span class="lineno">  357</span>&#160;<span class="preprocessor">#ifndef HX711_NO_MUTEX</span></div>
<div class="line"><a name="l00358"></a><span class="lineno">  358</span>&#160;        mutex_exit(&amp;hxm-&gt;<a class="code" href="structhx711__multi__t.html#a9bf13556ba6f34181172ca641356ac7f">_mut</a>);</div>
<div class="line"><a name="l00359"></a><span class="lineno">  359</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l00360"></a><span class="lineno">  360</span>&#160; </div>
<div class="line"><a name="l00361"></a><span class="lineno">  361</span>&#160;}</div>
<div class="ttc" id="ahx711__multi_8h_html_a52c57e624876d18d8c1058f49d585ad1"><div class="ttname"><a href="hx711__multi_8h.html#a52c57e624876d18d8c1058f49d585ad1">HX711_MULTI_CONVERSION_DONE_IRQ_NUM</a></div><div class="ttdeci">#define HX711_MULTI_CONVERSION_DONE_IRQ_NUM</div><div class="ttdoc">PIO interrupt number which is set by the reader PIO State Machine when a conversion period ends....</div><div class="ttdef"><b>Definition:</b> <a href="hx711__multi_8h_source.html#l00043">hx711_multi.h:43</a></div></div>
<div class="ttc" id="astructhx711__multi__t_html_a8d4324e79160d630ca07cf45518dacf7"><div class="ttname"><a href="structhx711__multi__t.html#a8d4324e79160d630ca07cf45518dacf7">hx711_multi_t::_pio_irq_index</a></div><div class="ttdeci">uint _pio_irq_index</div><div class="ttdef"><b>Definition:</b> <a href="hx711__multi_8h_source.html#l00114">hx711_multi.h:114</a></div></div>
<div class="ttc" id="astructhx711__multi__t_html_a9bf13556ba6f34181172ca641356ac7f"><div class="ttname"><a href="structhx711__multi__t.html#a9bf13556ba6f34181172ca641356ac7f">hx711_multi_t::_mut</a></div><div class="ttdeci">mutex_t _mut</div><div class="ttdef"><b>Definition:</b> <a href="hx711__multi_8h_source.html#l00119">hx711_multi.h:119</a></div></div>
<div class="ttc" id="astructhx711__multi__t_html_ab3d6374db039d529c15616f9d82aee4d"><div class="ttname"><a href="structhx711__multi__t.html#ab3d6374db039d529c15616f9d82aee4d">hx711_multi_t::_pio</a></div><div class="ttdeci">PIO _pio</div><div class="ttdef"><b>Definition:</b> <a href="hx711__multi_8h_source.html#l00098">hx711_multi.h:98</a></div></div>
<div class="ttc" id="autil_8h_html_a5396ad6c4f564a0f930324c8219aa0be"><div class="ttname"><a href="util_8h.html#a5396ad6c4f564a0f930324c8219aa0be">util_pio_get_pis_from_pio_interrupt_num</a></div><div class="ttdeci">uint util_pio_get_pis_from_pio_interrupt_num(const uint pio_interrupt_num)</div><div class="ttdef"><b>Definition:</b> <a href="util_8c_source.html#l00301">util.c:301</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="hx711__multi_8h_source.html#l00110">hx711_multi_t::_dma_channel</a>, <a class="el" href="hx711__multi_8h_source.html#l00115">hx711_multi_t::_dma_irq_index</a>, <a class="el" href="hx711__multi_8h_source.html#l00119">hx711_multi_t::_mut</a>, <a class="el" href="hx711__multi_8h_source.html#l00098">hx711_multi_t::_pio</a>, <a class="el" href="hx711__multi_8h_source.html#l00114">hx711_multi_t::_pio_irq_index</a>, <a class="el" href="hx711__multi_8c_source.html#l00441">hx711_multi__is_initd()</a>, <a class="el" href="hx711__multi_8h_source.html#l00043">HX711_MULTI_CONVERSION_DONE_IRQ_NUM</a>, and <a class="el" href="util_8c_source.html#l00301">util_pio_get_pis_from_pio_interrupt_num()</a>.</p>

<p class="reference">Referenced by <a class="el" href="hx711__multi_8c_source.html#l00385">hx711_multi__async_dma_irq_handler()</a>, <a class="el" href="hx711__multi_8c_source.html#l00700">hx711_multi_get_values_timeout()</a>, and <a class="el" href="hx711__multi_8c_source.html#l00832">hx711_multi_power_down()</a>.</p>

</div>
</div>
<a id="a392a2e4a9514283f5a94d5640314ca86"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a392a2e4a9514283f5a94d5640314ca86">&#9670;&nbsp;</a></span>hx711_multi__async_get_dma_irq_request()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structhx711__multi__t.html">hx711_multi_t</a>* const hx711_multi__async_get_dma_irq_request </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Get the hxm which caused the current DMA IRQ. Returns NULL if none found. </p>
<dl class="section return"><dt>Returns</dt><dd>hx711_multi_t* const </dd></dl>

<p class="definition">Definition at line <a class="el" href="hx711__multi_8c_source.html#l00256">256</a> of file <a class="el" href="hx711__multi_8c_source.html">hx711_multi.c</a>.</p>
<div class="fragment"><div class="line"><a name="l00256"></a><span class="lineno">  256</span>&#160;                                                              {</div>
<div class="line"><a name="l00257"></a><span class="lineno">  257</span>&#160; </div>
<div class="line"><a name="l00258"></a><span class="lineno">  258</span>&#160;    assert(<a class="code" href="hx711__multi_8c.html#af340b1352189f97c2a27b5c482aafb22">hx711_multi__async_read_array</a> != NULL);</div>
<div class="line"><a name="l00259"></a><span class="lineno">  259</span>&#160; </div>
<div class="line"><a name="l00260"></a><span class="lineno">  260</span>&#160;    <span class="keywordflow">for</span>(uint i = 0; i &lt; <a class="code" href="hx711__multi_8h.html#a9fadd730bba782f2b000847846c3cd01">HX711_MULTI_ASYNC_READ_COUNT</a>; ++i) {</div>
<div class="line"><a name="l00261"></a><span class="lineno">  261</span>&#160; </div>
<div class="line"><a name="l00262"></a><span class="lineno">  262</span>&#160;        <span class="keywordflow">if</span>(<a class="code" href="hx711__multi_8c.html#af340b1352189f97c2a27b5c482aafb22">hx711_multi__async_read_array</a>[i] == NULL) {</div>
<div class="line"><a name="l00263"></a><span class="lineno">  263</span>&#160;            <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l00264"></a><span class="lineno">  264</span>&#160;        }</div>
<div class="line"><a name="l00265"></a><span class="lineno">  265</span>&#160;        </div>
<div class="line"><a name="l00266"></a><span class="lineno">  266</span>&#160;        <span class="keywordflow">if</span>(<a class="code" href="hx711__multi_8c.html#a36393a55b26bc2ba905059cf830a7da2">hx711_multi__async_dma_irq_is_set</a>(<a class="code" href="hx711__multi_8c.html#af340b1352189f97c2a27b5c482aafb22">hx711_multi__async_read_array</a>[i])) {</div>
<div class="line"><a name="l00267"></a><span class="lineno">  267</span>&#160;            <span class="keywordflow">return</span> <a class="code" href="hx711__multi_8c.html#af340b1352189f97c2a27b5c482aafb22">hx711_multi__async_read_array</a>[i];</div>
<div class="line"><a name="l00268"></a><span class="lineno">  268</span>&#160;        }</div>
<div class="line"><a name="l00269"></a><span class="lineno">  269</span>&#160; </div>
<div class="line"><a name="l00270"></a><span class="lineno">  270</span>&#160;    }</div>
<div class="line"><a name="l00271"></a><span class="lineno">  271</span>&#160; </div>
<div class="line"><a name="l00272"></a><span class="lineno">  272</span>&#160;    <span class="keywordflow">return</span> NULL;</div>
<div class="line"><a name="l00273"></a><span class="lineno">  273</span>&#160; </div>
<div class="line"><a name="l00274"></a><span class="lineno">  274</span>&#160;}</div>
<div class="ttc" id="ahx711__multi_8c_html_a36393a55b26bc2ba905059cf830a7da2"><div class="ttname"><a href="hx711__multi_8c.html#a36393a55b26bc2ba905059cf830a7da2">hx711_multi__async_dma_irq_is_set</a></div><div class="ttdeci">bool hx711_multi__async_dma_irq_is_set(hx711_multi_t *const hxm)</div><div class="ttdoc">Whether a given hxm is the cause of the current DMA IRQ.</div><div class="ttdef"><b>Definition:</b> <a href="hx711__multi_8c_source.html#l00234">hx711_multi.c:234</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="hx711__multi_8c_source.html#l00234">hx711_multi__async_dma_irq_is_set()</a>, <a class="el" href="hx711__multi_8c_source.html#l00040">hx711_multi__async_read_array</a>, and <a class="el" href="hx711__multi_8h_source.html#l00060">HX711_MULTI_ASYNC_READ_COUNT</a>.</p>

<p class="reference">Referenced by <a class="el" href="hx711__multi_8c_source.html#l00385">hx711_multi__async_dma_irq_handler()</a>.</p>

</div>
</div>
<a id="a8f7d377565bb4806d8f096b5922c4798"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8f7d377565bb4806d8f096b5922c4798">&#9670;&nbsp;</a></span>hx711_multi__async_get_pio_irq_request()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structhx711__multi__t.html">hx711_multi_t</a>* const hx711_multi__async_get_pio_irq_request </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Get the hxm which caused the current PIO IRQ. Returns NULL if none found. </p>
<dl class="section return"><dt>Returns</dt><dd>hx711_multi_t* const </dd></dl>

<p class="definition">Definition at line <a class="el" href="hx711__multi_8c_source.html#l00276">276</a> of file <a class="el" href="hx711__multi_8c_source.html">hx711_multi.c</a>.</p>
<div class="fragment"><div class="line"><a name="l00276"></a><span class="lineno">  276</span>&#160;                                                              {</div>
<div class="line"><a name="l00277"></a><span class="lineno">  277</span>&#160; </div>
<div class="line"><a name="l00278"></a><span class="lineno">  278</span>&#160;    assert(<a class="code" href="hx711__multi_8c.html#af340b1352189f97c2a27b5c482aafb22">hx711_multi__async_read_array</a> != NULL);</div>
<div class="line"><a name="l00279"></a><span class="lineno">  279</span>&#160; </div>
<div class="line"><a name="l00280"></a><span class="lineno">  280</span>&#160;    <span class="keywordflow">for</span>(uint i = 0; i &lt; <a class="code" href="hx711__multi_8h.html#a9fadd730bba782f2b000847846c3cd01">HX711_MULTI_ASYNC_READ_COUNT</a>; ++i) {</div>
<div class="line"><a name="l00281"></a><span class="lineno">  281</span>&#160; </div>
<div class="line"><a name="l00282"></a><span class="lineno">  282</span>&#160;        <span class="keywordflow">if</span>(<a class="code" href="hx711__multi_8c.html#af340b1352189f97c2a27b5c482aafb22">hx711_multi__async_read_array</a>[i] == NULL) {</div>
<div class="line"><a name="l00283"></a><span class="lineno">  283</span>&#160;            <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l00284"></a><span class="lineno">  284</span>&#160;        }</div>
<div class="line"><a name="l00285"></a><span class="lineno">  285</span>&#160; </div>
<div class="line"><a name="l00286"></a><span class="lineno">  286</span>&#160;        <span class="keywordflow">if</span>(<a class="code" href="hx711__multi_8c.html#ade6c2db37be1ffdc511fd187dcd4a021">hx711_multi__async_pio_irq_is_set</a>(<a class="code" href="hx711__multi_8c.html#af340b1352189f97c2a27b5c482aafb22">hx711_multi__async_read_array</a>[i])) {</div>
<div class="line"><a name="l00287"></a><span class="lineno">  287</span>&#160;            <span class="keywordflow">return</span> <a class="code" href="hx711__multi_8c.html#af340b1352189f97c2a27b5c482aafb22">hx711_multi__async_read_array</a>[i];</div>
<div class="line"><a name="l00288"></a><span class="lineno">  288</span>&#160;        }</div>
<div class="line"><a name="l00289"></a><span class="lineno">  289</span>&#160; </div>
<div class="line"><a name="l00290"></a><span class="lineno">  290</span>&#160;    }</div>
<div class="line"><a name="l00291"></a><span class="lineno">  291</span>&#160; </div>
<div class="line"><a name="l00292"></a><span class="lineno">  292</span>&#160;    <span class="keywordflow">return</span> NULL;</div>
<div class="line"><a name="l00293"></a><span class="lineno">  293</span>&#160; </div>
<div class="line"><a name="l00294"></a><span class="lineno">  294</span>&#160;}</div>
<div class="ttc" id="ahx711__multi_8c_html_ade6c2db37be1ffdc511fd187dcd4a021"><div class="ttname"><a href="hx711__multi_8c.html#ade6c2db37be1ffdc511fd187dcd4a021">hx711_multi__async_pio_irq_is_set</a></div><div class="ttdeci">bool hx711_multi__async_pio_irq_is_set(hx711_multi_t *const hxm)</div><div class="ttdoc">Whether a given hxm is the cause of the current PIO IRQ.</div><div class="ttdef"><b>Definition:</b> <a href="hx711__multi_8c_source.html#l00245">hx711_multi.c:245</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="hx711__multi_8c_source.html#l00245">hx711_multi__async_pio_irq_is_set()</a>, <a class="el" href="hx711__multi_8c_source.html#l00040">hx711_multi__async_read_array</a>, and <a class="el" href="hx711__multi_8h_source.html#l00060">HX711_MULTI_ASYNC_READ_COUNT</a>.</p>

<p class="reference">Referenced by <a class="el" href="hx711__multi_8c_source.html#l00363">hx711_multi__async_pio_irq_handler()</a>.</p>

</div>
</div>
<a id="aae9f50fe5018621c4ff107b6ae63233e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aae9f50fe5018621c4ff107b6ae63233e">&#9670;&nbsp;</a></span>hx711_multi__async_is_running()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool hx711_multi__async_is_running </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structhx711__multi__t.html">hx711_multi_t</a> *const&#160;</td>
          <td class="paramname"><em>hxm</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Check whether an async read is currently occurring. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">hxm</td><td></td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>true </dd>
<dd>
false </dd></dl>

<p class="definition">Definition at line <a class="el" href="hx711__multi_8c_source.html#l00321">321</a> of file <a class="el" href="hx711__multi_8c_source.html">hx711_multi.c</a>.</p>
<div class="fragment"><div class="line"><a name="l00322"></a><span class="lineno">  322</span>&#160;                              {</div>
<div class="line"><a name="l00323"></a><span class="lineno">  323</span>&#160; </div>
<div class="line"><a name="l00324"></a><span class="lineno">  324</span>&#160;        assert(<a class="code" href="hx711__multi_8c.html#a621b39fc9bc2ef68c8c8d8d453c9d936">hx711_multi__is_state_machines_enabled</a>(hxm));</div>
<div class="line"><a name="l00325"></a><span class="lineno">  325</span>&#160; </div>
<div class="line"><a name="l00326"></a><span class="lineno">  326</span>&#160;        <span class="keywordflow">switch</span>(hxm-&gt;<a class="code" href="structhx711__multi__t.html#a2631597e6d679498afb6bd4d64ed7f4f">_async_state</a>) {</div>
<div class="line"><a name="l00327"></a><span class="lineno">  327</span>&#160;            <span class="keywordflow">case</span> <a class="code" href="hx711__multi_8h.html#a3e900ca4cb60ae6ec8851ea7f12f03d6a28335e27f8ea469f97b75c4441d4a19b">HX711_MULTI_ASYNC_STATE_WAITING</a>:</div>
<div class="line"><a name="l00328"></a><span class="lineno">  328</span>&#160;            <span class="keywordflow">case</span> <a class="code" href="hx711__multi_8h.html#a3e900ca4cb60ae6ec8851ea7f12f03d6ac8519692757c689781cbcb9fb42cdd10">HX711_MULTI_ASYNC_STATE_READING</a>:</div>
<div class="line"><a name="l00329"></a><span class="lineno">  329</span>&#160;                <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l00330"></a><span class="lineno">  330</span>&#160;            <span class="keywordflow">default</span>:</div>
<div class="line"><a name="l00331"></a><span class="lineno">  331</span>&#160;                <span class="comment">//anything else is not considered running</span></div>
<div class="line"><a name="l00332"></a><span class="lineno">  332</span>&#160;                <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00333"></a><span class="lineno">  333</span>&#160;        }</div>
<div class="line"><a name="l00334"></a><span class="lineno">  334</span>&#160; </div>
<div class="line"><a name="l00335"></a><span class="lineno">  335</span>&#160;}</div>
<div class="ttc" id="ahx711__multi_8h_html_a3e900ca4cb60ae6ec8851ea7f12f03d6a28335e27f8ea469f97b75c4441d4a19b"><div class="ttname"><a href="hx711__multi_8h.html#a3e900ca4cb60ae6ec8851ea7f12f03d6a28335e27f8ea469f97b75c4441d4a19b">HX711_MULTI_ASYNC_STATE_WAITING</a></div><div class="ttdeci">@ HX711_MULTI_ASYNC_STATE_WAITING</div><div class="ttdef"><b>Definition:</b> <a href="hx711__multi_8h_source.html#l00087">hx711_multi.h:87</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="hx711__multi_8h_source.html#l00116">hx711_multi_t::_async_state</a>, <a class="el" href="hx711__multi_8c_source.html#l00457">hx711_multi__is_state_machines_enabled()</a>, <a class="el" href="hx711__multi_8h_source.html#l00088">HX711_MULTI_ASYNC_STATE_READING</a>, and <a class="el" href="hx711__multi_8h_source.html#l00087">HX711_MULTI_ASYNC_STATE_WAITING</a>.</p>

<p class="reference">Referenced by <a class="el" href="hx711__multi_8c_source.html#l00736">hx711_multi_async_start()</a>, <a class="el" href="hx711__multi_8c_source.html#l00684">hx711_multi_get_values()</a>, and <a class="el" href="hx711__multi_8c_source.html#l00700">hx711_multi_get_values_timeout()</a>.</p>

</div>
</div>
<a id="ac752bd621a2decdf76df0ca490feca82"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac752bd621a2decdf76df0ca490feca82">&#9670;&nbsp;</a></span>hx711_multi__async_pio_irq_handler()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void __isr __not_in_flash_func() hx711_multi__async_pio_irq_handler </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>ISR handler for PIO IRQs. </p>

<p class="definition">Definition at line <a class="el" href="hx711__multi_8c_source.html#l00363">363</a> of file <a class="el" href="hx711__multi_8c_source.html">hx711_multi.c</a>.</p>
<div class="fragment"><div class="line"><a name="l00363"></a><span class="lineno">  363</span>&#160;                                                                     {</div>
<div class="line"><a name="l00364"></a><span class="lineno">  364</span>&#160; </div>
<div class="line"><a name="l00365"></a><span class="lineno">  365</span>&#160;    <a class="code" href="structhx711__multi__t.html">hx711_multi_t</a>* <span class="keyword">const</span> hxm = </div>
<div class="line"><a name="l00366"></a><span class="lineno">  366</span>&#160;        <a class="code" href="hx711__multi_8c.html#a8f7d377565bb4806d8f096b5922c4798">hx711_multi__async_get_pio_irq_request</a>();</div>
<div class="line"><a name="l00367"></a><span class="lineno">  367</span>&#160; </div>
<div class="line"><a name="l00368"></a><span class="lineno">  368</span>&#160;    assert(<a class="code" href="hx711__multi_8c.html#a621b39fc9bc2ef68c8c8d8d453c9d936">hx711_multi__is_state_machines_enabled</a>(hxm));</div>
<div class="line"><a name="l00369"></a><span class="lineno">  369</span>&#160;    assert(hxm-&gt;<a class="code" href="structhx711__multi__t.html#a2631597e6d679498afb6bd4d64ed7f4f">_async_state</a> == <a class="code" href="hx711__multi_8h.html#a3e900ca4cb60ae6ec8851ea7f12f03d6a28335e27f8ea469f97b75c4441d4a19b">HX711_MULTI_ASYNC_STATE_WAITING</a>);</div>
<div class="line"><a name="l00370"></a><span class="lineno">  370</span>&#160; </div>
<div class="line"><a name="l00371"></a><span class="lineno">  371</span>&#160;    <a class="code" href="hx711__multi_8c.html#a4816687081440630737e95c7252e22cf">hx711_multi__async_start_dma</a>(hxm);</div>
<div class="line"><a name="l00372"></a><span class="lineno">  372</span>&#160; </div>
<div class="line"><a name="l00373"></a><span class="lineno">  373</span>&#160;    <span class="comment">//disable listening until required again</span></div>
<div class="line"><a name="l00374"></a><span class="lineno">  374</span>&#160;    pio_set_irqn_source_enabled(</div>
<div class="line"><a name="l00375"></a><span class="lineno">  375</span>&#160;        hxm-&gt;<a class="code" href="structhx711__multi__t.html#ab3d6374db039d529c15616f9d82aee4d">_pio</a>,</div>
<div class="line"><a name="l00376"></a><span class="lineno">  376</span>&#160;        hxm-&gt;<a class="code" href="structhx711__multi__t.html#a8d4324e79160d630ca07cf45518dacf7">_pio_irq_index</a>,</div>
<div class="line"><a name="l00377"></a><span class="lineno">  377</span>&#160;        <a class="code" href="util_8h.html#a5396ad6c4f564a0f930324c8219aa0be">util_pio_get_pis_from_pio_interrupt_num</a>(<a class="code" href="hx711__multi_8h.html#a52c57e624876d18d8c1058f49d585ad1">HX711_MULTI_CONVERSION_DONE_IRQ_NUM</a>),</div>
<div class="line"><a name="l00378"></a><span class="lineno">  378</span>&#160;        <span class="keyword">false</span>);</div>
<div class="line"><a name="l00379"></a><span class="lineno">  379</span>&#160; </div>
<div class="line"><a name="l00380"></a><span class="lineno">  380</span>&#160;    irq_clear(</div>
<div class="line"><a name="l00381"></a><span class="lineno">  381</span>&#160;        <a class="code" href="util_8h.html#a7c75e38224040872c0774518627436da">util_pio_get_irq_from_index</a>(hxm-&gt;<a class="code" href="structhx711__multi__t.html#ab3d6374db039d529c15616f9d82aee4d">_pio</a>, hxm-&gt;<a class="code" href="structhx711__multi__t.html#a8d4324e79160d630ca07cf45518dacf7">_pio_irq_index</a>));</div>
<div class="line"><a name="l00382"></a><span class="lineno">  382</span>&#160; </div>
<div class="line"><a name="l00383"></a><span class="lineno">  383</span>&#160;}</div>
<div class="ttc" id="ahx711__multi_8c_html_a4816687081440630737e95c7252e22cf"><div class="ttname"><a href="hx711__multi_8c.html#a4816687081440630737e95c7252e22cf">hx711_multi__async_start_dma</a></div><div class="ttdeci">void hx711_multi__async_start_dma(hx711_multi_t *const hxm)</div><div class="ttdoc">Triggers DMA reading; moves request state from WAITING to READING.</div><div class="ttdef"><b>Definition:</b> <a href="hx711__multi_8c_source.html#l00296">hx711_multi.c:296</a></div></div>
<div class="ttc" id="ahx711__multi_8c_html_a8f7d377565bb4806d8f096b5922c4798"><div class="ttname"><a href="hx711__multi_8c.html#a8f7d377565bb4806d8f096b5922c4798">hx711_multi__async_get_pio_irq_request</a></div><div class="ttdeci">hx711_multi_t *const hx711_multi__async_get_pio_irq_request()</div><div class="ttdoc">Get the hxm which caused the current PIO IRQ. Returns NULL if none found.</div><div class="ttdef"><b>Definition:</b> <a href="hx711__multi_8c_source.html#l00276">hx711_multi.c:276</a></div></div>
<div class="ttc" id="autil_8h_html_a7c75e38224040872c0774518627436da"><div class="ttname"><a href="util_8h.html#a7c75e38224040872c0774518627436da">util_pio_get_irq_from_index</a></div><div class="ttdeci">uint util_pio_get_irq_from_index(PIO const pio, const uint idx)</div><div class="ttdoc">Gets the NVIC PIO IRQ number using a PIO pointer and PIO IRQ index.</div><div class="ttdef"><b>Definition:</b> <a href="util_8c_source.html#l00250">util.c:250</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="hx711__multi_8h_source.html#l00116">hx711_multi_t::_async_state</a>, <a class="el" href="hx711__multi_8h_source.html#l00098">hx711_multi_t::_pio</a>, <a class="el" href="hx711__multi_8h_source.html#l00114">hx711_multi_t::_pio_irq_index</a>, <a class="el" href="hx711__multi_8c_source.html#l00276">hx711_multi__async_get_pio_irq_request()</a>, <a class="el" href="hx711__multi_8c_source.html#l00296">hx711_multi__async_start_dma()</a>, <a class="el" href="hx711__multi_8c_source.html#l00457">hx711_multi__is_state_machines_enabled()</a>, <a class="el" href="hx711__multi_8h_source.html#l00087">HX711_MULTI_ASYNC_STATE_WAITING</a>, <a class="el" href="hx711__multi_8h_source.html#l00043">HX711_MULTI_CONVERSION_DONE_IRQ_NUM</a>, <a class="el" href="util_8c_source.html#l00250">util_pio_get_irq_from_index()</a>, and <a class="el" href="util_8c_source.html#l00301">util_pio_get_pis_from_pio_interrupt_num()</a>.</p>

<p class="reference">Referenced by <a class="el" href="hx711__multi_8c_source.html#l00184">hx711_multi__init_irq()</a>, <a class="el" href="hx711__multi_8c_source.html#l00441">hx711_multi__is_initd()</a>, and <a class="el" href="hx711__multi_8c_source.html#l00568">hx711_multi_close()</a>.</p>

</div>
</div>
<a id="ade6c2db37be1ffdc511fd187dcd4a021"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ade6c2db37be1ffdc511fd187dcd4a021">&#9670;&nbsp;</a></span>hx711_multi__async_pio_irq_is_set()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool hx711_multi__async_pio_irq_is_set </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structhx711__multi__t.html">hx711_multi_t</a> *const&#160;</td>
          <td class="paramname"><em>hxm</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Whether a given hxm is the cause of the current PIO IRQ. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">hxm</td><td></td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>true </dd>
<dd>
false </dd></dl>

<p class="definition">Definition at line <a class="el" href="hx711__multi_8c_source.html#l00245">245</a> of file <a class="el" href="hx711__multi_8c_source.html">hx711_multi.c</a>.</p>
<div class="fragment"><div class="line"><a name="l00246"></a><span class="lineno">  246</span>&#160;                              {</div>
<div class="line"><a name="l00247"></a><span class="lineno">  247</span>&#160; </div>
<div class="line"><a name="l00248"></a><span class="lineno">  248</span>&#160;        assert(<a class="code" href="hx711__multi_8c.html#ab0393c7baee372f5381b5ecce4aedcb1">hx711_multi__is_initd</a>(hxm));</div>
<div class="line"><a name="l00249"></a><span class="lineno">  249</span>&#160; </div>
<div class="line"><a name="l00250"></a><span class="lineno">  250</span>&#160;        <span class="keywordflow">return</span> pio_interrupt_get(</div>
<div class="line"><a name="l00251"></a><span class="lineno">  251</span>&#160;            hxm-&gt;<a class="code" href="structhx711__multi__t.html#ab3d6374db039d529c15616f9d82aee4d">_pio</a>,</div>
<div class="line"><a name="l00252"></a><span class="lineno">  252</span>&#160;            <a class="code" href="hx711__multi_8h.html#a52c57e624876d18d8c1058f49d585ad1">HX711_MULTI_CONVERSION_DONE_IRQ_NUM</a>);</div>
<div class="line"><a name="l00253"></a><span class="lineno">  253</span>&#160; </div>
<div class="line"><a name="l00254"></a><span class="lineno">  254</span>&#160;}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="hx711__multi_8h_source.html#l00098">hx711_multi_t::_pio</a>, <a class="el" href="hx711__multi_8c_source.html#l00441">hx711_multi__is_initd()</a>, and <a class="el" href="hx711__multi_8h_source.html#l00043">HX711_MULTI_CONVERSION_DONE_IRQ_NUM</a>.</p>

<p class="reference">Referenced by <a class="el" href="hx711__multi_8c_source.html#l00276">hx711_multi__async_get_pio_irq_request()</a>.</p>

</div>
</div>
<a id="afba103ff58dd2d7f75ee7ba34fb9e4ed"></a>
<h2 class="memtitle"><span class="permalink"><a href="#afba103ff58dd2d7f75ee7ba34fb9e4ed">&#9670;&nbsp;</a></span>hx711_multi__async_remove_reader()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void hx711_multi__async_remove_reader </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="structhx711__multi__t.html">hx711_multi_t</a> *const&#160;</td>
          <td class="paramname"><em>hxm</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Removes the given hxm from the request array. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">hxm</td><td></td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="hx711__multi_8c_source.html#l00423">423</a> of file <a class="el" href="hx711__multi_8c_source.html">hx711_multi.c</a>.</p>
<div class="fragment"><div class="line"><a name="l00424"></a><span class="lineno">  424</span>&#160;                                    {</div>
<div class="line"><a name="l00425"></a><span class="lineno">  425</span>&#160; </div>
<div class="line"><a name="l00426"></a><span class="lineno">  426</span>&#160;        <span class="comment">//we don&#39;t care whether it&#39;s initd at this point</span></div>
<div class="line"><a name="l00427"></a><span class="lineno">  427</span>&#160;        <span class="comment">//or whether the SMs are running; just remove it</span></div>
<div class="line"><a name="l00428"></a><span class="lineno">  428</span>&#160;        <span class="comment">//from the array</span></div>
<div class="line"><a name="l00429"></a><span class="lineno">  429</span>&#160;        assert(hxm != NULL);</div>
<div class="line"><a name="l00430"></a><span class="lineno">  430</span>&#160;        assert(<a class="code" href="hx711__multi_8c.html#af340b1352189f97c2a27b5c482aafb22">hx711_multi__async_read_array</a> != NULL);</div>
<div class="line"><a name="l00431"></a><span class="lineno">  431</span>&#160; </div>
<div class="line"><a name="l00432"></a><span class="lineno">  432</span>&#160;        <span class="keywordflow">for</span>(uint i = 0; i &lt; <a class="code" href="hx711__multi_8h.html#a9fadd730bba782f2b000847846c3cd01">HX711_MULTI_ASYNC_READ_COUNT</a>; ++i) {</div>
<div class="line"><a name="l00433"></a><span class="lineno">  433</span>&#160;            <span class="keywordflow">if</span>(<a class="code" href="hx711__multi_8c.html#af340b1352189f97c2a27b5c482aafb22">hx711_multi__async_read_array</a>[i] == hxm) {</div>
<div class="line"><a name="l00434"></a><span class="lineno">  434</span>&#160;                <a class="code" href="hx711__multi_8c.html#af340b1352189f97c2a27b5c482aafb22">hx711_multi__async_read_array</a>[i] = NULL;</div>
<div class="line"><a name="l00435"></a><span class="lineno">  435</span>&#160;                <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00436"></a><span class="lineno">  436</span>&#160;            }</div>
<div class="line"><a name="l00437"></a><span class="lineno">  437</span>&#160;        }</div>
<div class="line"><a name="l00438"></a><span class="lineno">  438</span>&#160; </div>
<div class="line"><a name="l00439"></a><span class="lineno">  439</span>&#160;}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="hx711__multi_8c_source.html#l00040">hx711_multi__async_read_array</a>, and <a class="el" href="hx711__multi_8h_source.html#l00060">HX711_MULTI_ASYNC_READ_COUNT</a>.</p>

<p class="reference">Referenced by <a class="el" href="hx711__multi_8c_source.html#l00568">hx711_multi_close()</a>.</p>

</div>
</div>
<a id="a4816687081440630737e95c7252e22cf"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4816687081440630737e95c7252e22cf">&#9670;&nbsp;</a></span>hx711_multi__async_start_dma()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void hx711_multi__async_start_dma </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structhx711__multi__t.html">hx711_multi_t</a> *const&#160;</td>
          <td class="paramname"><em>hxm</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Triggers DMA reading; moves request state from WAITING to READING. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">hxm</td><td></td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="hx711__multi_8c_source.html#l00296">296</a> of file <a class="el" href="hx711__multi_8c_source.html">hx711_multi.c</a>.</p>
<div class="fragment"><div class="line"><a name="l00297"></a><span class="lineno">  297</span>&#160;                              {</div>
<div class="line"><a name="l00298"></a><span class="lineno">  298</span>&#160; </div>
<div class="line"><a name="l00299"></a><span class="lineno">  299</span>&#160;        assert(<a class="code" href="hx711__multi_8c.html#a621b39fc9bc2ef68c8c8d8d453c9d936">hx711_multi__is_state_machines_enabled</a>(hxm));</div>
<div class="line"><a name="l00300"></a><span class="lineno">  300</span>&#160;        assert(hxm-&gt;<a class="code" href="structhx711__multi__t.html#a2631597e6d679498afb6bd4d64ed7f4f">_async_state</a> == <a class="code" href="hx711__multi_8h.html#a3e900ca4cb60ae6ec8851ea7f12f03d6a28335e27f8ea469f97b75c4441d4a19b">HX711_MULTI_ASYNC_STATE_WAITING</a>);</div>
<div class="line"><a name="l00301"></a><span class="lineno">  301</span>&#160; </div>
<div class="line"><a name="l00302"></a><span class="lineno">  302</span>&#160;        <a class="code" href="util_8h.html#a47c51ff2f1f520cef9a8a3d0d0f11188">util_pio_sm_clear_rx_fifo</a>(</div>
<div class="line"><a name="l00303"></a><span class="lineno">  303</span>&#160;            hxm-&gt;<a class="code" href="structhx711__multi__t.html#ab3d6374db039d529c15616f9d82aee4d">_pio</a>,</div>
<div class="line"><a name="l00304"></a><span class="lineno">  304</span>&#160;            hxm-&gt;<a class="code" href="structhx711__multi__t.html#aa2661eaa306cb2672b361b63ed597ae7">_reader_sm</a>);</div>
<div class="line"><a name="l00305"></a><span class="lineno">  305</span>&#160; </div>
<div class="line"><a name="l00306"></a><span class="lineno">  306</span>&#160;        <span class="comment">//listen for DMA done</span></div>
<div class="line"><a name="l00307"></a><span class="lineno">  307</span>&#160;        dma_irqn_set_channel_enabled(</div>
<div class="line"><a name="l00308"></a><span class="lineno">  308</span>&#160;            hxm-&gt;<a class="code" href="structhx711__multi__t.html#a3ac0daec08eac7db2f64eb836633b438">_dma_irq_index</a>,</div>
<div class="line"><a name="l00309"></a><span class="lineno">  309</span>&#160;            hxm-&gt;<a class="code" href="structhx711__multi__t.html#a2b290b76bacac6b8642ce87d9ab4bf52">_dma_channel</a>,</div>
<div class="line"><a name="l00310"></a><span class="lineno">  310</span>&#160;            <span class="keyword">true</span>);</div>
<div class="line"><a name="l00311"></a><span class="lineno">  311</span>&#160; </div>
<div class="line"><a name="l00312"></a><span class="lineno">  312</span>&#160;        hxm-&gt;<a class="code" href="structhx711__multi__t.html#a2631597e6d679498afb6bd4d64ed7f4f">_async_state</a> = <a class="code" href="hx711__multi_8h.html#a3e900ca4cb60ae6ec8851ea7f12f03d6ac8519692757c689781cbcb9fb42cdd10">HX711_MULTI_ASYNC_STATE_READING</a>;</div>
<div class="line"><a name="l00313"></a><span class="lineno">  313</span>&#160; </div>
<div class="line"><a name="l00314"></a><span class="lineno">  314</span>&#160;        dma_channel_set_write_addr(</div>
<div class="line"><a name="l00315"></a><span class="lineno">  315</span>&#160;            hxm-&gt;<a class="code" href="structhx711__multi__t.html#a2b290b76bacac6b8642ce87d9ab4bf52">_dma_channel</a>,</div>
<div class="line"><a name="l00316"></a><span class="lineno">  316</span>&#160;            hxm-&gt;<a class="code" href="structhx711__multi__t.html#ad879282292bf5582940c4572b3d4218b">_buffer</a>,</div>
<div class="line"><a name="l00317"></a><span class="lineno">  317</span>&#160;            <span class="keyword">true</span>); <span class="comment">//trigger</span></div>
<div class="line"><a name="l00318"></a><span class="lineno">  318</span>&#160; </div>
<div class="line"><a name="l00319"></a><span class="lineno">  319</span>&#160;}</div>
<div class="ttc" id="astructhx711__multi__t_html_aa2661eaa306cb2672b361b63ed597ae7"><div class="ttname"><a href="structhx711__multi__t.html#aa2661eaa306cb2672b361b63ed597ae7">hx711_multi_t::_reader_sm</a></div><div class="ttdeci">uint _reader_sm</div><div class="ttdef"><b>Definition:</b> <a href="hx711__multi_8h_source.html#l00107">hx711_multi.h:107</a></div></div>
<div class="ttc" id="astructhx711__multi__t_html_ad879282292bf5582940c4572b3d4218b"><div class="ttname"><a href="structhx711__multi__t.html#ad879282292bf5582940c4572b3d4218b">hx711_multi_t::_buffer</a></div><div class="ttdeci">uint32_t _buffer[HX711_READ_BITS]</div><div class="ttdef"><b>Definition:</b> <a href="hx711__multi_8h_source.html#l00112">hx711_multi.h:112</a></div></div>
<div class="ttc" id="autil_8h_html_a47c51ff2f1f520cef9a8a3d0d0f11188"><div class="ttname"><a href="util_8h.html#a47c51ff2f1f520cef9a8a3d0d0f11188">util_pio_sm_clear_rx_fifo</a></div><div class="ttdeci">void util_pio_sm_clear_rx_fifo(PIO const pio, const uint sm)</div><div class="ttdoc">Clears a given state machine's RX FIFO.</div><div class="ttdef"><b>Definition:</b> <a href="util_8c_source.html#l00334">util.c:334</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="hx711__multi_8h_source.html#l00116">hx711_multi_t::_async_state</a>, <a class="el" href="hx711__multi_8h_source.html#l00112">hx711_multi_t::_buffer</a>, <a class="el" href="hx711__multi_8h_source.html#l00110">hx711_multi_t::_dma_channel</a>, <a class="el" href="hx711__multi_8h_source.html#l00115">hx711_multi_t::_dma_irq_index</a>, <a class="el" href="hx711__multi_8h_source.html#l00098">hx711_multi_t::_pio</a>, <a class="el" href="hx711__multi_8h_source.html#l00107">hx711_multi_t::_reader_sm</a>, <a class="el" href="hx711__multi_8c_source.html#l00457">hx711_multi__is_state_machines_enabled()</a>, <a class="el" href="hx711__multi_8h_source.html#l00088">HX711_MULTI_ASYNC_STATE_READING</a>, <a class="el" href="hx711__multi_8h_source.html#l00087">HX711_MULTI_ASYNC_STATE_WAITING</a>, and <a class="el" href="util_8c_source.html#l00334">util_pio_sm_clear_rx_fifo()</a>.</p>

<p class="reference">Referenced by <a class="el" href="hx711__multi_8c_source.html#l00363">hx711_multi__async_pio_irq_handler()</a>, and <a class="el" href="hx711__multi_8c_source.html#l00736">hx711_multi_async_start()</a>.</p>

</div>
</div>
<a id="ae42ed9d1dab3e22ef88f1578e86aade5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae42ed9d1dab3e22ef88f1578e86aade5">&#9670;&nbsp;</a></span>hx711_multi__init_asert()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void hx711_multi__init_asert </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structhx711__multi__t.html">hx711_multi_t</a> *const&#160;</td>
          <td class="paramname"><em>hxm</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="structhx711__multi__config__t.html">hx711_multi_config_t</a> *const&#160;</td>
          <td class="paramname"><em>config</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="hx711__multi_8c_source.html#l00044">44</a> of file <a class="el" href="hx711__multi_8c_source.html">hx711_multi.c</a>.</p>
<div class="fragment"><div class="line"><a name="l00046"></a><span class="lineno">   46</span>&#160;                                              {</div>
<div class="line"><a name="l00047"></a><span class="lineno">   47</span>&#160; </div>
<div class="line"><a name="l00048"></a><span class="lineno">   48</span>&#160;        assert(hxm != NULL);</div>
<div class="line"><a name="l00049"></a><span class="lineno">   49</span>&#160;        assert(config != NULL);</div>
<div class="line"><a name="l00050"></a><span class="lineno">   50</span>&#160; </div>
<div class="line"><a name="l00051"></a><span class="lineno">   51</span>&#160;        assert(util_uint_in_range(</div>
<div class="line"><a name="l00052"></a><span class="lineno">   52</span>&#160;            config-&gt;<a class="code" href="structhx711__multi__config__t.html#a21fd8b238c4dfc429129d6b263995db1">chips_len</a>,</div>
<div class="line"><a name="l00053"></a><span class="lineno">   53</span>&#160;            <a class="code" href="hx711__multi_8h.html#a0351264b1e64ee39ecb08a6ff8afbc8e">HX711_MULTI_MIN_CHIPS</a>,</div>
<div class="line"><a name="l00054"></a><span class="lineno">   54</span>&#160;            <a class="code" href="hx711__multi_8h.html#ac2c6559f388d2948d23ac2cae46a5ffa">HX711_MULTI_MAX_CHIPS</a>));</div>
<div class="line"><a name="l00055"></a><span class="lineno">   55</span>&#160; </div>
<div class="line"><a name="l00056"></a><span class="lineno">   56</span>&#160;        assert(config-&gt;<a class="code" href="structhx711__multi__config__t.html#acfa4942a5a80a4ba2207142343c3a4b9">pio</a> != NULL);</div>
<div class="line"><a name="l00057"></a><span class="lineno">   57</span>&#160;        check_pio_param(config-&gt;<a class="code" href="structhx711__multi__config__t.html#acfa4942a5a80a4ba2207142343c3a4b9">pio</a>);</div>
<div class="line"><a name="l00058"></a><span class="lineno">   58</span>&#160;        assert(config-&gt;<a class="code" href="structhx711__multi__config__t.html#ae8fe92cea904beb747575247e03d4dc5">pio_init</a> != NULL);</div>
<div class="line"><a name="l00059"></a><span class="lineno">   59</span>&#160; </div>
<div class="line"><a name="l00060"></a><span class="lineno">   60</span>&#160;        assert(config-&gt;<a class="code" href="structhx711__multi__config__t.html#a5c2c14849efb3824aee686026f7c8318">awaiter_prog</a> != NULL);</div>
<div class="line"><a name="l00061"></a><span class="lineno">   61</span>&#160;        assert(config-&gt;<a class="code" href="structhx711__multi__config__t.html#a6ccb4149b3dbafe1ebb1301d2b5df6b9">awaiter_prog_init</a> != NULL);</div>
<div class="line"><a name="l00062"></a><span class="lineno">   62</span>&#160; </div>
<div class="line"><a name="l00063"></a><span class="lineno">   63</span>&#160;        assert(config-&gt;<a class="code" href="structhx711__multi__config__t.html#a8109c9bd986ba6a1d04c69eaa0cfd3b1">reader_prog</a> != NULL);</div>
<div class="line"><a name="l00064"></a><span class="lineno">   64</span>&#160;        assert(config-&gt;<a class="code" href="structhx711__multi__config__t.html#a88f5ff5df1bf6d67e7db351ee1abe647">reader_prog_init</a> != NULL);</div>
<div class="line"><a name="l00065"></a><span class="lineno">   65</span>&#160; </div>
<div class="line"><a name="l00066"></a><span class="lineno">   66</span>&#160;        assert(<a class="code" href="util_8h.html#a266686061b7f807c0d4e968b3c540784">util_pio_irq_index_is_valid</a>(config-&gt;<a class="code" href="structhx711__multi__config__t.html#afeac977c5e8cb7a89fede1c3ccf2cd3c">pio_irq_index</a>));</div>
<div class="line"><a name="l00067"></a><span class="lineno">   67</span>&#160;        assert(<a class="code" href="util_8h.html#ab608bf0b5e21f847b4de8ce727ad0704">util_dma_irq_index_is_valid</a>(config-&gt;<a class="code" href="structhx711__multi__config__t.html#a46f7d7523f979d1cb5a3401c11349110">dma_irq_index</a>));</div>
<div class="line"><a name="l00068"></a><span class="lineno">   68</span>&#160; </div>
<div class="line"><a name="l00069"></a><span class="lineno">   69</span>&#160;<span class="preprocessor">#ifndef NDEBUG</span></div>
<div class="line"><a name="l00070"></a><span class="lineno">   70</span>&#160;        {</div>
<div class="line"><a name="l00071"></a><span class="lineno">   71</span>&#160;            <span class="comment">//make sure none of the data pins are also the clock pin</span></div>
<div class="line"><a name="l00072"></a><span class="lineno">   72</span>&#160;            <span class="keyword">const</span> uint l = config-&gt;<a class="code" href="structhx711__multi__config__t.html#a40c904ad9477c809d4d5f257bf092944">data_pin_base</a> + config-&gt;<a class="code" href="structhx711__multi__config__t.html#a21fd8b238c4dfc429129d6b263995db1">chips_len</a> - 1;</div>
<div class="line"><a name="l00073"></a><span class="lineno">   73</span>&#160;            <span class="keywordflow">for</span>(uint i = config-&gt;<a class="code" href="structhx711__multi__config__t.html#a40c904ad9477c809d4d5f257bf092944">data_pin_base</a>; i &lt;= l; ++i) {</div>
<div class="line"><a name="l00074"></a><span class="lineno">   74</span>&#160;                assert(i != config-&gt;<a class="code" href="structhx711__multi__config__t.html#ab658e4573c7713d43e64e48c6cdbb807">clock_pin</a>);</div>
<div class="line"><a name="l00075"></a><span class="lineno">   75</span>&#160;            }</div>
<div class="line"><a name="l00076"></a><span class="lineno">   76</span>&#160;        }</div>
<div class="line"><a name="l00077"></a><span class="lineno">   77</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l00078"></a><span class="lineno">   78</span>&#160; </div>
<div class="line"><a name="l00079"></a><span class="lineno">   79</span>&#160;}</div>
<div class="ttc" id="ahx711__multi_8h_html_a0351264b1e64ee39ecb08a6ff8afbc8e"><div class="ttname"><a href="hx711__multi_8h.html#a0351264b1e64ee39ecb08a6ff8afbc8e">HX711_MULTI_MIN_CHIPS</a></div><div class="ttdeci">#define HX711_MULTI_MIN_CHIPS</div><div class="ttdoc">Minimum number of chips to connect to a hx711_multi.</div><div class="ttdef"><b>Definition:</b> <a href="hx711__multi_8h_source.html#l00071">hx711_multi.h:71</a></div></div>
<div class="ttc" id="ahx711__multi_8h_html_ac2c6559f388d2948d23ac2cae46a5ffa"><div class="ttname"><a href="hx711__multi_8h.html#ac2c6559f388d2948d23ac2cae46a5ffa">HX711_MULTI_MAX_CHIPS</a></div><div class="ttdeci">#define HX711_MULTI_MAX_CHIPS</div><div class="ttdoc">The max number of chips could technically be the same as the number of bits output from the PIO State...</div><div class="ttdef"><b>Definition:</b> <a href="hx711__multi_8h_source.html#l00080">hx711_multi.h:80</a></div></div>
<div class="ttc" id="astructhx711__multi__config__t_html_a21fd8b238c4dfc429129d6b263995db1"><div class="ttname"><a href="structhx711__multi__config__t.html#a21fd8b238c4dfc429129d6b263995db1">hx711_multi_config_t::chips_len</a></div><div class="ttdeci">size_t chips_len</div><div class="ttdoc">Number of HX711 chips connected.</div><div class="ttdef"><b>Definition:</b> <a href="hx711__multi_8h_source.html#l00142">hx711_multi.h:142</a></div></div>
<div class="ttc" id="astructhx711__multi__config__t_html_a40c904ad9477c809d4d5f257bf092944"><div class="ttname"><a href="structhx711__multi__config__t.html#a40c904ad9477c809d4d5f257bf092944">hx711_multi_config_t::data_pin_base</a></div><div class="ttdeci">uint data_pin_base</div><div class="ttdoc">Lowest GPIO pin number connected to a HX711 chip.</div><div class="ttdef"><b>Definition:</b> <a href="hx711__multi_8h_source.html#l00137">hx711_multi.h:137</a></div></div>
<div class="ttc" id="astructhx711__multi__config__t_html_a46f7d7523f979d1cb5a3401c11349110"><div class="ttname"><a href="structhx711__multi__config__t.html#a46f7d7523f979d1cb5a3401c11349110">hx711_multi_config_t::dma_irq_index</a></div><div class="ttdeci">uint dma_irq_index</div><div class="ttdoc">Which index to use for a DMA interrupt. Either 0 or 1. Corresponds to DMA_IRQ[IRQ_INDEX] NVIC IRQ num...</div><div class="ttdef"><b>Definition:</b> <a href="hx711__multi_8h_source.html#l00155">hx711_multi.h:155</a></div></div>
<div class="ttc" id="astructhx711__multi__config__t_html_a5c2c14849efb3824aee686026f7c8318"><div class="ttname"><a href="structhx711__multi__config__t.html#a5c2c14849efb3824aee686026f7c8318">hx711_multi_config_t::awaiter_prog</a></div><div class="ttdeci">const pio_program_t * awaiter_prog</div><div class="ttdoc">PIO awaiter program.</div><div class="ttdef"><b>Definition:</b> <a href="hx711__multi_8h_source.html#l00174">hx711_multi.h:174</a></div></div>
<div class="ttc" id="astructhx711__multi__config__t_html_a6ccb4149b3dbafe1ebb1301d2b5df6b9"><div class="ttname"><a href="structhx711__multi__config__t.html#a6ccb4149b3dbafe1ebb1301d2b5df6b9">hx711_multi_config_t::awaiter_prog_init</a></div><div class="ttdeci">hx711_multi_program_init_t awaiter_prog_init</div><div class="ttdoc">PIO awaiter init function. This is called to set up the State Machine for the awaiter program....</div><div class="ttdef"><b>Definition:</b> <a href="hx711__multi_8h_source.html#l00181">hx711_multi.h:181</a></div></div>
<div class="ttc" id="astructhx711__multi__config__t_html_a8109c9bd986ba6a1d04c69eaa0cfd3b1"><div class="ttname"><a href="structhx711__multi__config__t.html#a8109c9bd986ba6a1d04c69eaa0cfd3b1">hx711_multi_config_t::reader_prog</a></div><div class="ttdeci">const pio_program_t * reader_prog</div><div class="ttdoc">PIO reader program.</div><div class="ttdef"><b>Definition:</b> <a href="hx711__multi_8h_source.html#l00187">hx711_multi.h:187</a></div></div>
<div class="ttc" id="astructhx711__multi__config__t_html_a88f5ff5df1bf6d67e7db351ee1abe647"><div class="ttname"><a href="structhx711__multi__config__t.html#a88f5ff5df1bf6d67e7db351ee1abe647">hx711_multi_config_t::reader_prog_init</a></div><div class="ttdeci">hx711_multi_program_init_t reader_prog_init</div><div class="ttdoc">PIO reader init function. This is called to set up the State Machine for the reader program....</div><div class="ttdef"><b>Definition:</b> <a href="hx711__multi_8h_source.html#l00194">hx711_multi.h:194</a></div></div>
<div class="ttc" id="astructhx711__multi__config__t_html_ab658e4573c7713d43e64e48c6cdbb807"><div class="ttname"><a href="structhx711__multi__config__t.html#ab658e4573c7713d43e64e48c6cdbb807">hx711_multi_config_t::clock_pin</a></div><div class="ttdeci">uint clock_pin</div><div class="ttdoc">GPIO pin number connected to all HX711 chips.</div><div class="ttdef"><b>Definition:</b> <a href="hx711__multi_8h_source.html#l00132">hx711_multi.h:132</a></div></div>
<div class="ttc" id="astructhx711__multi__config__t_html_acfa4942a5a80a4ba2207142343c3a4b9"><div class="ttname"><a href="structhx711__multi__config__t.html#acfa4942a5a80a4ba2207142343c3a4b9">hx711_multi_config_t::pio</a></div><div class="ttdeci">PIO pio</div><div class="ttdoc">Which PIO to use. Either pio0 or pio1.</div><div class="ttdef"><b>Definition:</b> <a href="hx711__multi_8h_source.html#l00161">hx711_multi.h:161</a></div></div>
<div class="ttc" id="astructhx711__multi__config__t_html_ae8fe92cea904beb747575247e03d4dc5"><div class="ttname"><a href="structhx711__multi__config__t.html#ae8fe92cea904beb747575247e03d4dc5">hx711_multi_config_t::pio_init</a></div><div class="ttdeci">hx711_multi_pio_init_t pio_init</div><div class="ttdoc">PIO init function. This is called to set up any PIO functions (pio_*) as opposed to any State Machine...</div><div class="ttdef"><b>Definition:</b> <a href="hx711__multi_8h_source.html#l00168">hx711_multi.h:168</a></div></div>
<div class="ttc" id="astructhx711__multi__config__t_html_afeac977c5e8cb7a89fede1c3ccf2cd3c"><div class="ttname"><a href="structhx711__multi__config__t.html#afeac977c5e8cb7a89fede1c3ccf2cd3c">hx711_multi_config_t::pio_irq_index</a></div><div class="ttdeci">uint pio_irq_index</div><div class="ttdoc">Which index to use for a PIO interrupt. Either 0 or 1. Corresponds to PIO[PIO_INDEX]_IRQ[IRQ_INDEX] N...</div><div class="ttdef"><b>Definition:</b> <a href="hx711__multi_8h_source.html#l00149">hx711_multi.h:149</a></div></div>
<div class="ttc" id="autil_8h_html_a266686061b7f807c0d4e968b3c540784"><div class="ttname"><a href="util_8h.html#a266686061b7f807c0d4e968b3c540784">util_pio_irq_index_is_valid</a></div><div class="ttdeci">bool util_pio_irq_index_is_valid(const uint idx)</div><div class="ttdoc">Check whether PIO IRQ index is valid.</div><div class="ttdef"><b>Definition:</b> <a href="util_8c_source.html#l00226">util.c:226</a></div></div>
<div class="ttc" id="autil_8h_html_ab608bf0b5e21f847b4de8ce727ad0704"><div class="ttname"><a href="util_8h.html#ab608bf0b5e21f847b4de8ce727ad0704">util_dma_irq_index_is_valid</a></div><div class="ttdeci">bool util_dma_irq_index_is_valid(const uint idx)</div><div class="ttdoc">Check whether a DMA IRQ index is valid.</div><div class="ttdef"><b>Definition:</b> <a href="util_8c_source.html#l00065">util.c:65</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="hx711__multi_8h_source.html#l00174">hx711_multi_config_t::awaiter_prog</a>, <a class="el" href="hx711__multi_8h_source.html#l00181">hx711_multi_config_t::awaiter_prog_init</a>, <a class="el" href="hx711__multi_8h_source.html#l00142">hx711_multi_config_t::chips_len</a>, <a class="el" href="hx711__multi_8h_source.html#l00132">hx711_multi_config_t::clock_pin</a>, <a class="el" href="hx711__multi_8h_source.html#l00137">hx711_multi_config_t::data_pin_base</a>, <a class="el" href="hx711__multi_8h_source.html#l00155">hx711_multi_config_t::dma_irq_index</a>, <a class="el" href="hx711__multi_8h_source.html#l00080">HX711_MULTI_MAX_CHIPS</a>, <a class="el" href="hx711__multi_8h_source.html#l00071">HX711_MULTI_MIN_CHIPS</a>, <a class="el" href="hx711__multi_8h_source.html#l00161">hx711_multi_config_t::pio</a>, <a class="el" href="hx711__multi_8h_source.html#l00168">hx711_multi_config_t::pio_init</a>, <a class="el" href="hx711__multi_8h_source.html#l00149">hx711_multi_config_t::pio_irq_index</a>, <a class="el" href="hx711__multi_8h_source.html#l00187">hx711_multi_config_t::reader_prog</a>, <a class="el" href="hx711__multi_8h_source.html#l00194">hx711_multi_config_t::reader_prog_init</a>, <a class="el" href="util_8c_source.html#l00065">util_dma_irq_index_is_valid()</a>, and <a class="el" href="util_8c_source.html#l00226">util_pio_irq_index_is_valid()</a>.</p>

<p class="reference">Referenced by <a class="el" href="hx711__multi_8c_source.html#l00518">hx711_multi_init()</a>.</p>

</div>
</div>
<a id="ae049f0ef5524a30945ac858053e26703"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae049f0ef5524a30945ac858053e26703">&#9670;&nbsp;</a></span>hx711_multi__init_dma()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void hx711_multi__init_dma </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structhx711__multi__t.html">hx711_multi_t</a> *const&#160;</td>
          <td class="paramname"><em>hxm</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Subroutine for initialising DMA. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">hxm</td><td></td></tr>
  </table>
  </dd>
</dl>
<p>Casting dma_claim_unused_channel to uint is OK in this circumstance. Ordinarily it would return -1 if the claim failed, but since the flag is given to require a DMA channel, panic would be called instead.</p>
<p>Do not set ring buffer. ie. do not use channel_config_set_ring. If, for whatever reason, the DMA transfer fails, subsequent transfer invocations will reset the write address.</p>
<p>PIO RX FIFO output is 32 bits, so the DMA read needs to match or be larger.</p>
<p>DMA is always going to read from the same location, which is the PIO FIFO.</p>
<p>Each successive read from the PIO RX FIFO needs to be to the next array buffer position.</p>
<p>DMA transfers are paced based on the PIO RX DREQ.</p>
<p>Quiet needs to be disabled in order for DMA to raise an interrupt when each transfer is complete. This is necessary for this implementation to work.</p>

<p class="definition">Definition at line <a class="el" href="hx711__multi_8c_source.html#l00110">110</a> of file <a class="el" href="hx711__multi_8c_source.html">hx711_multi.c</a>.</p>
<div class="fragment"><div class="line"><a name="l00110"></a><span class="lineno">  110</span>&#160;                                                     {</div>
<div class="line"><a name="l00111"></a><span class="lineno">  111</span>&#160; </div>
<div class="line"><a name="l00118"></a><span class="lineno">  118</span>&#160;    hxm-&gt;<a class="code" href="structhx711__multi__t.html#a2b290b76bacac6b8642ce87d9ab4bf52">_dma_channel</a> = (uint)dma_claim_unused_channel(<span class="keyword">true</span>);</div>
<div class="line"><a name="l00119"></a><span class="lineno">  119</span>&#160; </div>
<div class="line"><a name="l00120"></a><span class="lineno">  120</span>&#160;    dma_channel_config cfg = dma_channel_get_default_config(</div>
<div class="line"><a name="l00121"></a><span class="lineno">  121</span>&#160;        hxm-&gt;<a class="code" href="structhx711__multi__t.html#a2b290b76bacac6b8642ce87d9ab4bf52">_dma_channel</a>);</div>
<div class="line"><a name="l00122"></a><span class="lineno">  122</span>&#160; </div>
<div class="line"><a name="l00135"></a><span class="lineno">  135</span>&#160;    channel_config_set_transfer_data_size(</div>
<div class="line"><a name="l00136"></a><span class="lineno">  136</span>&#160;        &amp;cfg,</div>
<div class="line"><a name="l00137"></a><span class="lineno">  137</span>&#160;        DMA_SIZE_32);</div>
<div class="line"><a name="l00138"></a><span class="lineno">  138</span>&#160; </div>
<div class="line"><a name="l00143"></a><span class="lineno">  143</span>&#160;    channel_config_set_read_increment(</div>
<div class="line"><a name="l00144"></a><span class="lineno">  144</span>&#160;        &amp;cfg,</div>
<div class="line"><a name="l00145"></a><span class="lineno">  145</span>&#160;        <span class="keyword">false</span>);</div>
<div class="line"><a name="l00146"></a><span class="lineno">  146</span>&#160; </div>
<div class="line"><a name="l00151"></a><span class="lineno">  151</span>&#160;    channel_config_set_write_increment(</div>
<div class="line"><a name="l00152"></a><span class="lineno">  152</span>&#160;        &amp;cfg,</div>
<div class="line"><a name="l00153"></a><span class="lineno">  153</span>&#160;        <span class="keyword">true</span>);</div>
<div class="line"><a name="l00154"></a><span class="lineno">  154</span>&#160; </div>
<div class="line"><a name="l00158"></a><span class="lineno">  158</span>&#160;    channel_config_set_dreq(</div>
<div class="line"><a name="l00159"></a><span class="lineno">  159</span>&#160;        &amp;cfg,</div>
<div class="line"><a name="l00160"></a><span class="lineno">  160</span>&#160;        pio_get_dreq(</div>
<div class="line"><a name="l00161"></a><span class="lineno">  161</span>&#160;            hxm-&gt;<a class="code" href="structhx711__multi__t.html#ab3d6374db039d529c15616f9d82aee4d">_pio</a>,</div>
<div class="line"><a name="l00162"></a><span class="lineno">  162</span>&#160;            hxm-&gt;<a class="code" href="structhx711__multi__t.html#aa2661eaa306cb2672b361b63ed597ae7">_reader_sm</a>,</div>
<div class="line"><a name="l00163"></a><span class="lineno">  163</span>&#160;            <span class="keyword">false</span>));</div>
<div class="line"><a name="l00164"></a><span class="lineno">  164</span>&#160; </div>
<div class="line"><a name="l00170"></a><span class="lineno">  170</span>&#160;    channel_config_set_irq_quiet(</div>
<div class="line"><a name="l00171"></a><span class="lineno">  171</span>&#160;        &amp;cfg,</div>
<div class="line"><a name="l00172"></a><span class="lineno">  172</span>&#160;        <span class="keyword">false</span>);</div>
<div class="line"><a name="l00173"></a><span class="lineno">  173</span>&#160; </div>
<div class="line"><a name="l00174"></a><span class="lineno">  174</span>&#160;    dma_channel_configure(</div>
<div class="line"><a name="l00175"></a><span class="lineno">  175</span>&#160;        hxm-&gt;<a class="code" href="structhx711__multi__t.html#a2b290b76bacac6b8642ce87d9ab4bf52">_dma_channel</a>,</div>
<div class="line"><a name="l00176"></a><span class="lineno">  176</span>&#160;        &amp;cfg,</div>
<div class="line"><a name="l00177"></a><span class="lineno">  177</span>&#160;        NULL,                               <span class="comment">//don&#39;t set a write address yet</span></div>
<div class="line"><a name="l00178"></a><span class="lineno">  178</span>&#160;        &amp;hxm-&gt;<a class="code" href="structhx711__multi__t.html#ab3d6374db039d529c15616f9d82aee4d">_pio</a>-&gt;rxf[hxm-&gt;<a class="code" href="structhx711__multi__t.html#aa2661eaa306cb2672b361b63ed597ae7">_reader_sm</a>],   <span class="comment">//read from reader pio program rx fifo</span></div>
<div class="line"><a name="l00179"></a><span class="lineno">  179</span>&#160;        <a class="code" href="hx711_8h.html#aa27f0501a4e5a1c5d24c0d63caccd21e">HX711_READ_BITS</a>,                    <span class="comment">//24 transfers; one for each HX711 bit</span></div>
<div class="line"><a name="l00180"></a><span class="lineno">  180</span>&#160;        <span class="keyword">false</span>);                             <span class="comment">//false = don&#39;t start now</span></div>
<div class="line"><a name="l00181"></a><span class="lineno">  181</span>&#160; </div>
<div class="line"><a name="l00182"></a><span class="lineno">  182</span>&#160;}</div>
<div class="ttc" id="ahx711_8h_html_aa27f0501a4e5a1c5d24c0d63caccd21e"><div class="ttname"><a href="hx711_8h.html#aa27f0501a4e5a1c5d24c0d63caccd21e">HX711_READ_BITS</a></div><div class="ttdeci">#define HX711_READ_BITS</div><div class="ttdef"><b>Definition:</b> <a href="hx711_8h_source.html#l00049">hx711.h:49</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="hx711__multi_8h_source.html#l00110">hx711_multi_t::_dma_channel</a>, <a class="el" href="hx711__multi_8h_source.html#l00098">hx711_multi_t::_pio</a>, <a class="el" href="hx711__multi_8h_source.html#l00107">hx711_multi_t::_reader_sm</a>, and <a class="el" href="hx711_8h_source.html#l00049">HX711_READ_BITS</a>.</p>

<p class="reference">Referenced by <a class="el" href="hx711__multi_8c_source.html#l00518">hx711_multi_init()</a>.</p>

</div>
</div>
<a id="a6fb25bdb70dfbf5552a31a62d5f4bd1d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6fb25bdb70dfbf5552a31a62d5f4bd1d">&#9670;&nbsp;</a></span>hx711_multi__init_irq()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void hx711_multi__init_irq </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structhx711__multi__t.html">hx711_multi_t</a> *const&#160;</td>
          <td class="paramname"><em>hxm</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Subroutine for initialising IRQ. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">hxm</td><td></td></tr>
  </table>
  </dd>
</dl>
<p>The idea here is that the PIO and DMA IRQs can be set up, enabled, and routed out to NVIC IRQs and be enabled at this point. If and when IRQs need to be disabled, they can be done at the source BEFORE being routed out to NVIC and triggering a system-wide interrupt.</p>
<p>DMA interrupts can always remain enabled. They will only trigger following a PIO interrupt.</p>
<p>The PIO source interrupt MUST REMAIN DISABLED until the point at which it is required to listen to them.</p>

<p class="definition">Definition at line <a class="el" href="hx711__multi_8c_source.html#l00184">184</a> of file <a class="el" href="hx711__multi_8c_source.html">hx711_multi.c</a>.</p>
<div class="fragment"><div class="line"><a name="l00184"></a><span class="lineno">  184</span>&#160;                                                     {</div>
<div class="line"><a name="l00185"></a><span class="lineno">  185</span>&#160; </div>
<div class="line"><a name="l00199"></a><span class="lineno">  199</span>&#160;    dma_irqn_set_channel_enabled(</div>
<div class="line"><a name="l00200"></a><span class="lineno">  200</span>&#160;        hxm-&gt;<a class="code" href="structhx711__multi__t.html#a3ac0daec08eac7db2f64eb836633b438">_dma_irq_index</a>,</div>
<div class="line"><a name="l00201"></a><span class="lineno">  201</span>&#160;        hxm-&gt;<a class="code" href="structhx711__multi__t.html#a2b290b76bacac6b8642ce87d9ab4bf52">_dma_channel</a>,</div>
<div class="line"><a name="l00202"></a><span class="lineno">  202</span>&#160;        <span class="keyword">true</span>);</div>
<div class="line"><a name="l00203"></a><span class="lineno">  203</span>&#160; </div>
<div class="line"><a name="l00204"></a><span class="lineno">  204</span>&#160;    irq_set_exclusive_handler(</div>
<div class="line"><a name="l00205"></a><span class="lineno">  205</span>&#160;        <a class="code" href="util_8h.html#a79687e43d97431c9f6c9728f78817895">util_dma_get_irqn</a>(hxm-&gt;<a class="code" href="structhx711__multi__t.html#a3ac0daec08eac7db2f64eb836633b438">_dma_irq_index</a>),</div>
<div class="line"><a name="l00206"></a><span class="lineno">  206</span>&#160;        <a class="code" href="hx711__multi_8c.html#a9e871184ea19b8baa01edc84a9469d79">hx711_multi__async_dma_irq_handler</a>);</div>
<div class="line"><a name="l00207"></a><span class="lineno">  207</span>&#160; </div>
<div class="line"><a name="l00208"></a><span class="lineno">  208</span>&#160;    irq_set_enabled(</div>
<div class="line"><a name="l00209"></a><span class="lineno">  209</span>&#160;        <a class="code" href="util_8h.html#a79687e43d97431c9f6c9728f78817895">util_dma_get_irqn</a>(hxm-&gt;<a class="code" href="structhx711__multi__t.html#a3ac0daec08eac7db2f64eb836633b438">_dma_irq_index</a>),</div>
<div class="line"><a name="l00210"></a><span class="lineno">  210</span>&#160;        <span class="keyword">true</span>);</div>
<div class="line"><a name="l00211"></a><span class="lineno">  211</span>&#160; </div>
<div class="line"><a name="l00217"></a><span class="lineno">  217</span>&#160;    pio_set_irqn_source_enabled(</div>
<div class="line"><a name="l00218"></a><span class="lineno">  218</span>&#160;        hxm-&gt;<a class="code" href="structhx711__multi__t.html#ab3d6374db039d529c15616f9d82aee4d">_pio</a>,</div>
<div class="line"><a name="l00219"></a><span class="lineno">  219</span>&#160;        hxm-&gt;<a class="code" href="structhx711__multi__t.html#a8d4324e79160d630ca07cf45518dacf7">_pio_irq_index</a>,</div>
<div class="line"><a name="l00220"></a><span class="lineno">  220</span>&#160;        <a class="code" href="util_8h.html#a5396ad6c4f564a0f930324c8219aa0be">util_pio_get_pis_from_pio_interrupt_num</a>(</div>
<div class="line"><a name="l00221"></a><span class="lineno">  221</span>&#160;            <a class="code" href="hx711__multi_8h.html#a52c57e624876d18d8c1058f49d585ad1">HX711_MULTI_CONVERSION_DONE_IRQ_NUM</a>),</div>
<div class="line"><a name="l00222"></a><span class="lineno">  222</span>&#160;        <span class="keyword">false</span>);</div>
<div class="line"><a name="l00223"></a><span class="lineno">  223</span>&#160; </div>
<div class="line"><a name="l00224"></a><span class="lineno">  224</span>&#160;    irq_set_exclusive_handler(</div>
<div class="line"><a name="l00225"></a><span class="lineno">  225</span>&#160;        <a class="code" href="util_8h.html#a7c75e38224040872c0774518627436da">util_pio_get_irq_from_index</a>(hxm-&gt;<a class="code" href="structhx711__multi__t.html#ab3d6374db039d529c15616f9d82aee4d">_pio</a>, hxm-&gt;<a class="code" href="structhx711__multi__t.html#a8d4324e79160d630ca07cf45518dacf7">_pio_irq_index</a>),</div>
<div class="line"><a name="l00226"></a><span class="lineno">  226</span>&#160;        <a class="code" href="hx711__multi_8c.html#ac752bd621a2decdf76df0ca490feca82">hx711_multi__async_pio_irq_handler</a>);</div>
<div class="line"><a name="l00227"></a><span class="lineno">  227</span>&#160; </div>
<div class="line"><a name="l00228"></a><span class="lineno">  228</span>&#160;    irq_set_enabled(</div>
<div class="line"><a name="l00229"></a><span class="lineno">  229</span>&#160;        <a class="code" href="util_8h.html#a7c75e38224040872c0774518627436da">util_pio_get_irq_from_index</a>(hxm-&gt;<a class="code" href="structhx711__multi__t.html#ab3d6374db039d529c15616f9d82aee4d">_pio</a>, hxm-&gt;<a class="code" href="structhx711__multi__t.html#a8d4324e79160d630ca07cf45518dacf7">_pio_irq_index</a>),</div>
<div class="line"><a name="l00230"></a><span class="lineno">  230</span>&#160;        <span class="keyword">true</span>);</div>
<div class="line"><a name="l00231"></a><span class="lineno">  231</span>&#160; </div>
<div class="line"><a name="l00232"></a><span class="lineno">  232</span>&#160;}</div>
<div class="ttc" id="ahx711__multi_8c_html_a9e871184ea19b8baa01edc84a9469d79"><div class="ttname"><a href="hx711__multi_8c.html#a9e871184ea19b8baa01edc84a9469d79">hx711_multi__async_dma_irq_handler</a></div><div class="ttdeci">void __isr __not_in_flash_func() hx711_multi__async_dma_irq_handler()</div><div class="ttdoc">ISR handler for DMA IRQs.</div><div class="ttdef"><b>Definition:</b> <a href="hx711__multi_8c_source.html#l00385">hx711_multi.c:385</a></div></div>
<div class="ttc" id="ahx711__multi_8c_html_ac752bd621a2decdf76df0ca490feca82"><div class="ttname"><a href="hx711__multi_8c.html#ac752bd621a2decdf76df0ca490feca82">hx711_multi__async_pio_irq_handler</a></div><div class="ttdeci">void __isr __not_in_flash_func() hx711_multi__async_pio_irq_handler()</div><div class="ttdoc">ISR handler for PIO IRQs.</div><div class="ttdef"><b>Definition:</b> <a href="hx711__multi_8c_source.html#l00363">hx711_multi.c:363</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="hx711__multi_8h_source.html#l00110">hx711_multi_t::_dma_channel</a>, <a class="el" href="hx711__multi_8h_source.html#l00115">hx711_multi_t::_dma_irq_index</a>, <a class="el" href="hx711__multi_8h_source.html#l00098">hx711_multi_t::_pio</a>, <a class="el" href="hx711__multi_8h_source.html#l00114">hx711_multi_t::_pio_irq_index</a>, <a class="el" href="hx711__multi_8c_source.html#l00385">hx711_multi__async_dma_irq_handler()</a>, <a class="el" href="hx711__multi_8c_source.html#l00363">hx711_multi__async_pio_irq_handler()</a>, <a class="el" href="hx711__multi_8h_source.html#l00043">HX711_MULTI_CONVERSION_DONE_IRQ_NUM</a>, <a class="el" href="util_8c_source.html#l00144">util_dma_get_irqn()</a>, <a class="el" href="util_8c_source.html#l00250">util_pio_get_irq_from_index()</a>, and <a class="el" href="util_8c_source.html#l00301">util_pio_get_pis_from_pio_interrupt_num()</a>.</p>

<p class="reference">Referenced by <a class="el" href="hx711__multi_8c_source.html#l00518">hx711_multi_init()</a>.</p>

</div>
</div>
<a id="ab1d21290af28c078f43b2efa536677ed"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab1d21290af28c078f43b2efa536677ed">&#9670;&nbsp;</a></span>hx711_multi__init_pio()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void hx711_multi__init_pio </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structhx711__multi__t.html">hx711_multi_t</a> *const&#160;</td>
          <td class="paramname"><em>hxm</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Subroutine for initialising PIO. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">hxm</td><td></td></tr>
  </table>
  </dd>
</dl>
<p>Casting pio_claim_unused_sm to uint is OK in this circumstance. Ordinarily it would return -1 if the claim failed, but since the flag is given to require a PIO State Machine, panic would be called instead.</p>

<p class="definition">Definition at line <a class="el" href="hx711__multi_8c_source.html#l00081">81</a> of file <a class="el" href="hx711__multi_8c_source.html">hx711_multi.c</a>.</p>
<div class="fragment"><div class="line"><a name="l00081"></a><span class="lineno">   81</span>&#160;                                                     {</div>
<div class="line"><a name="l00082"></a><span class="lineno">   82</span>&#160; </div>
<div class="line"><a name="l00083"></a><span class="lineno">   83</span>&#160;    <span class="comment">//adding programs and claiming state machines</span></div>
<div class="line"><a name="l00084"></a><span class="lineno">   84</span>&#160;    <span class="comment">//will panic if unable; this is appropriate.</span></div>
<div class="line"><a name="l00085"></a><span class="lineno">   85</span>&#160;    hxm-&gt;<a class="code" href="structhx711__multi__t.html#ab8fb59d650c294bf0aaee0e3ffdc627a">_awaiter_offset</a> = pio_add_program(</div>
<div class="line"><a name="l00086"></a><span class="lineno">   86</span>&#160;        hxm-&gt;<a class="code" href="structhx711__multi__t.html#ab3d6374db039d529c15616f9d82aee4d">_pio</a>,</div>
<div class="line"><a name="l00087"></a><span class="lineno">   87</span>&#160;        hxm-&gt;<a class="code" href="structhx711__multi__t.html#ab148ea8257414c09aa20d51b4b4bda6e">_awaiter_prog</a>);</div>
<div class="line"><a name="l00088"></a><span class="lineno">   88</span>&#160; </div>
<div class="line"><a name="l00089"></a><span class="lineno">   89</span>&#160;    hxm-&gt;<a class="code" href="structhx711__multi__t.html#a515cefd4640b114070381cf9ff36123c">_reader_offset</a> = pio_add_program(</div>
<div class="line"><a name="l00090"></a><span class="lineno">   90</span>&#160;        hxm-&gt;<a class="code" href="structhx711__multi__t.html#ab3d6374db039d529c15616f9d82aee4d">_pio</a>,</div>
<div class="line"><a name="l00091"></a><span class="lineno">   91</span>&#160;        hxm-&gt;<a class="code" href="structhx711__multi__t.html#a73b7e770a71684c484c65132683c7ecc">_reader_prog</a>);</div>
<div class="line"><a name="l00092"></a><span class="lineno">   92</span>&#160; </div>
<div class="line"><a name="l00100"></a><span class="lineno">  100</span>&#160;    hxm-&gt;<a class="code" href="structhx711__multi__t.html#a211234c86c060caa17050587b5dfe07e">_awaiter_sm</a> = (uint)pio_claim_unused_sm(</div>
<div class="line"><a name="l00101"></a><span class="lineno">  101</span>&#160;        hxm-&gt;<a class="code" href="structhx711__multi__t.html#ab3d6374db039d529c15616f9d82aee4d">_pio</a>,</div>
<div class="line"><a name="l00102"></a><span class="lineno">  102</span>&#160;        <span class="keyword">true</span>);</div>
<div class="line"><a name="l00103"></a><span class="lineno">  103</span>&#160; </div>
<div class="line"><a name="l00104"></a><span class="lineno">  104</span>&#160;    hxm-&gt;<a class="code" href="structhx711__multi__t.html#aa2661eaa306cb2672b361b63ed597ae7">_reader_sm</a> = (uint)pio_claim_unused_sm(</div>
<div class="line"><a name="l00105"></a><span class="lineno">  105</span>&#160;        hxm-&gt;<a class="code" href="structhx711__multi__t.html#ab3d6374db039d529c15616f9d82aee4d">_pio</a>,</div>
<div class="line"><a name="l00106"></a><span class="lineno">  106</span>&#160;        <span class="keyword">true</span>);</div>
<div class="line"><a name="l00107"></a><span class="lineno">  107</span>&#160; </div>
<div class="line"><a name="l00108"></a><span class="lineno">  108</span>&#160;}</div>
<div class="ttc" id="astructhx711__multi__t_html_a211234c86c060caa17050587b5dfe07e"><div class="ttname"><a href="structhx711__multi__t.html#a211234c86c060caa17050587b5dfe07e">hx711_multi_t::_awaiter_sm</a></div><div class="ttdeci">uint _awaiter_sm</div><div class="ttdef"><b>Definition:</b> <a href="hx711__multi_8h_source.html#l00102">hx711_multi.h:102</a></div></div>
<div class="ttc" id="astructhx711__multi__t_html_a515cefd4640b114070381cf9ff36123c"><div class="ttname"><a href="structhx711__multi__t.html#a515cefd4640b114070381cf9ff36123c">hx711_multi_t::_reader_offset</a></div><div class="ttdeci">uint _reader_offset</div><div class="ttdef"><b>Definition:</b> <a href="hx711__multi_8h_source.html#l00108">hx711_multi.h:108</a></div></div>
<div class="ttc" id="astructhx711__multi__t_html_a73b7e770a71684c484c65132683c7ecc"><div class="ttname"><a href="structhx711__multi__t.html#a73b7e770a71684c484c65132683c7ecc">hx711_multi_t::_reader_prog</a></div><div class="ttdeci">const pio_program_t * _reader_prog</div><div class="ttdef"><b>Definition:</b> <a href="hx711__multi_8h_source.html#l00105">hx711_multi.h:105</a></div></div>
<div class="ttc" id="astructhx711__multi__t_html_ab148ea8257414c09aa20d51b4b4bda6e"><div class="ttname"><a href="structhx711__multi__t.html#ab148ea8257414c09aa20d51b4b4bda6e">hx711_multi_t::_awaiter_prog</a></div><div class="ttdeci">const pio_program_t * _awaiter_prog</div><div class="ttdef"><b>Definition:</b> <a href="hx711__multi_8h_source.html#l00100">hx711_multi.h:100</a></div></div>
<div class="ttc" id="astructhx711__multi__t_html_ab8fb59d650c294bf0aaee0e3ffdc627a"><div class="ttname"><a href="structhx711__multi__t.html#ab8fb59d650c294bf0aaee0e3ffdc627a">hx711_multi_t::_awaiter_offset</a></div><div class="ttdeci">uint _awaiter_offset</div><div class="ttdef"><b>Definition:</b> <a href="hx711__multi_8h_source.html#l00103">hx711_multi.h:103</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="hx711__multi_8h_source.html#l00103">hx711_multi_t::_awaiter_offset</a>, <a class="el" href="hx711__multi_8h_source.html#l00100">hx711_multi_t::_awaiter_prog</a>, <a class="el" href="hx711__multi_8h_source.html#l00102">hx711_multi_t::_awaiter_sm</a>, <a class="el" href="hx711__multi_8h_source.html#l00098">hx711_multi_t::_pio</a>, <a class="el" href="hx711__multi_8h_source.html#l00108">hx711_multi_t::_reader_offset</a>, <a class="el" href="hx711__multi_8h_source.html#l00105">hx711_multi_t::_reader_prog</a>, and <a class="el" href="hx711__multi_8h_source.html#l00107">hx711_multi_t::_reader_sm</a>.</p>

<p class="reference">Referenced by <a class="el" href="hx711__multi_8c_source.html#l00518">hx711_multi_init()</a>.</p>

</div>
</div>
<a id="ab0393c7baee372f5381b5ecce4aedcb1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab0393c7baee372f5381b5ecce4aedcb1">&#9670;&nbsp;</a></span>hx711_multi__is_initd()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static bool hx711_multi__is_initd </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structhx711__multi__t.html">hx711_multi_t</a> *const&#160;</td>
          <td class="paramname"><em>hxm</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="hx711__multi_8c_source.html#l00441">441</a> of file <a class="el" href="hx711__multi_8c_source.html">hx711_multi.c</a>.</p>
<div class="fragment"><div class="line"><a name="l00441"></a><span class="lineno">  441</span>&#160;                                                            {</div>
<div class="line"><a name="l00442"></a><span class="lineno">  442</span>&#160;    <span class="keywordflow">return</span> hxm != NULL &amp;&amp;</div>
<div class="line"><a name="l00443"></a><span class="lineno">  443</span>&#160;        hxm-&gt;<a class="code" href="structhx711__multi__t.html#ab3d6374db039d529c15616f9d82aee4d">_pio</a> != NULL &amp;&amp;</div>
<div class="line"><a name="l00444"></a><span class="lineno">  444</span>&#160;        pio_sm_is_claimed(hxm-&gt;<a class="code" href="structhx711__multi__t.html#ab3d6374db039d529c15616f9d82aee4d">_pio</a>, hxm-&gt;<a class="code" href="structhx711__multi__t.html#a211234c86c060caa17050587b5dfe07e">_awaiter_sm</a>) &amp;&amp;</div>
<div class="line"><a name="l00445"></a><span class="lineno">  445</span>&#160;        pio_sm_is_claimed(hxm-&gt;<a class="code" href="structhx711__multi__t.html#ab3d6374db039d529c15616f9d82aee4d">_pio</a>, hxm-&gt;<a class="code" href="structhx711__multi__t.html#aa2661eaa306cb2672b361b63ed597ae7">_reader_sm</a>) &amp;&amp;</div>
<div class="line"><a name="l00446"></a><span class="lineno">  446</span>&#160;        dma_channel_is_claimed(hxm-&gt;<a class="code" href="structhx711__multi__t.html#a2b290b76bacac6b8642ce87d9ab4bf52">_dma_channel</a>) &amp;&amp;</div>
<div class="line"><a name="l00447"></a><span class="lineno">  447</span>&#160;<span class="preprocessor">#ifndef HX711_NO_MUTEX</span></div>
<div class="line"><a name="l00448"></a><span class="lineno">  448</span>&#160;        mutex_is_initialized(&amp;hxm-&gt;<a class="code" href="structhx711__multi__t.html#a9bf13556ba6f34181172ca641356ac7f">_mut</a>) &amp;&amp;</div>
<div class="line"><a name="l00449"></a><span class="lineno">  449</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l00450"></a><span class="lineno">  450</span>&#160;        irq_get_exclusive_handler(<a class="code" href="util_8h.html#a7c75e38224040872c0774518627436da">util_pio_get_irq_from_index</a>(</div>
<div class="line"><a name="l00451"></a><span class="lineno">  451</span>&#160;            hxm-&gt;<a class="code" href="structhx711__multi__t.html#ab3d6374db039d529c15616f9d82aee4d">_pio</a>,</div>
<div class="line"><a name="l00452"></a><span class="lineno">  452</span>&#160;            hxm-&gt;<a class="code" href="structhx711__multi__t.html#a8d4324e79160d630ca07cf45518dacf7">_pio_irq_index</a>)) == <a class="code" href="hx711__multi_8c.html#ac752bd621a2decdf76df0ca490feca82">hx711_multi__async_pio_irq_handler</a> &amp;&amp;</div>
<div class="line"><a name="l00453"></a><span class="lineno">  453</span>&#160;        irq_get_exclusive_handler(<a class="code" href="util_8h.html#a79687e43d97431c9f6c9728f78817895">util_dma_get_irqn</a>(</div>
<div class="line"><a name="l00454"></a><span class="lineno">  454</span>&#160;            hxm-&gt;<a class="code" href="structhx711__multi__t.html#a3ac0daec08eac7db2f64eb836633b438">_dma_irq_index</a>)) == <a class="code" href="hx711__multi_8c.html#a9e871184ea19b8baa01edc84a9469d79">hx711_multi__async_dma_irq_handler</a>;</div>
<div class="line"><a name="l00455"></a><span class="lineno">  455</span>&#160;}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="hx711__multi_8h_source.html#l00102">hx711_multi_t::_awaiter_sm</a>, <a class="el" href="hx711__multi_8h_source.html#l00110">hx711_multi_t::_dma_channel</a>, <a class="el" href="hx711__multi_8h_source.html#l00115">hx711_multi_t::_dma_irq_index</a>, <a class="el" href="hx711__multi_8h_source.html#l00119">hx711_multi_t::_mut</a>, <a class="el" href="hx711__multi_8h_source.html#l00098">hx711_multi_t::_pio</a>, <a class="el" href="hx711__multi_8h_source.html#l00114">hx711_multi_t::_pio_irq_index</a>, <a class="el" href="hx711__multi_8h_source.html#l00107">hx711_multi_t::_reader_sm</a>, <a class="el" href="hx711__multi_8c_source.html#l00385">hx711_multi__async_dma_irq_handler()</a>, <a class="el" href="hx711__multi_8c_source.html#l00363">hx711_multi__async_pio_irq_handler()</a>, <a class="el" href="util_8c_source.html#l00144">util_dma_get_irqn()</a>, and <a class="el" href="util_8c_source.html#l00250">util_pio_get_irq_from_index()</a>.</p>

<p class="reference">Referenced by <a class="el" href="hx711__multi_8c_source.html#l00234">hx711_multi__async_dma_irq_is_set()</a>, <a class="el" href="hx711__multi_8c_source.html#l00337">hx711_multi__async_finish()</a>, <a class="el" href="hx711__multi_8c_source.html#l00245">hx711_multi__async_pio_irq_is_set()</a>, <a class="el" href="hx711__multi_8c_source.html#l00457">hx711_multi__is_state_machines_enabled()</a>, <a class="el" href="hx711__multi_8c_source.html#l00769">hx711_multi_async_done()</a>, <a class="el" href="hx711__multi_8c_source.html#l00774">hx711_multi_async_get_values()</a>, <a class="el" href="hx711__multi_8c_source.html#l00568">hx711_multi_close()</a>, <a class="el" href="hx711__multi_8c_source.html#l00832">hx711_multi_power_down()</a>, <a class="el" href="hx711__multi_8c_source.html#l00785">hx711_multi_power_up()</a>, and <a class="el" href="hx711__multi_8c_source.html#l00855">hx711_multi_sync()</a>.</p>

</div>
</div>
<a id="a621b39fc9bc2ef68c8c8d8d453c9d936"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a621b39fc9bc2ef68c8c8d8d453c9d936">&#9670;&nbsp;</a></span>hx711_multi__is_state_machines_enabled()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static bool hx711_multi__is_state_machines_enabled </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structhx711__multi__t.html">hx711_multi_t</a> *const&#160;</td>
          <td class="paramname"><em>hxm</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="hx711__multi_8c_source.html#l00457">457</a> of file <a class="el" href="hx711__multi_8c_source.html">hx711_multi.c</a>.</p>
<div class="fragment"><div class="line"><a name="l00458"></a><span class="lineno">  458</span>&#160;                              {</div>
<div class="line"><a name="l00459"></a><span class="lineno">  459</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="hx711__multi_8c.html#ab0393c7baee372f5381b5ecce4aedcb1">hx711_multi__is_initd</a>(hxm) &amp;&amp;</div>
<div class="line"><a name="l00460"></a><span class="lineno">  460</span>&#160;            <a class="code" href="util_8h.html#a05eb2504026d4c5cd5e7fe6335491dda">util_pio_sm_is_enabled</a>(hxm-&gt;<a class="code" href="structhx711__multi__t.html#ab3d6374db039d529c15616f9d82aee4d">_pio</a>, hxm-&gt;<a class="code" href="structhx711__multi__t.html#a211234c86c060caa17050587b5dfe07e">_awaiter_sm</a>) &amp;&amp;</div>
<div class="line"><a name="l00461"></a><span class="lineno">  461</span>&#160;            <a class="code" href="util_8h.html#a05eb2504026d4c5cd5e7fe6335491dda">util_pio_sm_is_enabled</a>(hxm-&gt;<a class="code" href="structhx711__multi__t.html#ab3d6374db039d529c15616f9d82aee4d">_pio</a>, hxm-&gt;<a class="code" href="structhx711__multi__t.html#aa2661eaa306cb2672b361b63ed597ae7">_reader_sm</a>);</div>
<div class="line"><a name="l00462"></a><span class="lineno">  462</span>&#160;}</div>
<div class="ttc" id="autil_8h_html_a05eb2504026d4c5cd5e7fe6335491dda"><div class="ttname"><a href="util_8h.html#a05eb2504026d4c5cd5e7fe6335491dda">util_pio_sm_is_enabled</a></div><div class="ttdeci">bool util_pio_sm_is_enabled(PIO const pio, const uint sm)</div><div class="ttdoc">Check whether a given state machine is enabled.</div><div class="ttdef"><b>Definition:</b> <a href="util_8c_source.html#l00366">util.c:366</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="hx711__multi_8h_source.html#l00102">hx711_multi_t::_awaiter_sm</a>, <a class="el" href="hx711__multi_8h_source.html#l00098">hx711_multi_t::_pio</a>, <a class="el" href="hx711__multi_8h_source.html#l00107">hx711_multi_t::_reader_sm</a>, <a class="el" href="hx711__multi_8c_source.html#l00441">hx711_multi__is_initd()</a>, and <a class="el" href="util_8c_source.html#l00366">util_pio_sm_is_enabled()</a>.</p>

<p class="reference">Referenced by <a class="el" href="hx711__multi_8c_source.html#l00385">hx711_multi__async_dma_irq_handler()</a>, <a class="el" href="hx711__multi_8c_source.html#l00321">hx711_multi__async_is_running()</a>, <a class="el" href="hx711__multi_8c_source.html#l00363">hx711_multi__async_pio_irq_handler()</a>, <a class="el" href="hx711__multi_8c_source.html#l00296">hx711_multi__async_start_dma()</a>, <a class="el" href="hx711__multi_8c_source.html#l00736">hx711_multi_async_start()</a>, <a class="el" href="hx711__multi_8c_source.html#l00864">hx711_multi_get_sync_state()</a>, <a class="el" href="hx711__multi_8c_source.html#l00684">hx711_multi_get_values()</a>, <a class="el" href="hx711__multi_8c_source.html#l00700">hx711_multi_get_values_timeout()</a>, <a class="el" href="hx711__multi_8c_source.html#l00870">hx711_multi_is_syncd()</a>, and <a class="el" href="hx711__multi_8c_source.html#l00657">hx711_multi_set_gain()</a>.</p>

</div>
</div>
<a id="a8269b0d05acff95be2ebd4e572687bc4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8269b0d05acff95be2ebd4e572687bc4">&#9670;&nbsp;</a></span>hx711_multi_async_done()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool hx711_multi_async_done </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structhx711__multi__t.html">hx711_multi_t</a> *const&#160;</td>
          <td class="paramname"><em>hxm</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Check whether an asynchronous read is complete. This function is not mutex protected. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">hxm</td><td></td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>true </dd>
<dd>
false </dd></dl>

<p class="definition">Definition at line <a class="el" href="hx711__multi_8c_source.html#l00769">769</a> of file <a class="el" href="hx711__multi_8c_source.html">hx711_multi.c</a>.</p>
<div class="fragment"><div class="line"><a name="l00769"></a><span class="lineno">  769</span>&#160;                                                      {</div>
<div class="line"><a name="l00770"></a><span class="lineno">  770</span>&#160;    assert(<a class="code" href="hx711__multi_8c.html#ab0393c7baee372f5381b5ecce4aedcb1">hx711_multi__is_initd</a>(hxm));</div>
<div class="line"><a name="l00771"></a><span class="lineno">  771</span>&#160;    <span class="keywordflow">return</span> hxm-&gt;<a class="code" href="structhx711__multi__t.html#a2631597e6d679498afb6bd4d64ed7f4f">_async_state</a> == <a class="code" href="hx711__multi_8h.html#a3e900ca4cb60ae6ec8851ea7f12f03d6ae7b9837b29d1386aa3cf2b6b0957eb64">HX711_MULTI_ASYNC_STATE_DONE</a>;</div>
<div class="line"><a name="l00772"></a><span class="lineno">  772</span>&#160;}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="hx711__multi_8h_source.html#l00116">hx711_multi_t::_async_state</a>, <a class="el" href="hx711__multi_8c_source.html#l00441">hx711_multi__is_initd()</a>, and <a class="el" href="hx711__multi_8h_source.html#l00089">HX711_MULTI_ASYNC_STATE_DONE</a>.</p>

<p class="reference">Referenced by <a class="el" href="hx711__multi_8c_source.html#l00774">hx711_multi_async_get_values()</a>, <a class="el" href="hx711__multi_8c_source.html#l00684">hx711_multi_get_values()</a>, <a class="el" href="hx711__multi_8c_source.html#l00700">hx711_multi_get_values_timeout()</a>, and <a class="el" href="hx711__multi_8c_source.html#l00657">hx711_multi_set_gain()</a>.</p>

</div>
</div>
<a id="a146f59cdd3b4fc3fbf24df4c47feb4f8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a146f59cdd3b4fc3fbf24df4c47feb4f8">&#9670;&nbsp;</a></span>hx711_multi_async_get_values()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void hx711_multi_async_get_values </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structhx711__multi__t.html">hx711_multi_t</a> *const&#160;</td>
          <td class="paramname"><em>hxm</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int32_t *const&#160;</td>
          <td class="paramname"><em>values</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Get the values from the last asynchronous read. This function is not mutex protected. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">hxm</td><td></td></tr>
    <tr><td class="paramname">values</td><td></td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="hx711__multi_8c_source.html#l00774">774</a> of file <a class="el" href="hx711__multi_8c_source.html">hx711_multi.c</a>.</p>
<div class="fragment"><div class="line"><a name="l00776"></a><span class="lineno">  776</span>&#160;                           {</div>
<div class="line"><a name="l00777"></a><span class="lineno">  777</span>&#160;        assert(<a class="code" href="hx711__multi_8c.html#ab0393c7baee372f5381b5ecce4aedcb1">hx711_multi__is_initd</a>(hxm));</div>
<div class="line"><a name="l00778"></a><span class="lineno">  778</span>&#160;        assert(<a class="code" href="hx711__multi_8c.html#a8269b0d05acff95be2ebd4e572687bc4">hx711_multi_async_done</a>(hxm));</div>
<div class="line"><a name="l00779"></a><span class="lineno">  779</span>&#160;        <a class="code" href="hx711__multi_8c.html#ac2dede06a499533e8a87092ad1ad8a2c">hx711_multi_pinvals_to_values</a>(</div>
<div class="line"><a name="l00780"></a><span class="lineno">  780</span>&#160;            hxm-&gt;<a class="code" href="structhx711__multi__t.html#ad879282292bf5582940c4572b3d4218b">_buffer</a>,</div>
<div class="line"><a name="l00781"></a><span class="lineno">  781</span>&#160;            values,</div>
<div class="line"><a name="l00782"></a><span class="lineno">  782</span>&#160;            hxm-&gt;<a class="code" href="structhx711__multi__t.html#ab2e14fd435e262eaeb37df775a7fe3c3">_chips_len</a>);</div>
<div class="line"><a name="l00783"></a><span class="lineno">  783</span>&#160;}</div>
<div class="ttc" id="ahx711__multi_8c_html_a8269b0d05acff95be2ebd4e572687bc4"><div class="ttname"><a href="hx711__multi_8c.html#a8269b0d05acff95be2ebd4e572687bc4">hx711_multi_async_done</a></div><div class="ttdeci">bool hx711_multi_async_done(hx711_multi_t *const hxm)</div><div class="ttdoc">Check whether an asynchronous read is complete. This function is not mutex protected.</div><div class="ttdef"><b>Definition:</b> <a href="hx711__multi_8c_source.html#l00769">hx711_multi.c:769</a></div></div>
<div class="ttc" id="ahx711__multi_8c_html_ac2dede06a499533e8a87092ad1ad8a2c"><div class="ttname"><a href="hx711__multi_8c.html#ac2dede06a499533e8a87092ad1ad8a2c">hx711_multi_pinvals_to_values</a></div><div class="ttdeci">void hx711_multi_pinvals_to_values(const uint32_t *const pinvals, int32_t *const values, const size_t len)</div><div class="ttdoc">Convert an array of pinvals to regular HX711 values.</div><div class="ttdef"><b>Definition:</b> <a href="hx711__multi_8c_source.html#l00464">hx711_multi.c:464</a></div></div>
<div class="ttc" id="astructhx711__multi__t_html_ab2e14fd435e262eaeb37df775a7fe3c3"><div class="ttname"><a href="structhx711__multi__t.html#ab2e14fd435e262eaeb37df775a7fe3c3">hx711_multi_t::_chips_len</a></div><div class="ttdeci">size_t _chips_len</div><div class="ttdef"><b>Definition:</b> <a href="hx711__multi_8h_source.html#l00096">hx711_multi.h:96</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="hx711__multi_8h_source.html#l00112">hx711_multi_t::_buffer</a>, <a class="el" href="hx711__multi_8h_source.html#l00096">hx711_multi_t::_chips_len</a>, <a class="el" href="hx711__multi_8c_source.html#l00441">hx711_multi__is_initd()</a>, <a class="el" href="hx711__multi_8c_source.html#l00769">hx711_multi_async_done()</a>, and <a class="el" href="hx711__multi_8c_source.html#l00464">hx711_multi_pinvals_to_values()</a>.</p>

<p class="reference">Referenced by <a class="el" href="hx711__multi_8c_source.html#l00684">hx711_multi_get_values()</a>, and <a class="el" href="hx711__multi_8c_source.html#l00700">hx711_multi_get_values_timeout()</a>.</p>

</div>
</div>
<a id="a9c9274eff10f09f15bcd583bc7be58a5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9c9274eff10f09f15bcd583bc7be58a5">&#9670;&nbsp;</a></span>hx711_multi_async_start()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void hx711_multi_async_start </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structhx711__multi__t.html">hx711_multi_t</a> *const&#160;</td>
          <td class="paramname"><em>hxm</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Start an asynchronos read. This function is not mutex protected. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">hxm</td><td></td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="hx711__multi_8c_source.html#l00736">736</a> of file <a class="el" href="hx711__multi_8c_source.html">hx711_multi.c</a>.</p>
<div class="fragment"><div class="line"><a name="l00736"></a><span class="lineno">  736</span>&#160;                                                       {</div>
<div class="line"><a name="l00737"></a><span class="lineno">  737</span>&#160; </div>
<div class="line"><a name="l00738"></a><span class="lineno">  738</span>&#160;    assert(<a class="code" href="hx711__multi_8c.html#a621b39fc9bc2ef68c8c8d8d453c9d936">hx711_multi__is_state_machines_enabled</a>(hxm));</div>
<div class="line"><a name="l00739"></a><span class="lineno">  739</span>&#160;    assert(!<a class="code" href="hx711__multi_8c.html#aae9f50fe5018621c4ff107b6ae63233e">hx711_multi__async_is_running</a>(hxm));</div>
<div class="line"><a name="l00740"></a><span class="lineno">  740</span>&#160; </div>
<div class="line"><a name="l00741"></a><span class="lineno">  741</span>&#160;    <span class="comment">//if starting the following statements would lead to an</span></div>
<div class="line"><a name="l00742"></a><span class="lineno">  742</span>&#160;    <span class="comment">//immediate interrupt, DMA may not be properly set up,</span></div>
<div class="line"><a name="l00743"></a><span class="lineno">  743</span>&#160;    <span class="comment">//so disable until it is</span></div>
<div class="line"><a name="l00744"></a><span class="lineno">  744</span>&#160;    <span class="keyword">const</span> uint32_t status = save_and_disable_interrupts();</div>
<div class="line"><a name="l00745"></a><span class="lineno">  745</span>&#160; </div>
<div class="line"><a name="l00746"></a><span class="lineno">  746</span>&#160;<span class="preprocessor">#ifndef HX711_NO_MUTEX</span></div>
<div class="line"><a name="l00747"></a><span class="lineno">  747</span>&#160;    mutex_enter_blocking(&amp;hxm-&gt;<a class="code" href="structhx711__multi__t.html#a9bf13556ba6f34181172ca641356ac7f">_mut</a>);</div>
<div class="line"><a name="l00748"></a><span class="lineno">  748</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l00749"></a><span class="lineno">  749</span>&#160; </div>
<div class="line"><a name="l00750"></a><span class="lineno">  750</span>&#160;    hxm-&gt;<a class="code" href="structhx711__multi__t.html#a2631597e6d679498afb6bd4d64ed7f4f">_async_state</a> = <a class="code" href="hx711__multi_8h.html#a3e900ca4cb60ae6ec8851ea7f12f03d6a28335e27f8ea469f97b75c4441d4a19b">HX711_MULTI_ASYNC_STATE_WAITING</a>;</div>
<div class="line"><a name="l00751"></a><span class="lineno">  751</span>&#160; </div>
<div class="line"><a name="l00752"></a><span class="lineno">  752</span>&#160;    <span class="comment">//if pio interrupt is already set, we can bypass the</span></div>
<div class="line"><a name="l00753"></a><span class="lineno">  753</span>&#160;    <span class="comment">//IRQ handler and immediately trigger dma</span></div>
<div class="line"><a name="l00754"></a><span class="lineno">  754</span>&#160;    <span class="keywordflow">if</span>(pio_interrupt_get(hxm-&gt;<a class="code" href="structhx711__multi__t.html#ab3d6374db039d529c15616f9d82aee4d">_pio</a>, <a class="code" href="hx711__multi_8h.html#a52c57e624876d18d8c1058f49d585ad1">HX711_MULTI_CONVERSION_DONE_IRQ_NUM</a>)) {</div>
<div class="line"><a name="l00755"></a><span class="lineno">  755</span>&#160;        <a class="code" href="hx711__multi_8c.html#a4816687081440630737e95c7252e22cf">hx711_multi__async_start_dma</a>(hxm);</div>
<div class="line"><a name="l00756"></a><span class="lineno">  756</span>&#160;    }</div>
<div class="line"><a name="l00757"></a><span class="lineno">  757</span>&#160;    <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00758"></a><span class="lineno">  758</span>&#160;        pio_set_irqn_source_enabled(</div>
<div class="line"><a name="l00759"></a><span class="lineno">  759</span>&#160;            hxm-&gt;<a class="code" href="structhx711__multi__t.html#ab3d6374db039d529c15616f9d82aee4d">_pio</a>,</div>
<div class="line"><a name="l00760"></a><span class="lineno">  760</span>&#160;            hxm-&gt;<a class="code" href="structhx711__multi__t.html#a8d4324e79160d630ca07cf45518dacf7">_pio_irq_index</a>,</div>
<div class="line"><a name="l00761"></a><span class="lineno">  761</span>&#160;            <a class="code" href="util_8h.html#a7c75e38224040872c0774518627436da">util_pio_get_irq_from_index</a>(hxm-&gt;<a class="code" href="structhx711__multi__t.html#ab3d6374db039d529c15616f9d82aee4d">_pio</a>, hxm-&gt;<a class="code" href="structhx711__multi__t.html#a8d4324e79160d630ca07cf45518dacf7">_pio_irq_index</a>),</div>
<div class="line"><a name="l00762"></a><span class="lineno">  762</span>&#160;            <span class="keyword">true</span>);</div>
<div class="line"><a name="l00763"></a><span class="lineno">  763</span>&#160;    }</div>
<div class="line"><a name="l00764"></a><span class="lineno">  764</span>&#160; </div>
<div class="line"><a name="l00765"></a><span class="lineno">  765</span>&#160;    restore_interrupts(status);</div>
<div class="line"><a name="l00766"></a><span class="lineno">  766</span>&#160; </div>
<div class="line"><a name="l00767"></a><span class="lineno">  767</span>&#160;}</div>
<div class="ttc" id="ahx711__multi_8c_html_aae9f50fe5018621c4ff107b6ae63233e"><div class="ttname"><a href="hx711__multi_8c.html#aae9f50fe5018621c4ff107b6ae63233e">hx711_multi__async_is_running</a></div><div class="ttdeci">bool hx711_multi__async_is_running(hx711_multi_t *const hxm)</div><div class="ttdoc">Check whether an async read is currently occurring.</div><div class="ttdef"><b>Definition:</b> <a href="hx711__multi_8c_source.html#l00321">hx711_multi.c:321</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="hx711__multi_8h_source.html#l00116">hx711_multi_t::_async_state</a>, <a class="el" href="hx711__multi_8h_source.html#l00119">hx711_multi_t::_mut</a>, <a class="el" href="hx711__multi_8h_source.html#l00098">hx711_multi_t::_pio</a>, <a class="el" href="hx711__multi_8h_source.html#l00114">hx711_multi_t::_pio_irq_index</a>, <a class="el" href="hx711__multi_8c_source.html#l00321">hx711_multi__async_is_running()</a>, <a class="el" href="hx711__multi_8c_source.html#l00296">hx711_multi__async_start_dma()</a>, <a class="el" href="hx711__multi_8c_source.html#l00457">hx711_multi__is_state_machines_enabled()</a>, <a class="el" href="hx711__multi_8h_source.html#l00087">HX711_MULTI_ASYNC_STATE_WAITING</a>, <a class="el" href="hx711__multi_8h_source.html#l00043">HX711_MULTI_CONVERSION_DONE_IRQ_NUM</a>, and <a class="el" href="util_8c_source.html#l00250">util_pio_get_irq_from_index()</a>.</p>

<p class="reference">Referenced by <a class="el" href="hx711__multi_8c_source.html#l00684">hx711_multi_get_values()</a>, <a class="el" href="hx711__multi_8c_source.html#l00700">hx711_multi_get_values_timeout()</a>, and <a class="el" href="hx711__multi_8c_source.html#l00657">hx711_multi_set_gain()</a>.</p>

</div>
</div>
<a id="adb8beaac8d2b72571bd52bc97e456682"></a>
<h2 class="memtitle"><span class="permalink"><a href="#adb8beaac8d2b72571bd52bc97e456682">&#9670;&nbsp;</a></span>hx711_multi_close()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void hx711_multi_close </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structhx711__multi__t.html">hx711_multi_t</a> *const&#160;</td>
          <td class="paramname"><em>hxm</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Stop communication with all HX711s. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">hxm</td><td></td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="hx711__multi_8c_source.html#l00568">568</a> of file <a class="el" href="hx711__multi_8c_source.html">hx711_multi.c</a>.</p>
<div class="fragment"><div class="line"><a name="l00568"></a><span class="lineno">  568</span>&#160;                                                 {</div>
<div class="line"><a name="l00569"></a><span class="lineno">  569</span>&#160; </div>
<div class="line"><a name="l00570"></a><span class="lineno">  570</span>&#160;    assert(<a class="code" href="hx711__multi_8c.html#ab0393c7baee372f5381b5ecce4aedcb1">hx711_multi__is_initd</a>(hxm));</div>
<div class="line"><a name="l00571"></a><span class="lineno">  571</span>&#160; </div>
<div class="line"><a name="l00572"></a><span class="lineno">  572</span>&#160;<span class="preprocessor">#ifndef HX711_NO_MUTEX</span></div>
<div class="line"><a name="l00573"></a><span class="lineno">  573</span>&#160;    mutex_enter_blocking(&amp;hxm-&gt;<a class="code" href="structhx711__multi__t.html#a9bf13556ba6f34181172ca641356ac7f">_mut</a>);</div>
<div class="line"><a name="l00574"></a><span class="lineno">  574</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l00575"></a><span class="lineno">  575</span>&#160; </div>
<div class="line"><a name="l00576"></a><span class="lineno">  576</span>&#160;    <span class="comment">//make sure the disabling and removal of IRQs and</span></div>
<div class="line"><a name="l00577"></a><span class="lineno">  577</span>&#160;    <span class="comment">//handlers is atomic</span></div>
<div class="line"><a name="l00578"></a><span class="lineno">  578</span>&#160;    <a class="code" href="util_8h.html#aa7beb1f3b0258229e0a189f4b8ff0107">UTIL_INTERRUPTS_OFF_BLOCK</a>(</div>
<div class="line"><a name="l00579"></a><span class="lineno">  579</span>&#160; </div>
<div class="line"><a name="l00580"></a><span class="lineno">  580</span>&#160;        <span class="comment">//interrupts are off, but cancel any running</span></div>
<div class="line"><a name="l00581"></a><span class="lineno">  581</span>&#160;        <span class="comment">//async reads</span></div>
<div class="line"><a name="l00582"></a><span class="lineno">  582</span>&#160;        dma_channel_abort(hxm-&gt;<a class="code" href="structhx711__multi__t.html#a2b290b76bacac6b8642ce87d9ab4bf52">_dma_channel</a>);</div>
<div class="line"><a name="l00583"></a><span class="lineno">  583</span>&#160; </div>
<div class="line"><a name="l00584"></a><span class="lineno">  584</span>&#160;        irq_set_enabled(</div>
<div class="line"><a name="l00585"></a><span class="lineno">  585</span>&#160;            <a class="code" href="util_8h.html#a7c75e38224040872c0774518627436da">util_pio_get_irq_from_index</a>(hxm-&gt;<a class="code" href="structhx711__multi__t.html#ab3d6374db039d529c15616f9d82aee4d">_pio</a>, hxm-&gt;<a class="code" href="structhx711__multi__t.html#a8d4324e79160d630ca07cf45518dacf7">_pio_irq_index</a>),</div>
<div class="line"><a name="l00586"></a><span class="lineno">  586</span>&#160;            <span class="keyword">false</span>);</div>
<div class="line"><a name="l00587"></a><span class="lineno">  587</span>&#160; </div>
<div class="line"><a name="l00588"></a><span class="lineno">  588</span>&#160;        irq_set_enabled(</div>
<div class="line"><a name="l00589"></a><span class="lineno">  589</span>&#160;            <a class="code" href="util_8h.html#a79687e43d97431c9f6c9728f78817895">util_dma_get_irqn</a>(hxm-&gt;<a class="code" href="structhx711__multi__t.html#a3ac0daec08eac7db2f64eb836633b438">_dma_irq_index</a>),</div>
<div class="line"><a name="l00590"></a><span class="lineno">  590</span>&#160;            <span class="keyword">false</span>);</div>
<div class="line"><a name="l00591"></a><span class="lineno">  591</span>&#160; </div>
<div class="line"><a name="l00592"></a><span class="lineno">  592</span>&#160;        pio_set_irqn_source_enabled(</div>
<div class="line"><a name="l00593"></a><span class="lineno">  593</span>&#160;            hxm-&gt;<a class="code" href="structhx711__multi__t.html#ab3d6374db039d529c15616f9d82aee4d">_pio</a>,</div>
<div class="line"><a name="l00594"></a><span class="lineno">  594</span>&#160;            hxm-&gt;<a class="code" href="structhx711__multi__t.html#a8d4324e79160d630ca07cf45518dacf7">_pio_irq_index</a>,</div>
<div class="line"><a name="l00595"></a><span class="lineno">  595</span>&#160;            <a class="code" href="util_8h.html#a5396ad6c4f564a0f930324c8219aa0be">util_pio_get_pis_from_pio_interrupt_num</a>(<a class="code" href="hx711__multi_8h.html#a52c57e624876d18d8c1058f49d585ad1">HX711_MULTI_CONVERSION_DONE_IRQ_NUM</a>),</div>
<div class="line"><a name="l00596"></a><span class="lineno">  596</span>&#160;            <span class="keyword">false</span>);</div>
<div class="line"><a name="l00597"></a><span class="lineno">  597</span>&#160; </div>
<div class="line"><a name="l00598"></a><span class="lineno">  598</span>&#160;        dma_irqn_set_channel_enabled(</div>
<div class="line"><a name="l00599"></a><span class="lineno">  599</span>&#160;            hxm-&gt;<a class="code" href="structhx711__multi__t.html#a3ac0daec08eac7db2f64eb836633b438">_dma_irq_index</a>,</div>
<div class="line"><a name="l00600"></a><span class="lineno">  600</span>&#160;            hxm-&gt;<a class="code" href="structhx711__multi__t.html#a2b290b76bacac6b8642ce87d9ab4bf52">_dma_channel</a>,</div>
<div class="line"><a name="l00601"></a><span class="lineno">  601</span>&#160;            <span class="keyword">false</span>);</div>
<div class="line"><a name="l00602"></a><span class="lineno">  602</span>&#160; </div>
<div class="line"><a name="l00603"></a><span class="lineno">  603</span>&#160;        hxm-&gt;<a class="code" href="structhx711__multi__t.html#a2631597e6d679498afb6bd4d64ed7f4f">_async_state</a> = <a class="code" href="hx711__multi_8h.html#a3e900ca4cb60ae6ec8851ea7f12f03d6a3bdf52a11b352cbcce318a0fa0f22df7">HX711_MULTI_ASYNC_STATE_NONE</a>;</div>
<div class="line"><a name="l00604"></a><span class="lineno">  604</span>&#160; </div>
<div class="line"><a name="l00605"></a><span class="lineno">  605</span>&#160;        <a class="code" href="hx711__multi_8c.html#afba103ff58dd2d7f75ee7ba34fb9e4ed">hx711_multi__async_remove_reader</a>(hxm);</div>
<div class="line"><a name="l00606"></a><span class="lineno">  606</span>&#160; </div>
<div class="line"><a name="l00607"></a><span class="lineno">  607</span>&#160;        irq_remove_handler(</div>
<div class="line"><a name="l00608"></a><span class="lineno">  608</span>&#160;            <a class="code" href="util_8h.html#a7c75e38224040872c0774518627436da">util_pio_get_irq_from_index</a>(hxm-&gt;<a class="code" href="structhx711__multi__t.html#ab3d6374db039d529c15616f9d82aee4d">_pio</a>, hxm-&gt;<a class="code" href="structhx711__multi__t.html#a8d4324e79160d630ca07cf45518dacf7">_pio_irq_index</a>),</div>
<div class="line"><a name="l00609"></a><span class="lineno">  609</span>&#160;            <a class="code" href="hx711__multi_8c.html#ac752bd621a2decdf76df0ca490feca82">hx711_multi__async_pio_irq_handler</a>);</div>
<div class="line"><a name="l00610"></a><span class="lineno">  610</span>&#160; </div>
<div class="line"><a name="l00611"></a><span class="lineno">  611</span>&#160;        irq_remove_handler(</div>
<div class="line"><a name="l00612"></a><span class="lineno">  612</span>&#160;            <a class="code" href="util_8h.html#a79687e43d97431c9f6c9728f78817895">util_dma_get_irqn</a>(hxm-&gt;<a class="code" href="structhx711__multi__t.html#a3ac0daec08eac7db2f64eb836633b438">_dma_irq_index</a>),</div>
<div class="line"><a name="l00613"></a><span class="lineno">  613</span>&#160;            <a class="code" href="hx711__multi_8c.html#ac752bd621a2decdf76df0ca490feca82">hx711_multi__async_pio_irq_handler</a>);</div>
<div class="line"><a name="l00614"></a><span class="lineno">  614</span>&#160; </div>
<div class="line"><a name="l00615"></a><span class="lineno">  615</span>&#160;    );</div>
<div class="line"><a name="l00616"></a><span class="lineno">  616</span>&#160; </div>
<div class="line"><a name="l00617"></a><span class="lineno">  617</span>&#160;    <span class="comment">//at this point it is impossible for a relevant DMA</span></div>
<div class="line"><a name="l00618"></a><span class="lineno">  618</span>&#160;    <span class="comment">//or PIO IRQ to occur, so we can turn interrupts</span></div>
<div class="line"><a name="l00619"></a><span class="lineno">  619</span>&#160;    <span class="comment">//back on</span></div>
<div class="line"><a name="l00620"></a><span class="lineno">  620</span>&#160; </div>
<div class="line"><a name="l00621"></a><span class="lineno">  621</span>&#160;    <a class="code" href="util_8h.html#a6938e22db53d7727243c6aaaf91ac1c1">util_dma_channel_set_quiet</a>(</div>
<div class="line"><a name="l00622"></a><span class="lineno">  622</span>&#160;        hxm-&gt;<a class="code" href="structhx711__multi__t.html#a2b290b76bacac6b8642ce87d9ab4bf52">_dma_channel</a>,</div>
<div class="line"><a name="l00623"></a><span class="lineno">  623</span>&#160;        <span class="keyword">true</span>);</div>
<div class="line"><a name="l00624"></a><span class="lineno">  624</span>&#160; </div>
<div class="line"><a name="l00625"></a><span class="lineno">  625</span>&#160;    pio_set_sm_mask_enabled(</div>
<div class="line"><a name="l00626"></a><span class="lineno">  626</span>&#160;        hxm-&gt;<a class="code" href="structhx711__multi__t.html#ab3d6374db039d529c15616f9d82aee4d">_pio</a>,</div>
<div class="line"><a name="l00627"></a><span class="lineno">  627</span>&#160;        (1 &lt;&lt; hxm-&gt;<a class="code" href="structhx711__multi__t.html#a211234c86c060caa17050587b5dfe07e">_awaiter_sm</a>) | (1 &lt;&lt; hxm-&gt;<a class="code" href="structhx711__multi__t.html#aa2661eaa306cb2672b361b63ed597ae7">_reader_sm</a>),</div>
<div class="line"><a name="l00628"></a><span class="lineno">  628</span>&#160;        <span class="keyword">false</span>);</div>
<div class="line"><a name="l00629"></a><span class="lineno">  629</span>&#160; </div>
<div class="line"><a name="l00630"></a><span class="lineno">  630</span>&#160;    dma_channel_unclaim(</div>
<div class="line"><a name="l00631"></a><span class="lineno">  631</span>&#160;        hxm-&gt;<a class="code" href="structhx711__multi__t.html#a2b290b76bacac6b8642ce87d9ab4bf52">_dma_channel</a>);</div>
<div class="line"><a name="l00632"></a><span class="lineno">  632</span>&#160; </div>
<div class="line"><a name="l00633"></a><span class="lineno">  633</span>&#160;    pio_sm_unclaim(</div>
<div class="line"><a name="l00634"></a><span class="lineno">  634</span>&#160;        hxm-&gt;<a class="code" href="structhx711__multi__t.html#ab3d6374db039d529c15616f9d82aee4d">_pio</a>,</div>
<div class="line"><a name="l00635"></a><span class="lineno">  635</span>&#160;        hxm-&gt;<a class="code" href="structhx711__multi__t.html#a211234c86c060caa17050587b5dfe07e">_awaiter_sm</a>);</div>
<div class="line"><a name="l00636"></a><span class="lineno">  636</span>&#160; </div>
<div class="line"><a name="l00637"></a><span class="lineno">  637</span>&#160;    pio_sm_unclaim(</div>
<div class="line"><a name="l00638"></a><span class="lineno">  638</span>&#160;        hxm-&gt;<a class="code" href="structhx711__multi__t.html#ab3d6374db039d529c15616f9d82aee4d">_pio</a>,</div>
<div class="line"><a name="l00639"></a><span class="lineno">  639</span>&#160;        hxm-&gt;<a class="code" href="structhx711__multi__t.html#aa2661eaa306cb2672b361b63ed597ae7">_reader_sm</a>);</div>
<div class="line"><a name="l00640"></a><span class="lineno">  640</span>&#160; </div>
<div class="line"><a name="l00641"></a><span class="lineno">  641</span>&#160;    pio_remove_program(</div>
<div class="line"><a name="l00642"></a><span class="lineno">  642</span>&#160;        hxm-&gt;<a class="code" href="structhx711__multi__t.html#ab3d6374db039d529c15616f9d82aee4d">_pio</a>,</div>
<div class="line"><a name="l00643"></a><span class="lineno">  643</span>&#160;        hxm-&gt;<a class="code" href="structhx711__multi__t.html#ab148ea8257414c09aa20d51b4b4bda6e">_awaiter_prog</a>,</div>
<div class="line"><a name="l00644"></a><span class="lineno">  644</span>&#160;        hxm-&gt;<a class="code" href="structhx711__multi__t.html#ab8fb59d650c294bf0aaee0e3ffdc627a">_awaiter_offset</a>);</div>
<div class="line"><a name="l00645"></a><span class="lineno">  645</span>&#160; </div>
<div class="line"><a name="l00646"></a><span class="lineno">  646</span>&#160;    pio_remove_program(</div>
<div class="line"><a name="l00647"></a><span class="lineno">  647</span>&#160;        hxm-&gt;<a class="code" href="structhx711__multi__t.html#ab3d6374db039d529c15616f9d82aee4d">_pio</a>,</div>
<div class="line"><a name="l00648"></a><span class="lineno">  648</span>&#160;        hxm-&gt;<a class="code" href="structhx711__multi__t.html#a73b7e770a71684c484c65132683c7ecc">_reader_prog</a>,</div>
<div class="line"><a name="l00649"></a><span class="lineno">  649</span>&#160;        hxm-&gt;<a class="code" href="structhx711__multi__t.html#a515cefd4640b114070381cf9ff36123c">_reader_offset</a>);</div>
<div class="line"><a name="l00650"></a><span class="lineno">  650</span>&#160; </div>
<div class="line"><a name="l00651"></a><span class="lineno">  651</span>&#160;<span class="preprocessor">#ifndef HX711_NO_MUTEX</span></div>
<div class="line"><a name="l00652"></a><span class="lineno">  652</span>&#160;    mutex_exit(&amp;hxm-&gt;<a class="code" href="structhx711__multi__t.html#a9bf13556ba6f34181172ca641356ac7f">_mut</a>);</div>
<div class="line"><a name="l00653"></a><span class="lineno">  653</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l00654"></a><span class="lineno">  654</span>&#160; </div>
<div class="line"><a name="l00655"></a><span class="lineno">  655</span>&#160;}</div>
<div class="ttc" id="ahx711__multi_8c_html_afba103ff58dd2d7f75ee7ba34fb9e4ed"><div class="ttname"><a href="hx711__multi_8c.html#afba103ff58dd2d7f75ee7ba34fb9e4ed">hx711_multi__async_remove_reader</a></div><div class="ttdeci">void hx711_multi__async_remove_reader(const hx711_multi_t *const hxm)</div><div class="ttdoc">Removes the given hxm from the request array.</div><div class="ttdef"><b>Definition:</b> <a href="hx711__multi_8c_source.html#l00423">hx711_multi.c:423</a></div></div>
<div class="ttc" id="ahx711__multi_8h_html_a3e900ca4cb60ae6ec8851ea7f12f03d6a3bdf52a11b352cbcce318a0fa0f22df7"><div class="ttname"><a href="hx711__multi_8h.html#a3e900ca4cb60ae6ec8851ea7f12f03d6a3bdf52a11b352cbcce318a0fa0f22df7">HX711_MULTI_ASYNC_STATE_NONE</a></div><div class="ttdeci">@ HX711_MULTI_ASYNC_STATE_NONE</div><div class="ttdef"><b>Definition:</b> <a href="hx711__multi_8h_source.html#l00086">hx711_multi.h:86</a></div></div>
<div class="ttc" id="autil_8h_html_a6938e22db53d7727243c6aaaf91ac1c1"><div class="ttname"><a href="util_8h.html#a6938e22db53d7727243c6aaaf91ac1c1">util_dma_channel_set_quiet</a></div><div class="ttdeci">void util_dma_channel_set_quiet(const uint channel, const bool quiet)</div><div class="ttdoc">Sets a DMA channel's IRQ quiet mode.</div><div class="ttdef"><b>Definition:</b> <a href="util_8c_source.html#l00161">util.c:161</a></div></div>
<div class="ttc" id="autil_8h_html_aa7beb1f3b0258229e0a189f4b8ff0107"><div class="ttname"><a href="util_8h.html#aa7beb1f3b0258229e0a189f4b8ff0107">UTIL_INTERRUPTS_OFF_BLOCK</a></div><div class="ttdeci">#define UTIL_INTERRUPTS_OFF_BLOCK(...)</div><div class="ttdef"><b>Definition:</b> <a href="util_8h_source.html#l00075">util.h:75</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="hx711__multi_8h_source.html#l00116">hx711_multi_t::_async_state</a>, <a class="el" href="hx711__multi_8h_source.html#l00103">hx711_multi_t::_awaiter_offset</a>, <a class="el" href="hx711__multi_8h_source.html#l00100">hx711_multi_t::_awaiter_prog</a>, <a class="el" href="hx711__multi_8h_source.html#l00102">hx711_multi_t::_awaiter_sm</a>, <a class="el" href="hx711__multi_8h_source.html#l00110">hx711_multi_t::_dma_channel</a>, <a class="el" href="hx711__multi_8h_source.html#l00115">hx711_multi_t::_dma_irq_index</a>, <a class="el" href="hx711__multi_8h_source.html#l00119">hx711_multi_t::_mut</a>, <a class="el" href="hx711__multi_8h_source.html#l00098">hx711_multi_t::_pio</a>, <a class="el" href="hx711__multi_8h_source.html#l00114">hx711_multi_t::_pio_irq_index</a>, <a class="el" href="hx711__multi_8h_source.html#l00108">hx711_multi_t::_reader_offset</a>, <a class="el" href="hx711__multi_8h_source.html#l00105">hx711_multi_t::_reader_prog</a>, <a class="el" href="hx711__multi_8h_source.html#l00107">hx711_multi_t::_reader_sm</a>, <a class="el" href="hx711__multi_8c_source.html#l00363">hx711_multi__async_pio_irq_handler()</a>, <a class="el" href="hx711__multi_8c_source.html#l00423">hx711_multi__async_remove_reader()</a>, <a class="el" href="hx711__multi_8c_source.html#l00441">hx711_multi__is_initd()</a>, <a class="el" href="hx711__multi_8h_source.html#l00086">HX711_MULTI_ASYNC_STATE_NONE</a>, <a class="el" href="hx711__multi_8h_source.html#l00043">HX711_MULTI_CONVERSION_DONE_IRQ_NUM</a>, <a class="el" href="util_8c_source.html#l00161">util_dma_channel_set_quiet()</a>, <a class="el" href="util_8c_source.html#l00144">util_dma_get_irqn()</a>, <a class="el" href="util_8h_source.html#l00075">UTIL_INTERRUPTS_OFF_BLOCK</a>, <a class="el" href="util_8c_source.html#l00250">util_pio_get_irq_from_index()</a>, and <a class="el" href="util_8c_source.html#l00301">util_pio_get_pis_from_pio_interrupt_num()</a>.</p>

</div>
</div>
<a id="ad629ab72a25e618a7f2b52a24af7f3f0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad629ab72a25e618a7f2b52a24af7f3f0">&#9670;&nbsp;</a></span>hx711_multi_get_sync_state()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint32_t hx711_multi_get_sync_state </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structhx711__multi__t.html">hx711_multi_t</a> *const&#160;</td>
          <td class="paramname"><em>hxm</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Returns the state of each chip as a bitmask. The 0th bit is the first chip, 1th bit is the second, and so on. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">hxm</td><td></td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>uint32_t </dd></dl>

<p class="definition">Definition at line <a class="el" href="hx711__multi_8c_source.html#l00864">864</a> of file <a class="el" href="hx711__multi_8c_source.html">hx711_multi.c</a>.</p>
<div class="fragment"><div class="line"><a name="l00865"></a><span class="lineno">  865</span>&#160;                              {</div>
<div class="line"><a name="l00866"></a><span class="lineno">  866</span>&#160;        assert(<a class="code" href="hx711__multi_8c.html#a621b39fc9bc2ef68c8c8d8d453c9d936">hx711_multi__is_state_machines_enabled</a>(hxm));</div>
<div class="line"><a name="l00867"></a><span class="lineno">  867</span>&#160;        <span class="keywordflow">return</span> pio_sm_get_blocking(hxm-&gt;<a class="code" href="structhx711__multi__t.html#ab3d6374db039d529c15616f9d82aee4d">_pio</a>, hxm-&gt;<a class="code" href="structhx711__multi__t.html#a211234c86c060caa17050587b5dfe07e">_awaiter_sm</a>);</div>
<div class="line"><a name="l00868"></a><span class="lineno">  868</span>&#160;}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="hx711__multi_8h_source.html#l00102">hx711_multi_t::_awaiter_sm</a>, <a class="el" href="hx711__multi_8h_source.html#l00098">hx711_multi_t::_pio</a>, and <a class="el" href="hx711__multi_8c_source.html#l00457">hx711_multi__is_state_machines_enabled()</a>.</p>

<p class="reference">Referenced by <a class="el" href="hx711__multi_8c_source.html#l00870">hx711_multi_is_syncd()</a>.</p>

</div>
</div>
<a id="abbf9ac81ca91d052ed169af24e1954c1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#abbf9ac81ca91d052ed169af24e1954c1">&#9670;&nbsp;</a></span>hx711_multi_get_values()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void hx711_multi_get_values </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structhx711__multi__t.html">hx711_multi_t</a> *const&#160;</td>
          <td class="paramname"><em>hxm</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int32_t *const&#160;</td>
          <td class="paramname"><em>values</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Fill an array with one value from each HX711. Blocks until values are obtained. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">hxm</td><td></td></tr>
    <tr><td class="paramname">values</td><td></td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="hx711__multi_8c_source.html#l00684">684</a> of file <a class="el" href="hx711__multi_8c_source.html">hx711_multi.c</a>.</p>
<div class="fragment"><div class="line"><a name="l00686"></a><span class="lineno">  686</span>&#160;                           {</div>
<div class="line"><a name="l00687"></a><span class="lineno">  687</span>&#160; </div>
<div class="line"><a name="l00688"></a><span class="lineno">  688</span>&#160;        assert(<a class="code" href="hx711__multi_8c.html#a621b39fc9bc2ef68c8c8d8d453c9d936">hx711_multi__is_state_machines_enabled</a>(hxm));</div>
<div class="line"><a name="l00689"></a><span class="lineno">  689</span>&#160;        assert(values != NULL);</div>
<div class="line"><a name="l00690"></a><span class="lineno">  690</span>&#160;        assert(!<a class="code" href="hx711__multi_8c.html#aae9f50fe5018621c4ff107b6ae63233e">hx711_multi__async_is_running</a>(hxm));</div>
<div class="line"><a name="l00691"></a><span class="lineno">  691</span>&#160; </div>
<div class="line"><a name="l00692"></a><span class="lineno">  692</span>&#160;        <a class="code" href="hx711__multi_8c.html#a9c9274eff10f09f15bcd583bc7be58a5">hx711_multi_async_start</a>(hxm);</div>
<div class="line"><a name="l00693"></a><span class="lineno">  693</span>&#160;        <span class="keywordflow">while</span>(!<a class="code" href="hx711__multi_8c.html#a8269b0d05acff95be2ebd4e572687bc4">hx711_multi_async_done</a>(hxm)) {</div>
<div class="line"><a name="l00694"></a><span class="lineno">  694</span>&#160;            tight_loop_contents();</div>
<div class="line"><a name="l00695"></a><span class="lineno">  695</span>&#160;        }</div>
<div class="line"><a name="l00696"></a><span class="lineno">  696</span>&#160;        <a class="code" href="hx711__multi_8c.html#a146f59cdd3b4fc3fbf24df4c47feb4f8">hx711_multi_async_get_values</a>(hxm, values);</div>
<div class="line"><a name="l00697"></a><span class="lineno">  697</span>&#160; </div>
<div class="line"><a name="l00698"></a><span class="lineno">  698</span>&#160;}</div>
<div class="ttc" id="ahx711__multi_8c_html_a146f59cdd3b4fc3fbf24df4c47feb4f8"><div class="ttname"><a href="hx711__multi_8c.html#a146f59cdd3b4fc3fbf24df4c47feb4f8">hx711_multi_async_get_values</a></div><div class="ttdeci">void hx711_multi_async_get_values(hx711_multi_t *const hxm, int32_t *const values)</div><div class="ttdoc">Get the values from the last asynchronous read. This function is not mutex protected.</div><div class="ttdef"><b>Definition:</b> <a href="hx711__multi_8c_source.html#l00774">hx711_multi.c:774</a></div></div>
<div class="ttc" id="ahx711__multi_8c_html_a9c9274eff10f09f15bcd583bc7be58a5"><div class="ttname"><a href="hx711__multi_8c.html#a9c9274eff10f09f15bcd583bc7be58a5">hx711_multi_async_start</a></div><div class="ttdeci">void hx711_multi_async_start(hx711_multi_t *const hxm)</div><div class="ttdoc">Start an asynchronos read. This function is not mutex protected.</div><div class="ttdef"><b>Definition:</b> <a href="hx711__multi_8c_source.html#l00736">hx711_multi.c:736</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="hx711__multi_8c_source.html#l00321">hx711_multi__async_is_running()</a>, <a class="el" href="hx711__multi_8c_source.html#l00457">hx711_multi__is_state_machines_enabled()</a>, <a class="el" href="hx711__multi_8c_source.html#l00769">hx711_multi_async_done()</a>, <a class="el" href="hx711__multi_8c_source.html#l00774">hx711_multi_async_get_values()</a>, and <a class="el" href="hx711__multi_8c_source.html#l00736">hx711_multi_async_start()</a>.</p>

</div>
</div>
<a id="a78193a4be7ab6f0b2760a05f26eaaf55"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a78193a4be7ab6f0b2760a05f26eaaf55">&#9670;&nbsp;</a></span>hx711_multi_get_values_timeout()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool hx711_multi_get_values_timeout </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structhx711__multi__t.html">hx711_multi_t</a> *const&#160;</td>
          <td class="paramname"><em>hxm</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int32_t *const&#160;</td>
          <td class="paramname"><em>values</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const uint&#160;</td>
          <td class="paramname"><em>timeout</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Fill an array with one value from each HX711, timing out if failing to obtain values within the timeout period. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">hxm</td><td></td></tr>
    <tr><td class="paramname">values</td><td></td></tr>
    <tr><td class="paramname">timeout</td><td>microseconds </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>true if values obtained within the timeout period </dd>
<dd>
false if values not obtained within the timeout period </dd></dl>

<p class="definition">Definition at line <a class="el" href="hx711__multi_8c_source.html#l00700">700</a> of file <a class="el" href="hx711__multi_8c_source.html">hx711_multi.c</a>.</p>
<div class="fragment"><div class="line"><a name="l00703"></a><span class="lineno">  703</span>&#160;                        {</div>
<div class="line"><a name="l00704"></a><span class="lineno">  704</span>&#160; </div>
<div class="line"><a name="l00705"></a><span class="lineno">  705</span>&#160;        assert(<a class="code" href="hx711__multi_8c.html#a621b39fc9bc2ef68c8c8d8d453c9d936">hx711_multi__is_state_machines_enabled</a>(hxm));</div>
<div class="line"><a name="l00706"></a><span class="lineno">  706</span>&#160;        assert(values != NULL);</div>
<div class="line"><a name="l00707"></a><span class="lineno">  707</span>&#160;        assert(!<a class="code" href="hx711__multi_8c.html#aae9f50fe5018621c4ff107b6ae63233e">hx711_multi__async_is_running</a>(hxm));</div>
<div class="line"><a name="l00708"></a><span class="lineno">  708</span>&#160; </div>
<div class="line"><a name="l00709"></a><span class="lineno">  709</span>&#160;        <span class="keyword">const</span> absolute_time_t end = make_timeout_time_us(timeout);</div>
<div class="line"><a name="l00710"></a><span class="lineno">  710</span>&#160;        <span class="keywordtype">bool</span> success = <span class="keyword">false</span>;</div>
<div class="line"><a name="l00711"></a><span class="lineno">  711</span>&#160; </div>
<div class="line"><a name="l00712"></a><span class="lineno">  712</span>&#160;        <a class="code" href="hx711__multi_8c.html#a9c9274eff10f09f15bcd583bc7be58a5">hx711_multi_async_start</a>(hxm);</div>
<div class="line"><a name="l00713"></a><span class="lineno">  713</span>&#160; </div>
<div class="line"><a name="l00714"></a><span class="lineno">  714</span>&#160;        <span class="keywordflow">while</span>(!time_reached(end)) {</div>
<div class="line"><a name="l00715"></a><span class="lineno">  715</span>&#160;            <span class="keywordflow">if</span>(<a class="code" href="hx711__multi_8c.html#a8269b0d05acff95be2ebd4e572687bc4">hx711_multi_async_done</a>(hxm)) {</div>
<div class="line"><a name="l00716"></a><span class="lineno">  716</span>&#160;                success = <span class="keyword">true</span>;</div>
<div class="line"><a name="l00717"></a><span class="lineno">  717</span>&#160;                <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00718"></a><span class="lineno">  718</span>&#160;            }</div>
<div class="line"><a name="l00719"></a><span class="lineno">  719</span>&#160;        }</div>
<div class="line"><a name="l00720"></a><span class="lineno">  720</span>&#160; </div>
<div class="line"><a name="l00721"></a><span class="lineno">  721</span>&#160;        <span class="keywordflow">if</span>(success) {</div>
<div class="line"><a name="l00722"></a><span class="lineno">  722</span>&#160;            <a class="code" href="hx711__multi_8c.html#a146f59cdd3b4fc3fbf24df4c47feb4f8">hx711_multi_async_get_values</a>(hxm, values);</div>
<div class="line"><a name="l00723"></a><span class="lineno">  723</span>&#160;        }</div>
<div class="line"><a name="l00724"></a><span class="lineno">  724</span>&#160;        <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00725"></a><span class="lineno">  725</span>&#160;            <span class="comment">//if timed out, cancel DMA and stop listening</span></div>
<div class="line"><a name="l00726"></a><span class="lineno">  726</span>&#160;            <span class="comment">//for IRQs and exit mutex. Do this atomically!</span></div>
<div class="line"><a name="l00727"></a><span class="lineno">  727</span>&#160;            <a class="code" href="util_8h.html#aa7beb1f3b0258229e0a189f4b8ff0107">UTIL_INTERRUPTS_OFF_BLOCK</a>(</div>
<div class="line"><a name="l00728"></a><span class="lineno">  728</span>&#160;                <a class="code" href="hx711__multi_8c.html#a0e5f6781dccde45427e38157fece3b1e">hx711_multi__async_finish</a>(hxm);</div>
<div class="line"><a name="l00729"></a><span class="lineno">  729</span>&#160;            );</div>
<div class="line"><a name="l00730"></a><span class="lineno">  730</span>&#160;        }</div>
<div class="line"><a name="l00731"></a><span class="lineno">  731</span>&#160; </div>
<div class="line"><a name="l00732"></a><span class="lineno">  732</span>&#160;        <span class="keywordflow">return</span> success;</div>
<div class="line"><a name="l00733"></a><span class="lineno">  733</span>&#160; </div>
<div class="line"><a name="l00734"></a><span class="lineno">  734</span>&#160;}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="hx711__multi_8c_source.html#l00337">hx711_multi__async_finish()</a>, <a class="el" href="hx711__multi_8c_source.html#l00321">hx711_multi__async_is_running()</a>, <a class="el" href="hx711__multi_8c_source.html#l00457">hx711_multi__is_state_machines_enabled()</a>, <a class="el" href="hx711__multi_8c_source.html#l00769">hx711_multi_async_done()</a>, <a class="el" href="hx711__multi_8c_source.html#l00774">hx711_multi_async_get_values()</a>, <a class="el" href="hx711__multi_8c_source.html#l00736">hx711_multi_async_start()</a>, and <a class="el" href="util_8h_source.html#l00075">UTIL_INTERRUPTS_OFF_BLOCK</a>.</p>

</div>
</div>
<a id="a1f0ab58e4beec4a8c66ac155523ffebc"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1f0ab58e4beec4a8c66ac155523ffebc">&#9670;&nbsp;</a></span>hx711_multi_init()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void hx711_multi_init </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structhx711__multi__t.html">hx711_multi_t</a> *const&#160;</td>
          <td class="paramname"><em>hxm</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="structhx711__multi__config__t.html">hx711_multi_config_t</a> *const&#160;</td>
          <td class="paramname"><em>config</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="hx711__multi_8c_source.html#l00518">518</a> of file <a class="el" href="hx711__multi_8c_source.html">hx711_multi.c</a>.</p>
<div class="fragment"><div class="line"><a name="l00520"></a><span class="lineno">  520</span>&#160;                                              {</div>
<div class="line"><a name="l00521"></a><span class="lineno">  521</span>&#160; </div>
<div class="line"><a name="l00522"></a><span class="lineno">  522</span>&#160;        <a class="code" href="hx711__multi_8c.html#ae42ed9d1dab3e22ef88f1578e86aade5">hx711_multi__init_asert</a>(hxm, config);</div>
<div class="line"><a name="l00523"></a><span class="lineno">  523</span>&#160; </div>
<div class="line"><a name="l00524"></a><span class="lineno">  524</span>&#160;<span class="preprocessor">#ifndef HX711_NO_MUTEX</span></div>
<div class="line"><a name="l00525"></a><span class="lineno">  525</span>&#160;        <span class="comment">//this doesn&#39;t need to be an interrupts-off block</span></div>
<div class="line"><a name="l00526"></a><span class="lineno">  526</span>&#160;        <span class="comment">//because the mutex will protect the hxm from reads</span></div>
<div class="line"><a name="l00527"></a><span class="lineno">  527</span>&#160;        <span class="comment">//until init returns, and the source IRQs aren&#39;t</span></div>
<div class="line"><a name="l00528"></a><span class="lineno">  528</span>&#160;        <span class="comment">//enabled anyway</span></div>
<div class="line"><a name="l00529"></a><span class="lineno">  529</span>&#160;        mutex_init(&amp;hxm-&gt;<a class="code" href="structhx711__multi__t.html#a9bf13556ba6f34181172ca641356ac7f">_mut</a>);</div>
<div class="line"><a name="l00530"></a><span class="lineno">  530</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l00531"></a><span class="lineno">  531</span>&#160; </div>
<div class="line"><a name="l00532"></a><span class="lineno">  532</span>&#160;        <a class="code" href="hx711_8h.html#a181b141560a3092296327d82b132b74b">HX711_MUTEX_BLOCK</a>(hxm-&gt;<a class="code" href="structhx711__multi__t.html#a9bf13556ba6f34181172ca641356ac7f">_mut</a>, </div>
<div class="line"><a name="l00533"></a><span class="lineno">  533</span>&#160; </div>
<div class="line"><a name="l00534"></a><span class="lineno">  534</span>&#160;            hxm-&gt;<a class="code" href="structhx711__multi__t.html#a33f7d67f17b41ed1fde7095df906e9ac">_clock_pin</a> = config-&gt;<a class="code" href="structhx711__multi__config__t.html#ab658e4573c7713d43e64e48c6cdbb807">clock_pin</a>;</div>
<div class="line"><a name="l00535"></a><span class="lineno">  535</span>&#160;            hxm-&gt;<a class="code" href="structhx711__multi__t.html#a05162820c0c431518977e976beb5ed36">_data_pin_base</a> = config-&gt;<a class="code" href="structhx711__multi__config__t.html#a40c904ad9477c809d4d5f257bf092944">data_pin_base</a>;</div>
<div class="line"><a name="l00536"></a><span class="lineno">  536</span>&#160;            hxm-&gt;<a class="code" href="structhx711__multi__t.html#ab2e14fd435e262eaeb37df775a7fe3c3">_chips_len</a> = config-&gt;<a class="code" href="structhx711__multi__config__t.html#a21fd8b238c4dfc429129d6b263995db1">chips_len</a>;</div>
<div class="line"><a name="l00537"></a><span class="lineno">  537</span>&#160; </div>
<div class="line"><a name="l00538"></a><span class="lineno">  538</span>&#160;            hxm-&gt;<a class="code" href="structhx711__multi__t.html#ab3d6374db039d529c15616f9d82aee4d">_pio</a> = config-&gt;<a class="code" href="structhx711__multi__config__t.html#acfa4942a5a80a4ba2207142343c3a4b9">pio</a>;</div>
<div class="line"><a name="l00539"></a><span class="lineno">  539</span>&#160;            hxm-&gt;<a class="code" href="structhx711__multi__t.html#ab148ea8257414c09aa20d51b4b4bda6e">_awaiter_prog</a> = config-&gt;<a class="code" href="structhx711__multi__config__t.html#a5c2c14849efb3824aee686026f7c8318">awaiter_prog</a>;</div>
<div class="line"><a name="l00540"></a><span class="lineno">  540</span>&#160;            hxm-&gt;<a class="code" href="structhx711__multi__t.html#a73b7e770a71684c484c65132683c7ecc">_reader_prog</a> = config-&gt;<a class="code" href="structhx711__multi__config__t.html#a8109c9bd986ba6a1d04c69eaa0cfd3b1">reader_prog</a>;</div>
<div class="line"><a name="l00541"></a><span class="lineno">  541</span>&#160; </div>
<div class="line"><a name="l00542"></a><span class="lineno">  542</span>&#160;            hxm-&gt;<a class="code" href="structhx711__multi__t.html#a8d4324e79160d630ca07cf45518dacf7">_pio_irq_index</a> = config-&gt;<a class="code" href="structhx711__multi__config__t.html#afeac977c5e8cb7a89fede1c3ccf2cd3c">pio_irq_index</a>;</div>
<div class="line"><a name="l00543"></a><span class="lineno">  543</span>&#160;            hxm-&gt;<a class="code" href="structhx711__multi__t.html#a3ac0daec08eac7db2f64eb836633b438">_dma_irq_index</a> = config-&gt;<a class="code" href="structhx711__multi__config__t.html#a46f7d7523f979d1cb5a3401c11349110">dma_irq_index</a>;</div>
<div class="line"><a name="l00544"></a><span class="lineno">  544</span>&#160; </div>
<div class="line"><a name="l00545"></a><span class="lineno">  545</span>&#160;            hxm-&gt;<a class="code" href="structhx711__multi__t.html#a2631597e6d679498afb6bd4d64ed7f4f">_async_state</a> = <a class="code" href="hx711__multi_8h.html#a3e900ca4cb60ae6ec8851ea7f12f03d6a3bdf52a11b352cbcce318a0fa0f22df7">HX711_MULTI_ASYNC_STATE_NONE</a>;</div>
<div class="line"><a name="l00546"></a><span class="lineno">  546</span>&#160; </div>
<div class="line"><a name="l00547"></a><span class="lineno">  547</span>&#160;            <a class="code" href="hx711__multi_8c.html#a52a88d5def831f290413b4fc3ddac59a">hx711_multi__async_add_reader</a>(hxm);</div>
<div class="line"><a name="l00548"></a><span class="lineno">  548</span>&#160; </div>
<div class="line"><a name="l00549"></a><span class="lineno">  549</span>&#160;            <a class="code" href="util_8h.html#a037694074f44ac771722f361af42c82b">util_gpio_set_output</a>(hxm-&gt;<a class="code" href="structhx711__multi__t.html#a33f7d67f17b41ed1fde7095df906e9ac">_clock_pin</a>);</div>
<div class="line"><a name="l00550"></a><span class="lineno">  550</span>&#160; </div>
<div class="line"><a name="l00551"></a><span class="lineno">  551</span>&#160;            <a class="code" href="util_8h.html#a78e910196cfa6173ceebda701787bdad">util_gpio_set_contiguous_input_pins</a>(</div>
<div class="line"><a name="l00552"></a><span class="lineno">  552</span>&#160;                hxm-&gt;<a class="code" href="structhx711__multi__t.html#a05162820c0c431518977e976beb5ed36">_data_pin_base</a>,</div>
<div class="line"><a name="l00553"></a><span class="lineno">  553</span>&#160;                hxm-&gt;<a class="code" href="structhx711__multi__t.html#ab2e14fd435e262eaeb37df775a7fe3c3">_chips_len</a>);</div>
<div class="line"><a name="l00554"></a><span class="lineno">  554</span>&#160; </div>
<div class="line"><a name="l00555"></a><span class="lineno">  555</span>&#160;            <a class="code" href="hx711__multi_8c.html#ab1d21290af28c078f43b2efa536677ed">hx711_multi__init_pio</a>(hxm);</div>
<div class="line"><a name="l00556"></a><span class="lineno">  556</span>&#160; </div>
<div class="line"><a name="l00557"></a><span class="lineno">  557</span>&#160;            config-&gt;<a class="code" href="structhx711__multi__config__t.html#ae8fe92cea904beb747575247e03d4dc5">pio_init</a>(hxm);</div>
<div class="line"><a name="l00558"></a><span class="lineno">  558</span>&#160;            config-&gt;<a class="code" href="structhx711__multi__config__t.html#a6ccb4149b3dbafe1ebb1301d2b5df6b9">awaiter_prog_init</a>(hxm);</div>
<div class="line"><a name="l00559"></a><span class="lineno">  559</span>&#160;            config-&gt;<a class="code" href="structhx711__multi__config__t.html#a88f5ff5df1bf6d67e7db351ee1abe647">reader_prog_init</a>(hxm);</div>
<div class="line"><a name="l00560"></a><span class="lineno">  560</span>&#160; </div>
<div class="line"><a name="l00561"></a><span class="lineno">  561</span>&#160;            <a class="code" href="hx711__multi_8c.html#ae049f0ef5524a30945ac858053e26703">hx711_multi__init_dma</a>(hxm);</div>
<div class="line"><a name="l00562"></a><span class="lineno">  562</span>&#160;            <a class="code" href="hx711__multi_8c.html#a6fb25bdb70dfbf5552a31a62d5f4bd1d">hx711_multi__init_irq</a>(hxm);</div>
<div class="line"><a name="l00563"></a><span class="lineno">  563</span>&#160; </div>
<div class="line"><a name="l00564"></a><span class="lineno">  564</span>&#160;        );</div>
<div class="line"><a name="l00565"></a><span class="lineno">  565</span>&#160; </div>
<div class="line"><a name="l00566"></a><span class="lineno">  566</span>&#160;}</div>
<div class="ttc" id="ahx711_8h_html_a181b141560a3092296327d82b132b74b"><div class="ttname"><a href="hx711_8h.html#a181b141560a3092296327d82b132b74b">HX711_MUTEX_BLOCK</a></div><div class="ttdeci">#define HX711_MUTEX_BLOCK(mut,...)</div><div class="ttdef"><b>Definition:</b> <a href="hx711_8h_source.html#l00036">hx711.h:36</a></div></div>
<div class="ttc" id="ahx711__multi_8c_html_a52a88d5def831f290413b4fc3ddac59a"><div class="ttname"><a href="hx711__multi_8c.html#a52a88d5def831f290413b4fc3ddac59a">hx711_multi__async_add_reader</a></div><div class="ttdeci">bool hx711_multi__async_add_reader(hx711_multi_t *const hxm)</div><div class="ttdoc">Adds hxm to the array for ISR access. Returns false if no space.</div><div class="ttdef"><b>Definition:</b> <a href="hx711__multi_8c_source.html#l00407">hx711_multi.c:407</a></div></div>
<div class="ttc" id="ahx711__multi_8c_html_a6fb25bdb70dfbf5552a31a62d5f4bd1d"><div class="ttname"><a href="hx711__multi_8c.html#a6fb25bdb70dfbf5552a31a62d5f4bd1d">hx711_multi__init_irq</a></div><div class="ttdeci">void hx711_multi__init_irq(hx711_multi_t *const hxm)</div><div class="ttdoc">Subroutine for initialising IRQ.</div><div class="ttdef"><b>Definition:</b> <a href="hx711__multi_8c_source.html#l00184">hx711_multi.c:184</a></div></div>
<div class="ttc" id="ahx711__multi_8c_html_ab1d21290af28c078f43b2efa536677ed"><div class="ttname"><a href="hx711__multi_8c.html#ab1d21290af28c078f43b2efa536677ed">hx711_multi__init_pio</a></div><div class="ttdeci">void hx711_multi__init_pio(hx711_multi_t *const hxm)</div><div class="ttdoc">Subroutine for initialising PIO.</div><div class="ttdef"><b>Definition:</b> <a href="hx711__multi_8c_source.html#l00081">hx711_multi.c:81</a></div></div>
<div class="ttc" id="ahx711__multi_8c_html_ae049f0ef5524a30945ac858053e26703"><div class="ttname"><a href="hx711__multi_8c.html#ae049f0ef5524a30945ac858053e26703">hx711_multi__init_dma</a></div><div class="ttdeci">void hx711_multi__init_dma(hx711_multi_t *const hxm)</div><div class="ttdoc">Subroutine for initialising DMA.</div><div class="ttdef"><b>Definition:</b> <a href="hx711__multi_8c_source.html#l00110">hx711_multi.c:110</a></div></div>
<div class="ttc" id="ahx711__multi_8c_html_ae42ed9d1dab3e22ef88f1578e86aade5"><div class="ttname"><a href="hx711__multi_8c.html#ae42ed9d1dab3e22ef88f1578e86aade5">hx711_multi__init_asert</a></div><div class="ttdeci">void hx711_multi__init_asert(hx711_multi_t *const hxm, const hx711_multi_config_t *const config)</div><div class="ttdef"><b>Definition:</b> <a href="hx711__multi_8c_source.html#l00044">hx711_multi.c:44</a></div></div>
<div class="ttc" id="astructhx711__multi__t_html_a05162820c0c431518977e976beb5ed36"><div class="ttname"><a href="structhx711__multi__t.html#a05162820c0c431518977e976beb5ed36">hx711_multi_t::_data_pin_base</a></div><div class="ttdeci">uint _data_pin_base</div><div class="ttdef"><b>Definition:</b> <a href="hx711__multi_8h_source.html#l00095">hx711_multi.h:95</a></div></div>
<div class="ttc" id="astructhx711__multi__t_html_a33f7d67f17b41ed1fde7095df906e9ac"><div class="ttname"><a href="structhx711__multi__t.html#a33f7d67f17b41ed1fde7095df906e9ac">hx711_multi_t::_clock_pin</a></div><div class="ttdeci">uint _clock_pin</div><div class="ttdef"><b>Definition:</b> <a href="hx711__multi_8h_source.html#l00094">hx711_multi.h:94</a></div></div>
<div class="ttc" id="autil_8h_html_a037694074f44ac771722f361af42c82b"><div class="ttname"><a href="util_8h.html#a037694074f44ac771722f361af42c82b">util_gpio_set_output</a></div><div class="ttdeci">void util_gpio_set_output(const uint gpio)</div><div class="ttdoc">Initialises and sets GPIO pin to output.</div><div class="ttdef"><b>Definition:</b> <a href="util_8c_source.html#l00185">util.c:185</a></div></div>
<div class="ttc" id="autil_8h_html_a78e910196cfa6173ceebda701787bdad"><div class="ttname"><a href="util_8h.html#a78e910196cfa6173ceebda701787bdad">util_gpio_set_contiguous_input_pins</a></div><div class="ttdeci">void util_gpio_set_contiguous_input_pins(const uint base, const uint len)</div><div class="ttdoc">Sets GPIO pins from base to base + len to input.</div><div class="ttdef"><b>Definition:</b> <a href="util_8c_source.html#l00170">util.c:170</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="hx711__multi_8h_source.html#l00116">hx711_multi_t::_async_state</a>, <a class="el" href="hx711__multi_8h_source.html#l00100">hx711_multi_t::_awaiter_prog</a>, <a class="el" href="hx711__multi_8h_source.html#l00096">hx711_multi_t::_chips_len</a>, <a class="el" href="hx711__multi_8h_source.html#l00094">hx711_multi_t::_clock_pin</a>, <a class="el" href="hx711__multi_8h_source.html#l00095">hx711_multi_t::_data_pin_base</a>, <a class="el" href="hx711__multi_8h_source.html#l00115">hx711_multi_t::_dma_irq_index</a>, <a class="el" href="hx711__multi_8h_source.html#l00119">hx711_multi_t::_mut</a>, <a class="el" href="hx711__multi_8h_source.html#l00098">hx711_multi_t::_pio</a>, <a class="el" href="hx711__multi_8h_source.html#l00114">hx711_multi_t::_pio_irq_index</a>, <a class="el" href="hx711__multi_8h_source.html#l00105">hx711_multi_t::_reader_prog</a>, <a class="el" href="hx711__multi_8h_source.html#l00174">hx711_multi_config_t::awaiter_prog</a>, <a class="el" href="hx711__multi_8h_source.html#l00181">hx711_multi_config_t::awaiter_prog_init</a>, <a class="el" href="hx711__multi_8h_source.html#l00142">hx711_multi_config_t::chips_len</a>, <a class="el" href="hx711__multi_8h_source.html#l00132">hx711_multi_config_t::clock_pin</a>, <a class="el" href="hx711__multi_8h_source.html#l00137">hx711_multi_config_t::data_pin_base</a>, <a class="el" href="hx711__multi_8h_source.html#l00155">hx711_multi_config_t::dma_irq_index</a>, <a class="el" href="hx711__multi_8c_source.html#l00407">hx711_multi__async_add_reader()</a>, <a class="el" href="hx711__multi_8c_source.html#l00044">hx711_multi__init_asert()</a>, <a class="el" href="hx711__multi_8c_source.html#l00110">hx711_multi__init_dma()</a>, <a class="el" href="hx711__multi_8c_source.html#l00184">hx711_multi__init_irq()</a>, <a class="el" href="hx711__multi_8c_source.html#l00081">hx711_multi__init_pio()</a>, <a class="el" href="hx711__multi_8h_source.html#l00086">HX711_MULTI_ASYNC_STATE_NONE</a>, <a class="el" href="hx711_8h_source.html#l00036">HX711_MUTEX_BLOCK</a>, <a class="el" href="hx711__multi_8h_source.html#l00161">hx711_multi_config_t::pio</a>, <a class="el" href="hx711__multi_8h_source.html#l00168">hx711_multi_config_t::pio_init</a>, <a class="el" href="hx711__multi_8h_source.html#l00149">hx711_multi_config_t::pio_irq_index</a>, <a class="el" href="hx711__multi_8h_source.html#l00187">hx711_multi_config_t::reader_prog</a>, <a class="el" href="hx711__multi_8h_source.html#l00194">hx711_multi_config_t::reader_prog_init</a>, <a class="el" href="util_8c_source.html#l00170">util_gpio_set_contiguous_input_pins()</a>, and <a class="el" href="util_8c_source.html#l00185">util_gpio_set_output()</a>.</p>

</div>
</div>
<a id="ad47ccf93edd16a5cc982e8757acd7e80"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad47ccf93edd16a5cc982e8757acd7e80">&#9670;&nbsp;</a></span>hx711_multi_is_syncd()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool hx711_multi_is_syncd </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structhx711__multi__t.html">hx711_multi_t</a> *const&#160;</td>
          <td class="paramname"><em>hxm</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Determines whether all chips are in sync. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">hxm</td><td></td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>true </dd>
<dd>
false </dd></dl>

<p class="definition">Definition at line <a class="el" href="hx711__multi_8c_source.html#l00870">870</a> of file <a class="el" href="hx711__multi_8c_source.html">hx711_multi.c</a>.</p>
<div class="fragment"><div class="line"><a name="l00871"></a><span class="lineno">  871</span>&#160;                              {</div>
<div class="line"><a name="l00872"></a><span class="lineno">  872</span>&#160; </div>
<div class="line"><a name="l00873"></a><span class="lineno">  873</span>&#160;        assert(<a class="code" href="hx711__multi_8c.html#a621b39fc9bc2ef68c8c8d8d453c9d936">hx711_multi__is_state_machines_enabled</a>(hxm));</div>
<div class="line"><a name="l00874"></a><span class="lineno">  874</span>&#160; </div>
<div class="line"><a name="l00875"></a><span class="lineno">  875</span>&#160;        <span class="comment">//all chips should either be 0 or 1 which translates</span></div>
<div class="line"><a name="l00876"></a><span class="lineno">  876</span>&#160;        <span class="comment">//to a bitmask of exactly 0 or 2^chips</span></div>
<div class="line"><a name="l00877"></a><span class="lineno">  877</span>&#160;        <span class="keyword">const</span> uint32_t allReady = (uint32_t)pow(2, hxm-&gt;<a class="code" href="structhx711__multi__t.html#ab2e14fd435e262eaeb37df775a7fe3c3">_chips_len</a>);</div>
<div class="line"><a name="l00878"></a><span class="lineno">  878</span>&#160;        <span class="keyword">const</span> uint32_t state = <a class="code" href="hx711__multi_8c.html#ad629ab72a25e618a7f2b52a24af7f3f0">hx711_multi_get_sync_state</a>(hxm);</div>
<div class="line"><a name="l00879"></a><span class="lineno">  879</span>&#160; </div>
<div class="line"><a name="l00880"></a><span class="lineno">  880</span>&#160;        <span class="keywordflow">return</span> state == 0 || state == allReady;</div>
<div class="line"><a name="l00881"></a><span class="lineno">  881</span>&#160; </div>
<div class="line"><a name="l00882"></a><span class="lineno">  882</span>&#160;}</div>
<div class="ttc" id="ahx711__multi_8c_html_ad629ab72a25e618a7f2b52a24af7f3f0"><div class="ttname"><a href="hx711__multi_8c.html#ad629ab72a25e618a7f2b52a24af7f3f0">hx711_multi_get_sync_state</a></div><div class="ttdeci">uint32_t hx711_multi_get_sync_state(hx711_multi_t *const hxm)</div><div class="ttdoc">Returns the state of each chip as a bitmask. The 0th bit is the first chip, 1th bit is the second,...</div><div class="ttdef"><b>Definition:</b> <a href="hx711__multi_8c_source.html#l00864">hx711_multi.c:864</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="hx711__multi_8h_source.html#l00096">hx711_multi_t::_chips_len</a>, <a class="el" href="hx711__multi_8c_source.html#l00457">hx711_multi__is_state_machines_enabled()</a>, and <a class="el" href="hx711__multi_8c_source.html#l00864">hx711_multi_get_sync_state()</a>.</p>

</div>
</div>
<a id="ac2dede06a499533e8a87092ad1ad8a2c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac2dede06a499533e8a87092ad1ad8a2c">&#9670;&nbsp;</a></span>hx711_multi_pinvals_to_values()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void hx711_multi_pinvals_to_values </td>
          <td>(</td>
          <td class="paramtype">const uint32_t *const&#160;</td>
          <td class="paramname"><em>pinvals</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int32_t *const&#160;</td>
          <td class="paramname"><em>values</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const size_t&#160;</td>
          <td class="paramname"><em>len</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Convert an array of pinvals to regular HX711 values. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">pinvals</td><td></td></tr>
    <tr><td class="paramname">values</td><td></td></tr>
    <tr><td class="paramname">len</td><td>number of values to convert </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="hx711__multi_8c_source.html#l00464">464</a> of file <a class="el" href="hx711__multi_8c_source.html">hx711_multi.c</a>.</p>
<div class="fragment"><div class="line"><a name="l00467"></a><span class="lineno">  467</span>&#160;                      {</div>
<div class="line"><a name="l00468"></a><span class="lineno">  468</span>&#160; </div>
<div class="line"><a name="l00469"></a><span class="lineno">  469</span>&#160;        assert(pinvals != NULL);</div>
<div class="line"><a name="l00470"></a><span class="lineno">  470</span>&#160;        assert(values != NULL);</div>
<div class="line"><a name="l00471"></a><span class="lineno">  471</span>&#160;        assert(len &gt; 0);</div>
<div class="line"><a name="l00472"></a><span class="lineno">  472</span>&#160; </div>
<div class="line"><a name="l00473"></a><span class="lineno">  473</span>&#160;        <span class="comment">//construct an individual chip value by OR-ing</span></div>
<div class="line"><a name="l00474"></a><span class="lineno">  474</span>&#160;        <span class="comment">//together the bits from the pinvals array.</span></div>
<div class="line"><a name="l00475"></a><span class="lineno">  475</span>&#160;        <span class="comment">//</span></div>
<div class="line"><a name="l00476"></a><span class="lineno">  476</span>&#160;        <span class="comment">//each n-th bit of the pinvals array makes up all</span></div>
<div class="line"><a name="l00477"></a><span class="lineno">  477</span>&#160;        <span class="comment">//the bits for an individual chip. ie.:</span></div>
<div class="line"><a name="l00478"></a><span class="lineno">  478</span>&#160;        <span class="comment">//</span></div>
<div class="line"><a name="l00479"></a><span class="lineno">  479</span>&#160;        <span class="comment">//pinvals[0] contains all the 24th bit HX711 values</span></div>
<div class="line"><a name="l00480"></a><span class="lineno">  480</span>&#160;        <span class="comment">//for each chip, pinvals[1] contains all the 23rd bit</span></div>
<div class="line"><a name="l00481"></a><span class="lineno">  481</span>&#160;        <span class="comment">//values, and so on...</span></div>
<div class="line"><a name="l00482"></a><span class="lineno">  482</span>&#160;        <span class="comment">//</span></div>
<div class="line"><a name="l00483"></a><span class="lineno">  483</span>&#160;        <span class="comment">//(pinvals[0] &gt;&gt; 0) &amp; 1 is the 24th HX711 bit of the 0th chip</span></div>
<div class="line"><a name="l00484"></a><span class="lineno">  484</span>&#160;        <span class="comment">//(pinvals[1] &gt;&gt; 0) &amp; 1 is the 23rd HX711 bit of the 0th chip</span></div>
<div class="line"><a name="l00485"></a><span class="lineno">  485</span>&#160;        <span class="comment">//(pinvals[1] &gt;&gt; 2) &amp; 1 is the 23rd HX711 bit of the 3rd chip</span></div>
<div class="line"><a name="l00486"></a><span class="lineno">  486</span>&#160;        <span class="comment">//(pinvals[23] &gt;&gt; 0) &amp; 1 is the 0th HX711 bit of the 0th chip</span></div>
<div class="line"><a name="l00487"></a><span class="lineno">  487</span>&#160;        <span class="comment">//</span></div>
<div class="line"><a name="l00488"></a><span class="lineno">  488</span>&#160;        <span class="comment">//eg.</span></div>
<div class="line"><a name="l00489"></a><span class="lineno">  489</span>&#160;        <span class="comment">//rawvals[0] = </span></div>
<div class="line"><a name="l00490"></a><span class="lineno">  490</span>&#160;        <span class="comment">//    ((pinvals[0] &gt;&gt; 0) &amp; 1) &lt;&lt; 24 |</span></div>
<div class="line"><a name="l00491"></a><span class="lineno">  491</span>&#160;        <span class="comment">//    ((pinvals[1] &gt;&gt; 0) &amp; 1) &lt;&lt; 23 |</span></div>
<div class="line"><a name="l00492"></a><span class="lineno">  492</span>&#160;        <span class="comment">//    ((pinvals[2] &gt;&gt; 0) &amp; 1) &lt;&lt; 22 |</span></div>
<div class="line"><a name="l00493"></a><span class="lineno">  493</span>&#160;        <span class="comment">//...</span></div>
<div class="line"><a name="l00494"></a><span class="lineno">  494</span>&#160;        <span class="comment">//    ((pinvals[23]) &gt;&gt; 0) &amp; 1) &lt;&lt; 0;</span></div>
<div class="line"><a name="l00495"></a><span class="lineno">  495</span>&#160; </div>
<div class="line"><a name="l00496"></a><span class="lineno">  496</span>&#160;        <span class="keywordflow">for</span>(<span class="keywordtype">size_t</span> chipNum = 0; chipNum &lt; len; ++chipNum) {</div>
<div class="line"><a name="l00497"></a><span class="lineno">  497</span>&#160; </div>
<div class="line"><a name="l00498"></a><span class="lineno">  498</span>&#160;            <span class="comment">//reset to 0</span></div>
<div class="line"><a name="l00499"></a><span class="lineno">  499</span>&#160;            <span class="comment">//this is the raw value for an individual chip</span></div>
<div class="line"><a name="l00500"></a><span class="lineno">  500</span>&#160;            uint32_t rawVal = 0;</div>
<div class="line"><a name="l00501"></a><span class="lineno">  501</span>&#160; </div>
<div class="line"><a name="l00502"></a><span class="lineno">  502</span>&#160;            <span class="comment">//reconstruct an individual twos comp HX711 value from pinbits</span></div>
<div class="line"><a name="l00503"></a><span class="lineno">  503</span>&#160;            <span class="keywordflow">for</span>(<span class="keywordtype">size_t</span> bitPos = 0; bitPos &lt; <a class="code" href="hx711_8h.html#aa27f0501a4e5a1c5d24c0d63caccd21e">HX711_READ_BITS</a>; ++bitPos) {</div>
<div class="line"><a name="l00504"></a><span class="lineno">  504</span>&#160;                <span class="keyword">const</span> uint shift = <a class="code" href="hx711_8h.html#aa27f0501a4e5a1c5d24c0d63caccd21e">HX711_READ_BITS</a> - bitPos - 1;</div>
<div class="line"><a name="l00505"></a><span class="lineno">  505</span>&#160;                <span class="keyword">const</span> uint32_t bit = (pinvals[bitPos] &gt;&gt; chipNum) &amp; 1;</div>
<div class="line"><a name="l00506"></a><span class="lineno">  506</span>&#160;                rawVal |= bit &lt;&lt; shift;</div>
<div class="line"><a name="l00507"></a><span class="lineno">  507</span>&#160;            }</div>
<div class="line"><a name="l00508"></a><span class="lineno">  508</span>&#160; </div>
<div class="line"><a name="l00509"></a><span class="lineno">  509</span>&#160;            <span class="comment">//then convert to a regular ones comp</span></div>
<div class="line"><a name="l00510"></a><span class="lineno">  510</span>&#160;            values[chipNum] = <a class="code" href="hx711_8h.html#a969d59d83bfa95ccdad9e5edd24cab22">hx711_get_twos_comp</a>(rawVal);</div>
<div class="line"><a name="l00511"></a><span class="lineno">  511</span>&#160; </div>
<div class="line"><a name="l00512"></a><span class="lineno">  512</span>&#160;            assert(<a class="code" href="hx711_8h.html#a832f00021c26e9607ce0ddb717915410">hx711_is_value_valid</a>(values[chipNum]));</div>
<div class="line"><a name="l00513"></a><span class="lineno">  513</span>&#160; </div>
<div class="line"><a name="l00514"></a><span class="lineno">  514</span>&#160;        }</div>
<div class="line"><a name="l00515"></a><span class="lineno">  515</span>&#160; </div>
<div class="line"><a name="l00516"></a><span class="lineno">  516</span>&#160;}</div>
<div class="ttc" id="ahx711_8h_html_a832f00021c26e9607ce0ddb717915410"><div class="ttname"><a href="hx711_8h.html#a832f00021c26e9607ce0ddb717915410">hx711_is_value_valid</a></div><div class="ttdeci">bool hx711_is_value_valid(const int32_t v)</div><div class="ttdoc">Check whether the given value is valid for a HX711 implementation.</div><div class="ttdef"><b>Definition:</b> <a href="hx711_8c_source.html#l00361">hx711.c:361</a></div></div>
<div class="ttc" id="ahx711_8h_html_a969d59d83bfa95ccdad9e5edd24cab22"><div class="ttname"><a href="hx711_8h.html#a969d59d83bfa95ccdad9e5edd24cab22">hx711_get_twos_comp</a></div><div class="ttdeci">int32_t hx711_get_twos_comp(const uint32_t raw)</div><div class="ttdoc">Convert a raw value from the HX711 to a 32-bit signed int.</div><div class="ttdef"><b>Definition:</b> <a href="hx711_8c_source.html#l00231">hx711.c:231</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="hx711_8c_source.html#l00231">hx711_get_twos_comp()</a>, <a class="el" href="hx711_8c_source.html#l00361">hx711_is_value_valid()</a>, and <a class="el" href="hx711_8h_source.html#l00049">HX711_READ_BITS</a>.</p>

<p class="reference">Referenced by <a class="el" href="hx711__multi_8c_source.html#l00774">hx711_multi_async_get_values()</a>.</p>

</div>
</div>
<a id="a5b5c5b4cf8da3d3e656b112edc7a876e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5b5c5b4cf8da3d3e656b112edc7a876e">&#9670;&nbsp;</a></span>hx711_multi_power_down()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void hx711_multi_power_down </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structhx711__multi__t.html">hx711_multi_t</a> *const&#160;</td>
          <td class="paramname"><em>hxm</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="hx711__multi_8c_source.html#l00832">832</a> of file <a class="el" href="hx711__multi_8c_source.html">hx711_multi.c</a>.</p>
<div class="fragment"><div class="line"><a name="l00832"></a><span class="lineno">  832</span>&#160;                                                      {</div>
<div class="line"><a name="l00833"></a><span class="lineno">  833</span>&#160; </div>
<div class="line"><a name="l00834"></a><span class="lineno">  834</span>&#160;    assert(<a class="code" href="hx711__multi_8c.html#ab0393c7baee372f5381b5ecce4aedcb1">hx711_multi__is_initd</a>(hxm));</div>
<div class="line"><a name="l00835"></a><span class="lineno">  835</span>&#160; </div>
<div class="line"><a name="l00836"></a><span class="lineno">  836</span>&#160;    <a class="code" href="hx711_8h.html#a181b141560a3092296327d82b132b74b">HX711_MUTEX_BLOCK</a>(hxm-&gt;<a class="code" href="structhx711__multi__t.html#a9bf13556ba6f34181172ca641356ac7f">_mut</a>,</div>
<div class="line"><a name="l00837"></a><span class="lineno">  837</span>&#160; </div>
<div class="line"><a name="l00838"></a><span class="lineno">  838</span>&#160;        <a class="code" href="util_8h.html#aa7beb1f3b0258229e0a189f4b8ff0107">UTIL_INTERRUPTS_OFF_BLOCK</a>(</div>
<div class="line"><a name="l00839"></a><span class="lineno">  839</span>&#160;            <a class="code" href="hx711__multi_8c.html#a0e5f6781dccde45427e38157fece3b1e">hx711_multi__async_finish</a>(hxm);</div>
<div class="line"><a name="l00840"></a><span class="lineno">  840</span>&#160;        );</div>
<div class="line"><a name="l00841"></a><span class="lineno">  841</span>&#160; </div>
<div class="line"><a name="l00842"></a><span class="lineno">  842</span>&#160;        pio_set_sm_mask_enabled(</div>
<div class="line"><a name="l00843"></a><span class="lineno">  843</span>&#160;            hxm-&gt;<a class="code" href="structhx711__multi__t.html#ab3d6374db039d529c15616f9d82aee4d">_pio</a>,</div>
<div class="line"><a name="l00844"></a><span class="lineno">  844</span>&#160;            (1 &lt;&lt; hxm-&gt;<a class="code" href="structhx711__multi__t.html#a211234c86c060caa17050587b5dfe07e">_awaiter_sm</a>) | (1 &lt;&lt; hxm-&gt;<a class="code" href="structhx711__multi__t.html#aa2661eaa306cb2672b361b63ed597ae7">_reader_sm</a>),</div>
<div class="line"><a name="l00845"></a><span class="lineno">  845</span>&#160;            <span class="keyword">false</span>);</div>
<div class="line"><a name="l00846"></a><span class="lineno">  846</span>&#160; </div>
<div class="line"><a name="l00847"></a><span class="lineno">  847</span>&#160;        gpio_put(</div>
<div class="line"><a name="l00848"></a><span class="lineno">  848</span>&#160;            hxm-&gt;<a class="code" href="structhx711__multi__t.html#a33f7d67f17b41ed1fde7095df906e9ac">_clock_pin</a>,</div>
<div class="line"><a name="l00849"></a><span class="lineno">  849</span>&#160;            <span class="keyword">true</span>);</div>
<div class="line"><a name="l00850"></a><span class="lineno">  850</span>&#160; </div>
<div class="line"><a name="l00851"></a><span class="lineno">  851</span>&#160;    );</div>
<div class="line"><a name="l00852"></a><span class="lineno">  852</span>&#160; </div>
<div class="line"><a name="l00853"></a><span class="lineno">  853</span>&#160;}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="hx711__multi_8h_source.html#l00102">hx711_multi_t::_awaiter_sm</a>, <a class="el" href="hx711__multi_8h_source.html#l00094">hx711_multi_t::_clock_pin</a>, <a class="el" href="hx711__multi_8h_source.html#l00119">hx711_multi_t::_mut</a>, <a class="el" href="hx711__multi_8h_source.html#l00098">hx711_multi_t::_pio</a>, <a class="el" href="hx711__multi_8h_source.html#l00107">hx711_multi_t::_reader_sm</a>, <a class="el" href="hx711__multi_8c_source.html#l00337">hx711_multi__async_finish()</a>, <a class="el" href="hx711__multi_8c_source.html#l00441">hx711_multi__is_initd()</a>, <a class="el" href="hx711_8h_source.html#l00036">HX711_MUTEX_BLOCK</a>, and <a class="el" href="util_8h_source.html#l00075">UTIL_INTERRUPTS_OFF_BLOCK</a>.</p>

<p class="reference">Referenced by <a class="el" href="hx711__multi_8c_source.html#l00855">hx711_multi_sync()</a>.</p>

</div>
</div>
<a id="a1b9f2e241ae4b2deea43482e8057064d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1b9f2e241ae4b2deea43482e8057064d">&#9670;&nbsp;</a></span>hx711_multi_power_up()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void hx711_multi_power_up </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structhx711__multi__t.html">hx711_multi_t</a> *const&#160;</td>
          <td class="paramname"><em>hxm</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="hx711_8h.html#acadec7365abc52889994131164536304">hx711_gain_t</a>&#160;</td>
          <td class="paramname"><em>gain</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="hx711__multi_8c_source.html#l00785">785</a> of file <a class="el" href="hx711__multi_8c_source.html">hx711_multi.c</a>.</p>
<div class="fragment"><div class="line"><a name="l00787"></a><span class="lineno">  787</span>&#160;                             {</div>
<div class="line"><a name="l00788"></a><span class="lineno">  788</span>&#160; </div>
<div class="line"><a name="l00789"></a><span class="lineno">  789</span>&#160;        assert(<a class="code" href="hx711__multi_8c.html#ab0393c7baee372f5381b5ecce4aedcb1">hx711_multi__is_initd</a>(hxm));</div>
<div class="line"><a name="l00790"></a><span class="lineno">  790</span>&#160; </div>
<div class="line"><a name="l00791"></a><span class="lineno">  791</span>&#160;        <span class="keyword">const</span> uint32_t pioGainVal = <a class="code" href="hx711_8h.html#ad50ae5d64b821555b8e8278dfc5aab49">hx711_gain_to_pio_gain</a>(gain);</div>
<div class="line"><a name="l00792"></a><span class="lineno">  792</span>&#160; </div>
<div class="line"><a name="l00793"></a><span class="lineno">  793</span>&#160;        assert(<a class="code" href="hx711_8h.html#a9d49aa265c24f678bd120470f4c834f3">hx711_is_pio_gain_valid</a>(pioGainVal));</div>
<div class="line"><a name="l00794"></a><span class="lineno">  794</span>&#160; </div>
<div class="line"><a name="l00795"></a><span class="lineno">  795</span>&#160;        <a class="code" href="hx711_8h.html#a181b141560a3092296327d82b132b74b">HX711_MUTEX_BLOCK</a>(hxm-&gt;<a class="code" href="structhx711__multi__t.html#a9bf13556ba6f34181172ca641356ac7f">_mut</a>, </div>
<div class="line"><a name="l00796"></a><span class="lineno">  796</span>&#160; </div>
<div class="line"><a name="l00797"></a><span class="lineno">  797</span>&#160;            gpio_put(</div>
<div class="line"><a name="l00798"></a><span class="lineno">  798</span>&#160;                hxm-&gt;<a class="code" href="structhx711__multi__t.html#a33f7d67f17b41ed1fde7095df906e9ac">_clock_pin</a>,</div>
<div class="line"><a name="l00799"></a><span class="lineno">  799</span>&#160;                <span class="keyword">false</span>);</div>
<div class="line"><a name="l00800"></a><span class="lineno">  800</span>&#160; </div>
<div class="line"><a name="l00801"></a><span class="lineno">  801</span>&#160;            pio_sm_init(</div>
<div class="line"><a name="l00802"></a><span class="lineno">  802</span>&#160;                hxm-&gt;<a class="code" href="structhx711__multi__t.html#ab3d6374db039d529c15616f9d82aee4d">_pio</a>,</div>
<div class="line"><a name="l00803"></a><span class="lineno">  803</span>&#160;                hxm-&gt;<a class="code" href="structhx711__multi__t.html#aa2661eaa306cb2672b361b63ed597ae7">_reader_sm</a>,</div>
<div class="line"><a name="l00804"></a><span class="lineno">  804</span>&#160;                hxm-&gt;<a class="code" href="structhx711__multi__t.html#a515cefd4640b114070381cf9ff36123c">_reader_offset</a>,</div>
<div class="line"><a name="l00805"></a><span class="lineno">  805</span>&#160;                &amp;hxm-&gt;<a class="code" href="structhx711__multi__t.html#a81e451bd6e4527449d54769b7e6d77cd">_reader_default_config</a>);</div>
<div class="line"><a name="l00806"></a><span class="lineno">  806</span>&#160; </div>
<div class="line"><a name="l00807"></a><span class="lineno">  807</span>&#160;            pio_sm_clear_fifos(</div>
<div class="line"><a name="l00808"></a><span class="lineno">  808</span>&#160;                hxm-&gt;<a class="code" href="structhx711__multi__t.html#ab3d6374db039d529c15616f9d82aee4d">_pio</a>,</div>
<div class="line"><a name="l00809"></a><span class="lineno">  809</span>&#160;                hxm-&gt;<a class="code" href="structhx711__multi__t.html#aa2661eaa306cb2672b361b63ed597ae7">_reader_sm</a>);</div>
<div class="line"><a name="l00810"></a><span class="lineno">  810</span>&#160; </div>
<div class="line"><a name="l00811"></a><span class="lineno">  811</span>&#160;            <span class="comment">//put the gain value into the reader FIFO</span></div>
<div class="line"><a name="l00812"></a><span class="lineno">  812</span>&#160;            pio_sm_put(</div>
<div class="line"><a name="l00813"></a><span class="lineno">  813</span>&#160;                hxm-&gt;<a class="code" href="structhx711__multi__t.html#ab3d6374db039d529c15616f9d82aee4d">_pio</a>,</div>
<div class="line"><a name="l00814"></a><span class="lineno">  814</span>&#160;                hxm-&gt;<a class="code" href="structhx711__multi__t.html#aa2661eaa306cb2672b361b63ed597ae7">_reader_sm</a>,</div>
<div class="line"><a name="l00815"></a><span class="lineno">  815</span>&#160;                pioGainVal);</div>
<div class="line"><a name="l00816"></a><span class="lineno">  816</span>&#160; </div>
<div class="line"><a name="l00817"></a><span class="lineno">  817</span>&#160;            pio_sm_init(</div>
<div class="line"><a name="l00818"></a><span class="lineno">  818</span>&#160;                hxm-&gt;<a class="code" href="structhx711__multi__t.html#ab3d6374db039d529c15616f9d82aee4d">_pio</a>,</div>
<div class="line"><a name="l00819"></a><span class="lineno">  819</span>&#160;                hxm-&gt;<a class="code" href="structhx711__multi__t.html#a211234c86c060caa17050587b5dfe07e">_awaiter_sm</a>,</div>
<div class="line"><a name="l00820"></a><span class="lineno">  820</span>&#160;                hxm-&gt;<a class="code" href="structhx711__multi__t.html#ab8fb59d650c294bf0aaee0e3ffdc627a">_awaiter_offset</a>,</div>
<div class="line"><a name="l00821"></a><span class="lineno">  821</span>&#160;                &amp;hxm-&gt;<a class="code" href="structhx711__multi__t.html#a21e131b963c8608e881110a018a34244">_awaiter_default_config</a>);</div>
<div class="line"><a name="l00822"></a><span class="lineno">  822</span>&#160; </div>
<div class="line"><a name="l00823"></a><span class="lineno">  823</span>&#160;            pio_set_sm_mask_enabled(</div>
<div class="line"><a name="l00824"></a><span class="lineno">  824</span>&#160;                hxm-&gt;<a class="code" href="structhx711__multi__t.html#ab3d6374db039d529c15616f9d82aee4d">_pio</a>,</div>
<div class="line"><a name="l00825"></a><span class="lineno">  825</span>&#160;                (1 &lt;&lt; hxm-&gt;<a class="code" href="structhx711__multi__t.html#a211234c86c060caa17050587b5dfe07e">_awaiter_sm</a>) | (1 &lt;&lt; hxm-&gt;<a class="code" href="structhx711__multi__t.html#aa2661eaa306cb2672b361b63ed597ae7">_reader_sm</a>),</div>
<div class="line"><a name="l00826"></a><span class="lineno">  826</span>&#160;                <span class="keyword">true</span>);</div>
<div class="line"><a name="l00827"></a><span class="lineno">  827</span>&#160; </div>
<div class="line"><a name="l00828"></a><span class="lineno">  828</span>&#160;        );</div>
<div class="line"><a name="l00829"></a><span class="lineno">  829</span>&#160; </div>
<div class="line"><a name="l00830"></a><span class="lineno">  830</span>&#160;}</div>
<div class="ttc" id="ahx711_8h_html_a9d49aa265c24f678bd120470f4c834f3"><div class="ttname"><a href="hx711_8h.html#a9d49aa265c24f678bd120470f4c834f3">hx711_is_pio_gain_valid</a></div><div class="ttdeci">bool hx711_is_pio_gain_valid(const uint32_t g)</div><div class="ttdoc">Check whether a given value is permitted to be transmitted to a PIO State Machine to set a HX711's ga...</div><div class="ttdef"><b>Definition:</b> <a href="hx711_8c_source.html#l00368">hx711.c:368</a></div></div>
<div class="ttc" id="ahx711_8h_html_ad50ae5d64b821555b8e8278dfc5aab49"><div class="ttname"><a href="hx711_8h.html#ad50ae5d64b821555b8e8278dfc5aab49">hx711_gain_to_pio_gain</a></div><div class="ttdeci">uint32_t hx711_gain_to_pio_gain(const hx711_gain_t gain)</div><div class="ttdoc">Convert a hx711_gain_t to a numeric value appropriate for a PIO State Machine.</div><div class="ttdef"><b>Definition:</b> <a href="hx711_8c_source.html#l00495">hx711.c:495</a></div></div>
<div class="ttc" id="astructhx711__multi__t_html_a21e131b963c8608e881110a018a34244"><div class="ttname"><a href="structhx711__multi__t.html#a21e131b963c8608e881110a018a34244">hx711_multi_t::_awaiter_default_config</a></div><div class="ttdeci">pio_sm_config _awaiter_default_config</div><div class="ttdef"><b>Definition:</b> <a href="hx711__multi_8h_source.html#l00101">hx711_multi.h:101</a></div></div>
<div class="ttc" id="astructhx711__multi__t_html_a81e451bd6e4527449d54769b7e6d77cd"><div class="ttname"><a href="structhx711__multi__t.html#a81e451bd6e4527449d54769b7e6d77cd">hx711_multi_t::_reader_default_config</a></div><div class="ttdeci">pio_sm_config _reader_default_config</div><div class="ttdef"><b>Definition:</b> <a href="hx711__multi_8h_source.html#l00106">hx711_multi.h:106</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="hx711__multi_8h_source.html#l00101">hx711_multi_t::_awaiter_default_config</a>, <a class="el" href="hx711__multi_8h_source.html#l00103">hx711_multi_t::_awaiter_offset</a>, <a class="el" href="hx711__multi_8h_source.html#l00102">hx711_multi_t::_awaiter_sm</a>, <a class="el" href="hx711__multi_8h_source.html#l00094">hx711_multi_t::_clock_pin</a>, <a class="el" href="hx711__multi_8h_source.html#l00119">hx711_multi_t::_mut</a>, <a class="el" href="hx711__multi_8h_source.html#l00098">hx711_multi_t::_pio</a>, <a class="el" href="hx711__multi_8h_source.html#l00106">hx711_multi_t::_reader_default_config</a>, <a class="el" href="hx711__multi_8h_source.html#l00108">hx711_multi_t::_reader_offset</a>, <a class="el" href="hx711__multi_8h_source.html#l00107">hx711_multi_t::_reader_sm</a>, <a class="el" href="hx711_8c_source.html#l00495">hx711_gain_to_pio_gain()</a>, <a class="el" href="hx711_8c_source.html#l00368">hx711_is_pio_gain_valid()</a>, <a class="el" href="hx711__multi_8c_source.html#l00441">hx711_multi__is_initd()</a>, and <a class="el" href="hx711_8h_source.html#l00036">HX711_MUTEX_BLOCK</a>.</p>

<p class="reference">Referenced by <a class="el" href="hx711__multi_8c_source.html#l00855">hx711_multi_sync()</a>.</p>

</div>
</div>
<a id="a32b3566dfeeccbe81e1cb12be6414275"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a32b3566dfeeccbe81e1cb12be6414275">&#9670;&nbsp;</a></span>hx711_multi_set_gain()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void hx711_multi_set_gain </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structhx711__multi__t.html">hx711_multi_t</a> *const&#160;</td>
          <td class="paramname"><em>hxm</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="hx711_8h.html#acadec7365abc52889994131164536304">hx711_gain_t</a>&#160;</td>
          <td class="paramname"><em>gain</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Sets the HX711s' gain. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">hxm</td><td></td></tr>
    <tr><td class="paramname">gain</td><td></td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="hx711__multi_8c_source.html#l00657">657</a> of file <a class="el" href="hx711__multi_8c_source.html">hx711_multi.c</a>.</p>
<div class="fragment"><div class="line"><a name="l00659"></a><span class="lineno">  659</span>&#160;                             {</div>
<div class="line"><a name="l00660"></a><span class="lineno">  660</span>&#160; </div>
<div class="line"><a name="l00661"></a><span class="lineno">  661</span>&#160;        assert(<a class="code" href="hx711__multi_8c.html#a621b39fc9bc2ef68c8c8d8d453c9d936">hx711_multi__is_state_machines_enabled</a>(hxm));</div>
<div class="line"><a name="l00662"></a><span class="lineno">  662</span>&#160; </div>
<div class="line"><a name="l00663"></a><span class="lineno">  663</span>&#160;        <span class="keyword">const</span> uint32_t gainVal = <a class="code" href="hx711_8h.html#ad50ae5d64b821555b8e8278dfc5aab49">hx711_gain_to_pio_gain</a>(gain);</div>
<div class="line"><a name="l00664"></a><span class="lineno">  664</span>&#160; </div>
<div class="line"><a name="l00665"></a><span class="lineno">  665</span>&#160;        assert(<a class="code" href="hx711_8h.html#a9d49aa265c24f678bd120470f4c834f3">hx711_is_pio_gain_valid</a>(gain));</div>
<div class="line"><a name="l00666"></a><span class="lineno">  666</span>&#160; </div>
<div class="line"><a name="l00667"></a><span class="lineno">  667</span>&#160;        pio_sm_drain_tx_fifo(</div>
<div class="line"><a name="l00668"></a><span class="lineno">  668</span>&#160;            hxm-&gt;<a class="code" href="structhx711__multi__t.html#ab3d6374db039d529c15616f9d82aee4d">_pio</a>,</div>
<div class="line"><a name="l00669"></a><span class="lineno">  669</span>&#160;            hxm-&gt;<a class="code" href="structhx711__multi__t.html#aa2661eaa306cb2672b361b63ed597ae7">_reader_sm</a>);</div>
<div class="line"><a name="l00670"></a><span class="lineno">  670</span>&#160; </div>
<div class="line"><a name="l00671"></a><span class="lineno">  671</span>&#160;        pio_sm_put(</div>
<div class="line"><a name="l00672"></a><span class="lineno">  672</span>&#160;            hxm-&gt;<a class="code" href="structhx711__multi__t.html#ab3d6374db039d529c15616f9d82aee4d">_pio</a>,</div>
<div class="line"><a name="l00673"></a><span class="lineno">  673</span>&#160;            hxm-&gt;<a class="code" href="structhx711__multi__t.html#aa2661eaa306cb2672b361b63ed597ae7">_reader_sm</a>,</div>
<div class="line"><a name="l00674"></a><span class="lineno">  674</span>&#160;            gainVal);</div>
<div class="line"><a name="l00675"></a><span class="lineno">  675</span>&#160; </div>
<div class="line"><a name="l00676"></a><span class="lineno">  676</span>&#160;        <a class="code" href="hx711__multi_8c.html#a9c9274eff10f09f15bcd583bc7be58a5">hx711_multi_async_start</a>(hxm);</div>
<div class="line"><a name="l00677"></a><span class="lineno">  677</span>&#160; </div>
<div class="line"><a name="l00678"></a><span class="lineno">  678</span>&#160;        <span class="keywordflow">while</span>(!<a class="code" href="hx711__multi_8c.html#a8269b0d05acff95be2ebd4e572687bc4">hx711_multi_async_done</a>(hxm)) {</div>
<div class="line"><a name="l00679"></a><span class="lineno">  679</span>&#160;            tight_loop_contents();</div>
<div class="line"><a name="l00680"></a><span class="lineno">  680</span>&#160;        }</div>
<div class="line"><a name="l00681"></a><span class="lineno">  681</span>&#160; </div>
<div class="line"><a name="l00682"></a><span class="lineno">  682</span>&#160;}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="hx711__multi_8h_source.html#l00098">hx711_multi_t::_pio</a>, <a class="el" href="hx711__multi_8h_source.html#l00107">hx711_multi_t::_reader_sm</a>, <a class="el" href="hx711_8c_source.html#l00495">hx711_gain_to_pio_gain()</a>, <a class="el" href="hx711_8c_source.html#l00368">hx711_is_pio_gain_valid()</a>, <a class="el" href="hx711__multi_8c_source.html#l00457">hx711_multi__is_state_machines_enabled()</a>, <a class="el" href="hx711__multi_8c_source.html#l00769">hx711_multi_async_done()</a>, and <a class="el" href="hx711__multi_8c_source.html#l00736">hx711_multi_async_start()</a>.</p>

</div>
</div>
<a id="ab9a42d50573f8c29d24fab9fd38be364"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab9a42d50573f8c29d24fab9fd38be364">&#9670;&nbsp;</a></span>hx711_multi_sync()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void hx711_multi_sync </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structhx711__multi__t.html">hx711_multi_t</a> *const&#160;</td>
          <td class="paramname"><em>hxm</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="hx711_8h.html#acadec7365abc52889994131164536304">hx711_gain_t</a>&#160;</td>
          <td class="paramname"><em>gain</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Attempt to synchronise all connected chips. This does not include a settling time. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">hxm</td><td></td></tr>
    <tr><td class="paramname">gain</td><td>initial gain to set to all chips </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="hx711__multi_8c_source.html#l00855">855</a> of file <a class="el" href="hx711__multi_8c_source.html">hx711_multi.c</a>.</p>
<div class="fragment"><div class="line"><a name="l00857"></a><span class="lineno">  857</span>&#160;                             {</div>
<div class="line"><a name="l00858"></a><span class="lineno">  858</span>&#160;        assert(<a class="code" href="hx711__multi_8c.html#ab0393c7baee372f5381b5ecce4aedcb1">hx711_multi__is_initd</a>(hxm));</div>
<div class="line"><a name="l00859"></a><span class="lineno">  859</span>&#160;        <a class="code" href="hx711__multi_8c.html#a5b5c5b4cf8da3d3e656b112edc7a876e">hx711_multi_power_down</a>(hxm);</div>
<div class="line"><a name="l00860"></a><span class="lineno">  860</span>&#160;        <a class="code" href="hx711_8h.html#a9704cade29e5a335769a4343e24c90b2">hx711_wait_power_down</a>();</div>
<div class="line"><a name="l00861"></a><span class="lineno">  861</span>&#160;        <a class="code" href="hx711__multi_8c.html#a1b9f2e241ae4b2deea43482e8057064d">hx711_multi_power_up</a>(hxm, gain);</div>
<div class="line"><a name="l00862"></a><span class="lineno">  862</span>&#160;}</div>
<div class="ttc" id="ahx711_8h_html_a9704cade29e5a335769a4343e24c90b2"><div class="ttname"><a href="hx711_8h.html#a9704cade29e5a335769a4343e24c90b2">hx711_wait_power_down</a></div><div class="ttdeci">void hx711_wait_power_down()</div><div class="ttdoc">Convenience function for sleeping for the appropriate amount of time to allow the HX711 to power down...</div><div class="ttdef"><b>Definition:</b> <a href="hx711_8c_source.html#l00491">hx711.c:491</a></div></div>
<div class="ttc" id="ahx711__multi_8c_html_a1b9f2e241ae4b2deea43482e8057064d"><div class="ttname"><a href="hx711__multi_8c.html#a1b9f2e241ae4b2deea43482e8057064d">hx711_multi_power_up</a></div><div class="ttdeci">void hx711_multi_power_up(hx711_multi_t *const hxm, const hx711_gain_t gain)</div><div class="ttdef"><b>Definition:</b> <a href="hx711__multi_8c_source.html#l00785">hx711_multi.c:785</a></div></div>
<div class="ttc" id="ahx711__multi_8c_html_a5b5c5b4cf8da3d3e656b112edc7a876e"><div class="ttname"><a href="hx711__multi_8c.html#a5b5c5b4cf8da3d3e656b112edc7a876e">hx711_multi_power_down</a></div><div class="ttdeci">void hx711_multi_power_down(hx711_multi_t *const hxm)</div><div class="ttdef"><b>Definition:</b> <a href="hx711__multi_8c_source.html#l00832">hx711_multi.c:832</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="hx711__multi_8c_source.html#l00441">hx711_multi__is_initd()</a>, <a class="el" href="hx711__multi_8c_source.html#l00832">hx711_multi_power_down()</a>, <a class="el" href="hx711__multi_8c_source.html#l00785">hx711_multi_power_up()</a>, and <a class="el" href="hx711_8c_source.html#l00491">hx711_wait_power_down()</a>.</p>

</div>
</div>
<h2 class="groupheader">Variable Documentation</h2>
<a id="af340b1352189f97c2a27b5c482aafb22"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af340b1352189f97c2a27b5c482aafb22">&#9670;&nbsp;</a></span>hx711_multi__async_read_array</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structhx711__multi__t.html">hx711_multi_t</a>* hx711_multi__async_read_array[]</td>
        </tr>
      </table>
</div><div class="memdoc">
<b>Initial value:</b><div class="fragment"><div class="line">= {</div>
<div class="line">    NULL, </div>
<div class="line">}</div>
</div><!-- fragment -->
<p>Array of hxm for ISR to access. This is a global variable. </p>

<p class="definition">Definition at line <a class="el" href="hx711__multi_8c_source.html#l00040">40</a> of file <a class="el" href="hx711__multi_8c_source.html">hx711_multi.c</a>.</p>

<p class="reference">Referenced by <a class="el" href="hx711__multi_8c_source.html#l00407">hx711_multi__async_add_reader()</a>, <a class="el" href="hx711__multi_8c_source.html#l00256">hx711_multi__async_get_dma_irq_request()</a>, <a class="el" href="hx711__multi_8c_source.html#l00276">hx711_multi__async_get_pio_irq_request()</a>, and <a class="el" href="hx711__multi_8c_source.html#l00423">hx711_multi__async_remove_reader()</a>.</p>

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="dir_68267d1309a1af8e8297ef4c3efbcdba.html">src</a></li><li class="navelem"><a class="el" href="hx711__multi_8c.html">hx711_multi.c</a></li>
    <li class="footer">Generated on Sun Feb 26 2023 12:38:55 for hx711-pico-c by <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.1 </li>
  </ul>
</div>
</body>
</html>
